(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ic={exports:{}},gs={},Lc={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),vf=Symbol.for("react.portal"),jf=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),wf=Symbol.for("react.provider"),kf=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),_f=Symbol.for("react.memo"),Ef=Symbol.for("react.lazy"),ma=Symbol.iterator;function Rf(e){return e===null||typeof e!="object"?null:(e=ma&&e[ma]||e["@@iterator"],typeof e=="function"?e:null)}var Pc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zc=Object.assign,Dc={};function dr(e,t,n){this.props=e,this.context=t,this.refs=Dc,this.updater=n||Pc}dr.prototype.isReactComponent={};dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fc(){}Fc.prototype=dr.prototype;function uo(e,t,n){this.props=e,this.context=t,this.refs=Dc,this.updater=n||Pc}var fo=uo.prototype=new Fc;fo.constructor=uo;zc(fo,dr.prototype);fo.isPureReactComponent=!0;var xa=Array.isArray,Ac=Object.prototype.hasOwnProperty,po={current:null},Bc={key:!0,ref:!0,__self:!0,__source:!0};function Oc(e,t,n){var l,s={},i=null,o=null;if(t!=null)for(l in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ac.call(t,l)&&!Bc.hasOwnProperty(l)&&(s[l]=t[l]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(l in a=e.defaultProps,a)s[l]===void 0&&(s[l]=a[l]);return{$$typeof:ll,type:e,key:i,ref:o,props:s,_owner:po.current}}function Tf(e,t){return{$$typeof:ll,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ho(e){return typeof e=="object"&&e!==null&&e.$$typeof===ll}function If(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ga=/\/+/g;function Ms(e,t){return typeof e=="object"&&e!==null&&e.key!=null?If(""+e.key):t.toString(36)}function Ll(e,t,n,l,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ll:case vf:o=!0}}if(o)return o=e,s=s(o),e=l===""?"."+Ms(o,0):l,xa(s)?(n="",e!=null&&(n=e.replace(ga,"$&/")+"/"),Ll(s,t,n,"",function(d){return d})):s!=null&&(ho(s)&&(s=Tf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ga,"$&/")+"/")+e)),t.push(s)),1;if(o=0,l=l===""?".":l+":",xa(e))for(var a=0;a<e.length;a++){i=e[a];var c=l+Ms(i,a);o+=Ll(i,t,n,c,s)}else if(c=Rf(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=l+Ms(i,a++),o+=Ll(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pl(e,t,n){if(e==null)return e;var l=[],s=0;return Ll(e,l,"","",function(i){return t.call(n,i,s++)}),l}function Lf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},Pl={transition:null},Pf={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Pl,ReactCurrentOwner:po};function Mc(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:pl,forEach:function(e,t,n){pl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pl(e,function(){t++}),t},toArray:function(e){return pl(e,function(t){return t})||[]},only:function(e){if(!ho(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=dr;se.Fragment=jf;se.Profiler=bf;se.PureComponent=uo;se.StrictMode=Sf;se.Suspense=Nf;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pf;se.act=Mc;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=zc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=po.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ac.call(t,c)&&!Bc.hasOwnProperty(c)&&(l[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];l.children=a}return{$$typeof:ll,type:e.type,key:s,ref:i,props:l,_owner:o}};se.createContext=function(e){return e={$$typeof:kf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wf,_context:e},e.Consumer=e};se.createElement=Oc;se.createFactory=function(e){var t=Oc.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Cf,render:e}};se.isValidElement=ho;se.lazy=function(e){return{$$typeof:Ef,_payload:{_status:-1,_result:e},_init:Lf}};se.memo=function(e,t){return{$$typeof:_f,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Pl.transition;Pl.transition={};try{e()}finally{Pl.transition=t}};se.unstable_act=Mc;se.useCallback=function(e,t){return Ye.current.useCallback(e,t)};se.useContext=function(e){return Ye.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};se.useEffect=function(e,t){return Ye.current.useEffect(e,t)};se.useId=function(){return Ye.current.useId()};se.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Ye.current.useMemo(e,t)};se.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};se.useRef=function(e){return Ye.current.useRef(e)};se.useState=function(e){return Ye.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return Ye.current.useTransition()};se.version="18.3.1";Lc.exports=se;var h=Lc.exports;const Wc=yf(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=h,Df=Symbol.for("react.element"),Ff=Symbol.for("react.fragment"),Af=Object.prototype.hasOwnProperty,Bf=zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Of={key:!0,ref:!0,__self:!0,__source:!0};function Vc(e,t,n){var l,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(l in t)Af.call(t,l)&&!Of.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)s[l]===void 0&&(s[l]=t[l]);return{$$typeof:Df,type:e,key:i,ref:o,props:s,_owner:Bf.current}}gs.Fragment=Ff;gs.jsx=Vc;gs.jsxs=Vc;Ic.exports=gs;var r=Ic.exports,mi={},$c={exports:{}},ut={},Uc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,T){var Y=R.length;R.push(T);e:for(;0<Y;){var X=Y-1>>>1,oe=R[X];if(0<s(oe,T))R[X]=T,R[Y]=oe,Y=X;else break e}}function n(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var T=R[0],Y=R.pop();if(Y!==T){R[0]=Y;e:for(var X=0,oe=R.length,ve=oe>>>1;X<ve;){var Ee=2*(X+1)-1,z=R[Ee],Z=Ee+1,ee=R[Z];if(0>s(z,Y))Z<oe&&0>s(ee,z)?(R[X]=ee,R[Z]=Y,X=Z):(R[X]=z,R[Ee]=Y,X=Ee);else if(Z<oe&&0>s(ee,Y))R[X]=ee,R[Z]=Y,X=Z;else break e}}return T}function s(R,T){var Y=R.sortIndex-T.sortIndex;return Y!==0?Y:R.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,g=null,x=3,y=!1,j=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(R){for(var T=n(d);T!==null;){if(T.callback===null)l(d);else if(T.startTime<=R)l(d),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(d)}}function v(R){if(S=!1,p(R),!j)if(n(c)!==null)j=!0,H(C);else{var T=n(d);T!==null&&U(v,T.startTime-R)}}function C(R,T){j=!1,S&&(S=!1,u(E),E=-1),y=!0;var Y=x;try{for(p(T),g=n(c);g!==null&&(!(g.expirationTime>T)||R&&!K());){var X=g.callback;if(typeof X=="function"){g.callback=null,x=g.priorityLevel;var oe=X(g.expirationTime<=T);T=e.unstable_now(),typeof oe=="function"?g.callback=oe:g===n(c)&&l(c),p(T)}else l(c);g=n(c)}if(g!==null)var ve=!0;else{var Ee=n(d);Ee!==null&&U(v,Ee.startTime-T),ve=!1}return ve}finally{g=null,x=Y,y=!1}}var w=!1,b=null,E=-1,L=5,I=-1;function K(){return!(e.unstable_now()-I<L)}function W(){if(b!==null){var R=e.unstable_now();I=R;var T=!0;try{T=b(!0,R)}finally{T?V():(w=!1,b=null)}}else w=!1}var V;if(typeof m=="function")V=function(){m(W)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,_=P.port2;P.port1.onmessage=W,V=function(){_.postMessage(null)}}else V=function(){k(W,0)};function H(R){b=R,w||(w=!0,V())}function U(R,T){E=k(function(){R(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,H(C))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var T=3;break;default:T=x}var Y=x;x=T;try{return R()}finally{x=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,T){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Y=x;x=R;try{return T()}finally{x=Y}},e.unstable_scheduleCallback=function(R,T,Y){var X=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?X+Y:X):Y=X,R){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Y+oe,R={id:f++,callback:T,priorityLevel:R,startTime:Y,expirationTime:oe,sortIndex:-1},Y>X?(R.sortIndex=Y,t(d,R),n(c)===null&&R===n(d)&&(S?(u(E),E=-1):S=!0,U(v,Y-X))):(R.sortIndex=oe,t(c,R),j||y||(j=!0,H(C))),R},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(R){var T=x;return function(){var Y=x;x=T;try{return R.apply(this,arguments)}finally{x=Y}}}})(Hc);Uc.exports=Hc;var Mf=Uc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=h,dt=Mf;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qc=new Set,Mr={};function Dn(e,t){rr(e,t),rr(e+"Capture",t)}function rr(e,t){for(Mr[e]=t,e=0;e<t.length;e++)Qc.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=Object.prototype.hasOwnProperty,Vf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ya={},va={};function $f(e){return xi.call(va,e)?!0:xi.call(ya,e)?!1:Vf.test(e)?va[e]=!0:(ya[e]=!0,!1)}function Uf(e,t,n,l){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hf(e,t,n,l){if(t===null||typeof t>"u"||Uf(e,t,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,l,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var mo=/[\-:]([a-z])/g;function xo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mo,xo);Ae[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mo,xo);Ae[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mo,xo);Ae[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function go(e,t,n,l){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hf(t,n,s,l)&&(n=null),l||s===null?$f(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,l=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,l?e.setAttributeNS(l,t,n):e.setAttribute(t,n))))}var Kt=Wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hl=Symbol.for("react.element"),On=Symbol.for("react.portal"),Mn=Symbol.for("react.fragment"),yo=Symbol.for("react.strict_mode"),gi=Symbol.for("react.profiler"),Yc=Symbol.for("react.provider"),qc=Symbol.for("react.context"),vo=Symbol.for("react.forward_ref"),yi=Symbol.for("react.suspense"),vi=Symbol.for("react.suspense_list"),jo=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Kc=Symbol.for("react.offscreen"),ja=Symbol.iterator;function yr(e){return e===null||typeof e!="object"?null:(e=ja&&e[ja]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Ws;function _r(e){if(Ws===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ws=t&&t[1]||""}return`
`+Ws+e}var Vs=!1;function $s(e,t){if(!e||Vs)return"";Vs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var l=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){l=d}e.call(t.prototype)}else{try{throw Error()}catch(d){l=d}e()}}catch(d){if(d&&l&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=l.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Vs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_r(e):""}function Qf(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=$s(e.type,!1),e;case 11:return e=$s(e.type.render,!1),e;case 1:return e=$s(e.type,!0),e;default:return""}}function ji(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mn:return"Fragment";case On:return"Portal";case gi:return"Profiler";case yo:return"StrictMode";case yi:return"Suspense";case vi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qc:return(e.displayName||"Context")+".Consumer";case Yc:return(e._context.displayName||"Context")+".Provider";case vo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jo:return t=e.displayName||null,t!==null?t:ji(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return ji(e(t))}catch{}}return null}function Yf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ji(t);case 8:return t===yo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qf(e){var t=Gc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){l=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(o){l=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ml(e){e._valueTracker||(e._valueTracker=qf(e))}function Xc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Gc(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Si(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sa(e,t){var n=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;n=hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:l,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jc(e,t){t=t.checked,t!=null&&go(e,"checked",t,!1)}function bi(e,t){Jc(e,t);var n=hn(t.value),l=t.type;if(n!=null)l==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wi(e,t.type,n):t.hasOwnProperty("defaultValue")&&wi(e,t.type,hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ba(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wi(e,t,n){(t!=="number"||Ql(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Er=Array.isArray;function Xn(e,t,n,l){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&l&&(e[n].defaultSelected=!0)}else{for(n=""+hn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ki(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Er(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hn(n)}}function Zc(e,t){var n=hn(t.value),l=hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),l!=null&&(e.defaultValue=""+l)}function ka(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ed(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ci(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ed(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xl,td=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,l,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,l,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kf=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(e){Kf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ir[t]=Ir[e]})});function nd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ir.hasOwnProperty(e)&&Ir[e]?(""+t).trim():t+"px"}function rd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var l=n.indexOf("--")===0,s=nd(n,t[n],l);n==="float"&&(n="cssFloat"),l?e.setProperty(n,s):e[n]=s}}var Gf=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ni(e,t){if(t){if(Gf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function _i(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ei=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ri=null,Jn=null,Zn=null;function Ca(e){if(e=ol(e)){if(typeof Ri!="function")throw Error(F(280));var t=e.stateNode;t&&(t=bs(t),Ri(e.stateNode,e.type,t))}}function ld(e){Jn?Zn?Zn.push(e):Zn=[e]:Jn=e}function sd(){if(Jn){var e=Jn,t=Zn;if(Zn=Jn=null,Ca(e),t)for(e=0;e<t.length;e++)Ca(t[e])}}function id(e,t){return e(t)}function od(){}var Us=!1;function ad(e,t,n){if(Us)return e(t,n);Us=!0;try{return id(e,t,n)}finally{Us=!1,(Jn!==null||Zn!==null)&&(od(),sd())}}function Vr(e,t){var n=e.stateNode;if(n===null)return null;var l=bs(n);if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Ti=!1;if(Ut)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){Ti=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{Ti=!1}function Xf(e,t,n,l,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Lr=!1,Yl=null,ql=!1,Ii=null,Jf={onError:function(e){Lr=!0,Yl=e}};function Zf(e,t,n,l,s,i,o,a,c){Lr=!1,Yl=null,Xf.apply(Jf,arguments)}function ep(e,t,n,l,s,i,o,a,c){if(Zf.apply(this,arguments),Lr){if(Lr){var d=Yl;Lr=!1,Yl=null}else throw Error(F(198));ql||(ql=!0,Ii=d)}}function Fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Na(e){if(Fn(e)!==e)throw Error(F(188))}function tp(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,l=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(l=s.return,l!==null){n=l;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Na(s),e;if(i===l)return Na(s),t;i=i.sibling}throw Error(F(188))}if(n.return!==l.return)n=s,l=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,l=i;break}if(a===l){o=!0,l=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,l=s;break}if(a===l){o=!0,l=i,n=s;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==l)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function dd(e){return e=tp(e),e!==null?ud(e):null}function ud(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ud(e);if(t!==null)return t;e=e.sibling}return null}var fd=dt.unstable_scheduleCallback,_a=dt.unstable_cancelCallback,np=dt.unstable_shouldYield,rp=dt.unstable_requestPaint,ke=dt.unstable_now,lp=dt.unstable_getCurrentPriorityLevel,bo=dt.unstable_ImmediatePriority,pd=dt.unstable_UserBlockingPriority,Kl=dt.unstable_NormalPriority,sp=dt.unstable_LowPriority,hd=dt.unstable_IdlePriority,ys=null,zt=null;function ip(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ys,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:cp,op=Math.log,ap=Math.LN2;function cp(e){return e>>>=0,e===0?32:31-(op(e)/ap|0)|0}var gl=64,yl=4194304;function Rr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var l=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?l=Rr(a):(i&=o,i!==0&&(l=Rr(i)))}else o=n&~s,o!==0?l=Rr(o):i!==0&&(l=Rr(i));if(l===0)return 0;if(t!==0&&t!==l&&!(t&s)&&(s=l&-l,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(l&4&&(l|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)n=31-Ct(t),s=1<<n,l|=e[n],t&=~s;return l}function dp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function up(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ct(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&l)&&(s[o]=dp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Li(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function md(){var e=gl;return gl<<=1,!(gl&4194240)&&(gl=64),e}function Hs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function fp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ct(n),i=1<<s;t[s]=0,l[s]=-1,e[s]=-1,n&=~i}}function wo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ct(n),s=1<<l;s&t|e[l]&t&&(e[l]|=t),n&=~s}}var ue=0;function xd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gd,ko,yd,vd,jd,Pi=!1,vl=[],sn=null,on=null,an=null,$r=new Map,Ur=new Map,tn=[],pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ea(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":$r.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function jr(e,t,n,l,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ol(t),t!==null&&ko(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hp(e,t,n,l,s){switch(t){case"focusin":return sn=jr(sn,e,t,n,l,s),!0;case"dragenter":return on=jr(on,e,t,n,l,s),!0;case"mouseover":return an=jr(an,e,t,n,l,s),!0;case"pointerover":var i=s.pointerId;return $r.set(i,jr($r.get(i)||null,e,t,n,l,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,jr(Ur.get(i)||null,e,t,n,l,s)),!0}return!1}function Sd(e){var t=Cn(e.target);if(t!==null){var n=Fn(t);if(n!==null){if(t=n.tag,t===13){if(t=cd(n),t!==null){e.blockedOn=t,jd(e.priority,function(){yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Ei=l,n.target.dispatchEvent(l),Ei=null}else return t=ol(n),t!==null&&ko(t),e.blockedOn=n,!1;t.shift()}return!0}function Ra(e,t,n){zl(e)&&n.delete(t)}function mp(){Pi=!1,sn!==null&&zl(sn)&&(sn=null),on!==null&&zl(on)&&(on=null),an!==null&&zl(an)&&(an=null),$r.forEach(Ra),Ur.forEach(Ra)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Pi||(Pi=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,mp)))}function Hr(e){function t(s){return Sr(s,e)}if(0<vl.length){Sr(vl[0],e);for(var n=1;n<vl.length;n++){var l=vl[n];l.blockedOn===e&&(l.blockedOn=null)}}for(sn!==null&&Sr(sn,e),on!==null&&Sr(on,e),an!==null&&Sr(an,e),$r.forEach(t),Ur.forEach(t),n=0;n<tn.length;n++)l=tn[n],l.blockedOn===e&&(l.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)Sd(n),n.blockedOn===null&&tn.shift()}var er=Kt.ReactCurrentBatchConfig,Xl=!0;function xp(e,t,n,l){var s=ue,i=er.transition;er.transition=null;try{ue=1,Co(e,t,n,l)}finally{ue=s,er.transition=i}}function gp(e,t,n,l){var s=ue,i=er.transition;er.transition=null;try{ue=4,Co(e,t,n,l)}finally{ue=s,er.transition=i}}function Co(e,t,n,l){if(Xl){var s=zi(e,t,n,l);if(s===null)ti(e,t,l,Jl,n),Ea(e,l);else if(hp(s,e,t,n,l))l.stopPropagation();else if(Ea(e,l),t&4&&-1<pp.indexOf(e)){for(;s!==null;){var i=ol(s);if(i!==null&&gd(i),i=zi(e,t,n,l),i===null&&ti(e,t,l,Jl,n),i===s)break;s=i}s!==null&&l.stopPropagation()}else ti(e,t,l,null,n)}}var Jl=null;function zi(e,t,n,l){if(Jl=null,e=So(l),e=Cn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jl=e,null}function bd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lp()){case bo:return 1;case pd:return 4;case Kl:case sp:return 16;case hd:return 536870912;default:return 16}default:return 16}}var rn=null,No=null,Dl=null;function wd(){if(Dl)return Dl;var e,t=No,n=t.length,l,s="value"in rn?rn.value:rn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(l=1;l<=o&&t[n-l]===s[i-l];l++);return Dl=s.slice(e,1<l?1-l:void 0)}function Fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jl(){return!0}function Ta(){return!1}function ft(e){function t(n,l,s,i,o){this._reactName=n,this._targetInst=s,this.type=l,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jl:Ta,this.isPropagationStopped=Ta,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=ft(ur),il=be({},ur,{view:0,detail:0}),yp=ft(il),Qs,Ys,br,vs=be({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(Qs=e.screenX-br.screenX,Ys=e.screenY-br.screenY):Ys=Qs=0,br=e),Qs)},movementY:function(e){return"movementY"in e?e.movementY:Ys}}),Ia=ft(vs),vp=be({},vs,{dataTransfer:0}),jp=ft(vp),Sp=be({},il,{relatedTarget:0}),qs=ft(Sp),bp=be({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),wp=ft(bp),kp=be({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cp=ft(kp),Np=be({},ur,{data:0}),La=ft(Np),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rp[e])?!!t[e]:!1}function Eo(){return Tp}var Ip=be({},il,{key:function(e){if(e.key){var t=_p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(e){return e.type==="keypress"?Fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lp=ft(Ip),Pp=be({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=ft(Pp),zp=be({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),Dp=ft(zp),Fp=be({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ap=ft(Fp),Bp=be({},vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Op=ft(Bp),Mp=[9,13,27,32],Ro=Ut&&"CompositionEvent"in window,Pr=null;Ut&&"documentMode"in document&&(Pr=document.documentMode);var Wp=Ut&&"TextEvent"in window&&!Pr,kd=Ut&&(!Ro||Pr&&8<Pr&&11>=Pr),za=" ",Da=!1;function Cd(e,t){switch(e){case"keyup":return Mp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wn=!1;function Vp(e,t){switch(e){case"compositionend":return Nd(t);case"keypress":return t.which!==32?null:(Da=!0,za);case"textInput":return e=t.data,e===za&&Da?null:e;default:return null}}function $p(e,t){if(Wn)return e==="compositionend"||!Ro&&Cd(e,t)?(e=wd(),Dl=No=rn=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kd&&t.locale!=="ko"?null:t.data;default:return null}}var Up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Up[e.type]:t==="textarea"}function _d(e,t,n,l){ld(l),t=Zl(t,"onChange"),0<t.length&&(n=new _o("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var zr=null,Qr=null;function Hp(e){Bd(e,0)}function js(e){var t=Un(e);if(Xc(t))return e}function Qp(e,t){if(e==="change")return t}var Ed=!1;if(Ut){var Ks;if(Ut){var Gs="oninput"in document;if(!Gs){var Aa=document.createElement("div");Aa.setAttribute("oninput","return;"),Gs=typeof Aa.oninput=="function"}Ks=Gs}else Ks=!1;Ed=Ks&&(!document.documentMode||9<document.documentMode)}function Ba(){zr&&(zr.detachEvent("onpropertychange",Rd),Qr=zr=null)}function Rd(e){if(e.propertyName==="value"&&js(Qr)){var t=[];_d(t,Qr,e,So(e)),ad(Hp,t)}}function Yp(e,t,n){e==="focusin"?(Ba(),zr=t,Qr=n,zr.attachEvent("onpropertychange",Rd)):e==="focusout"&&Ba()}function qp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return js(Qr)}function Kp(e,t){if(e==="click")return js(t)}function Gp(e,t){if(e==="input"||e==="change")return js(t)}function Xp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Xp;function Yr(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var s=n[l];if(!xi.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function Oa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ma(e,t){var n=Oa(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oa(n)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Id(){for(var e=window,t=Ql();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ql(e.document)}return t}function To(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jp(e){var t=Id(),n=e.focusedElem,l=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Td(n.ownerDocument.documentElement,n)){if(l!==null&&To(n)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(l.start,s);l=l.end===void 0?i:Math.min(l.end,s),!e.extend&&i>l&&(s=l,l=i,i=s),s=Ma(n,i);var o=Ma(n,l);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>l?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zp=Ut&&"documentMode"in document&&11>=document.documentMode,Vn=null,Di=null,Dr=null,Fi=!1;function Wa(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fi||Vn==null||Vn!==Ql(l)||(l=Vn,"selectionStart"in l&&To(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dr&&Yr(Dr,l)||(Dr=l,l=Zl(Di,"onSelect"),0<l.length&&(t=new _o("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Vn)))}function Sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $n={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionend:Sl("Transition","TransitionEnd")},Xs={},Ld={};Ut&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function Ss(e){if(Xs[e])return Xs[e];if(!$n[e])return e;var t=$n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ld)return Xs[e]=t[n];return e}var Pd=Ss("animationend"),zd=Ss("animationiteration"),Dd=Ss("animationstart"),Fd=Ss("transitionend"),Ad=new Map,Va="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Ad.set(e,t),Dn(t,[e])}for(var Js=0;Js<Va.length;Js++){var Zs=Va[Js],eh=Zs.toLowerCase(),th=Zs[0].toUpperCase()+Zs.slice(1);xn(eh,"on"+th)}xn(Pd,"onAnimationEnd");xn(zd,"onAnimationIteration");xn(Dd,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(Fd,"onTransitionEnd");rr("onMouseEnter",["mouseout","mouseover"]);rr("onMouseLeave",["mouseout","mouseover"]);rr("onPointerEnter",["pointerout","pointerover"]);rr("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function $a(e,t,n){var l=e.type||"unknown-event";e.currentTarget=n,ep(l,t,void 0,e),e.currentTarget=null}function Bd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],s=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var o=l.length-1;0<=o;o--){var a=l[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;$a(s,a,d),i=c}else for(o=0;o<l.length;o++){if(a=l[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;$a(s,a,d),i=c}}}if(ql)throw e=Ii,ql=!1,Ii=null,e}function me(e,t){var n=t[Wi];n===void 0&&(n=t[Wi]=new Set);var l=e+"__bubble";n.has(l)||(Od(t,e,2,!1),n.add(l))}function ei(e,t,n){var l=0;t&&(l|=4),Od(n,e,l,t)}var bl="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[bl]){e[bl]=!0,Qc.forEach(function(n){n!=="selectionchange"&&(nh.has(n)||ei(n,!1,e),ei(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bl]||(t[bl]=!0,ei("selectionchange",!1,t))}}function Od(e,t,n,l){switch(bd(t)){case 1:var s=xp;break;case 4:s=gp;break;default:s=Co}n=s.bind(null,t,n,e),s=void 0,!Ti||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ti(e,t,n,l,s){var i=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var a=l.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=l.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Cn(a),o===null)return;if(c=o.tag,c===5||c===6){l=i=o;continue e}a=a.parentNode}}l=l.return}ad(function(){var d=i,f=So(n),g=[];e:{var x=Ad.get(e);if(x!==void 0){var y=_o,j=e;switch(e){case"keypress":if(Fl(n)===0)break e;case"keydown":case"keyup":y=Lp;break;case"focusin":j="focus",y=qs;break;case"focusout":j="blur",y=qs;break;case"beforeblur":case"afterblur":y=qs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Dp;break;case Pd:case zd:case Dd:y=wp;break;case Fd:y=Ap;break;case"scroll":y=yp;break;case"wheel":y=Op;break;case"copy":case"cut":case"paste":y=Cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pa}var S=(t&4)!==0,k=!S&&e==="scroll",u=S?x!==null?x+"Capture":null:x;S=[];for(var m=d,p;m!==null;){p=m;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,u!==null&&(v=Vr(m,u),v!=null&&S.push(Kr(m,v,p)))),k)break;m=m.return}0<S.length&&(x=new y(x,j,null,n,f),g.push({event:x,listeners:S}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&n!==Ei&&(j=n.relatedTarget||n.fromElement)&&(Cn(j)||j[Ht]))break e;if((y||x)&&(x=f.window===f?f:(x=f.ownerDocument)?x.defaultView||x.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=d,j=j?Cn(j):null,j!==null&&(k=Fn(j),j!==k||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=d),y!==j)){if(S=Ia,v="onMouseLeave",u="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(S=Pa,v="onPointerLeave",u="onPointerEnter",m="pointer"),k=y==null?x:Un(y),p=j==null?x:Un(j),x=new S(v,m+"leave",y,n,f),x.target=k,x.relatedTarget=p,v=null,Cn(f)===d&&(S=new S(u,m+"enter",j,n,f),S.target=p,S.relatedTarget=k,v=S),k=v,y&&j)t:{for(S=y,u=j,m=0,p=S;p;p=Bn(p))m++;for(p=0,v=u;v;v=Bn(v))p++;for(;0<m-p;)S=Bn(S),m--;for(;0<p-m;)u=Bn(u),p--;for(;m--;){if(S===u||u!==null&&S===u.alternate)break t;S=Bn(S),u=Bn(u)}S=null}else S=null;y!==null&&Ua(g,x,y,S,!1),j!==null&&k!==null&&Ua(g,k,j,S,!0)}}e:{if(x=d?Un(d):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var C=Qp;else if(Fa(x))if(Ed)C=Gp;else{C=qp;var w=Yp}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(C=Kp);if(C&&(C=C(e,d))){_d(g,C,n,f);break e}w&&w(e,x,d),e==="focusout"&&(w=x._wrapperState)&&w.controlled&&x.type==="number"&&wi(x,"number",x.value)}switch(w=d?Un(d):window,e){case"focusin":(Fa(w)||w.contentEditable==="true")&&(Vn=w,Di=d,Dr=null);break;case"focusout":Dr=Di=Vn=null;break;case"mousedown":Fi=!0;break;case"contextmenu":case"mouseup":case"dragend":Fi=!1,Wa(g,n,f);break;case"selectionchange":if(Zp)break;case"keydown":case"keyup":Wa(g,n,f)}var b;if(Ro)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Wn?Cd(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(kd&&n.locale!=="ko"&&(Wn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Wn&&(b=wd()):(rn=f,No="value"in rn?rn.value:rn.textContent,Wn=!0)),w=Zl(d,E),0<w.length&&(E=new La(E,e,null,n,f),g.push({event:E,listeners:w}),b?E.data=b:(b=Nd(n),b!==null&&(E.data=b)))),(b=Wp?Vp(e,n):$p(e,n))&&(d=Zl(d,"onBeforeInput"),0<d.length&&(f=new La("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:d}),f.data=b))}Bd(g,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zl(e,t){for(var n=t+"Capture",l=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vr(e,n),i!=null&&l.unshift(Kr(e,i,s)),i=Vr(e,t),i!=null&&l.push(Kr(e,i,s))),e=e.return}return l}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ua(e,t,n,l,s){for(var i=t._reactName,o=[];n!==null&&n!==l;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===l)break;a.tag===5&&d!==null&&(a=d,s?(c=Vr(n,i),c!=null&&o.unshift(Kr(n,c,a))):s||(c=Vr(n,i),c!=null&&o.push(Kr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var rh=/\r\n?/g,lh=/\u0000|\uFFFD/g;function Ha(e){return(typeof e=="string"?e:""+e).replace(rh,`
`).replace(lh,"")}function wl(e,t,n){if(t=Ha(t),Ha(e)!==t&&n)throw Error(F(425))}function es(){}var Ai=null,Bi=null;function Oi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mi=typeof setTimeout=="function"?setTimeout:void 0,sh=typeof clearTimeout=="function"?clearTimeout:void 0,Qa=typeof Promise=="function"?Promise:void 0,ih=typeof queueMicrotask=="function"?queueMicrotask:typeof Qa<"u"?function(e){return Qa.resolve(null).then(e).catch(oh)}:Mi;function oh(e){setTimeout(function(){throw e})}function ni(e,t){var n=t,l=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(l===0){e.removeChild(s),Hr(t);return}l--}else n!=="$"&&n!=="$?"&&n!=="$!"||l++;n=s}while(n);Hr(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ya(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+fr,Gr="__reactProps$"+fr,Ht="__reactContainer$"+fr,Wi="__reactEvents$"+fr,ah="__reactListeners$"+fr,ch="__reactHandles$"+fr;function Cn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ht]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ya(e);e!==null;){if(n=e[Pt])return n;e=Ya(e)}return t}e=n,n=e.parentNode}return null}function ol(e){return e=e[Pt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function bs(e){return e[Gr]||null}var Vi=[],Hn=-1;function gn(e){return{current:e}}function xe(e){0>Hn||(e.current=Vi[Hn],Vi[Hn]=null,Hn--)}function pe(e,t){Hn++,Vi[Hn]=e.current,e.current=t}var mn={},$e=gn(mn),rt=gn(!1),Tn=mn;function lr(e,t){var n=e.type.contextTypes;if(!n)return mn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function ts(){xe(rt),xe($e)}function qa(e,t,n){if($e.current!==mn)throw Error(F(168));pe($e,t),pe(rt,n)}function Md(e,t,n){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var s in l)if(!(s in t))throw Error(F(108,Yf(e)||"Unknown",s));return be({},n,l)}function ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,Tn=$e.current,pe($e,e),pe(rt,rt.current),!0}function Ka(e,t,n){var l=e.stateNode;if(!l)throw Error(F(169));n?(e=Md(e,t,Tn),l.__reactInternalMemoizedMergedChildContext=e,xe(rt),xe($e),pe($e,e)):xe(rt),pe(rt,n)}var Ot=null,ws=!1,ri=!1;function Wd(e){Ot===null?Ot=[e]:Ot.push(e)}function dh(e){ws=!0,Wd(e)}function yn(){if(!ri&&Ot!==null){ri=!0;var e=0,t=ue;try{var n=Ot;for(ue=1;e<n.length;e++){var l=n[e];do l=l(!0);while(l!==null)}Ot=null,ws=!1}catch(s){throw Ot!==null&&(Ot=Ot.slice(e+1)),fd(bo,yn),s}finally{ue=t,ri=!1}}return null}var Qn=[],Yn=0,rs=null,ls=0,pt=[],ht=0,In=null,Mt=1,Wt="";function wn(e,t){Qn[Yn++]=ls,Qn[Yn++]=rs,rs=e,ls=t}function Vd(e,t,n){pt[ht++]=Mt,pt[ht++]=Wt,pt[ht++]=In,In=e;var l=Mt;e=Wt;var s=32-Ct(l)-1;l&=~(1<<s),n+=1;var i=32-Ct(t)+s;if(30<i){var o=s-s%5;i=(l&(1<<o)-1).toString(32),l>>=o,s-=o,Mt=1<<32-Ct(t)+s|n<<s|l,Wt=i+e}else Mt=1<<i|n<<s|l,Wt=e}function Io(e){e.return!==null&&(wn(e,1),Vd(e,1,0))}function Lo(e){for(;e===rs;)rs=Qn[--Yn],Qn[Yn]=null,ls=Qn[--Yn],Qn[Yn]=null;for(;e===In;)In=pt[--ht],pt[ht]=null,Wt=pt[--ht],pt[ht]=null,Mt=pt[--ht],pt[ht]=null}var ct=null,at=null,ge=!1,kt=null;function $d(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ga(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,at=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=In!==null?{id:Mt,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,at=null,!0):!1;default:return!1}}function $i(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ui(e){if(ge){var t=at;if(t){var n=t;if(!Ga(e,t)){if($i(e))throw Error(F(418));t=cn(n.nextSibling);var l=ct;t&&Ga(e,t)?$d(l,n):(e.flags=e.flags&-4097|2,ge=!1,ct=e)}}else{if($i(e))throw Error(F(418));e.flags=e.flags&-4097|2,ge=!1,ct=e}}}function Xa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function kl(e){if(e!==ct)return!1;if(!ge)return Xa(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oi(e.type,e.memoizedProps)),t&&(t=at)){if($i(e))throw Ud(),Error(F(418));for(;t;)$d(e,t),t=cn(t.nextSibling)}if(Xa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=ct?cn(e.stateNode.nextSibling):null;return!0}function Ud(){for(var e=at;e;)e=cn(e.nextSibling)}function sr(){at=ct=null,ge=!1}function Po(e){kt===null?kt=[e]:kt.push(e)}var uh=Kt.ReactCurrentBatchConfig;function wr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var l=n.stateNode}if(!l)throw Error(F(147,e));var s=l,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Cl(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ja(e){var t=e._init;return t(e._payload)}function Hd(e){function t(u,m){if(e){var p=u.deletions;p===null?(u.deletions=[m],u.flags|=16):p.push(m)}}function n(u,m){if(!e)return null;for(;m!==null;)t(u,m),m=m.sibling;return null}function l(u,m){for(u=new Map;m!==null;)m.key!==null?u.set(m.key,m):u.set(m.index,m),m=m.sibling;return u}function s(u,m){return u=pn(u,m),u.index=0,u.sibling=null,u}function i(u,m,p){return u.index=p,e?(p=u.alternate,p!==null?(p=p.index,p<m?(u.flags|=2,m):p):(u.flags|=2,m)):(u.flags|=1048576,m)}function o(u){return e&&u.alternate===null&&(u.flags|=2),u}function a(u,m,p,v){return m===null||m.tag!==6?(m=di(p,u.mode,v),m.return=u,m):(m=s(m,p),m.return=u,m)}function c(u,m,p,v){var C=p.type;return C===Mn?f(u,m,p.props.children,v,p.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zt&&Ja(C)===m.type)?(v=s(m,p.props),v.ref=wr(u,m,p),v.return=u,v):(v=$l(p.type,p.key,p.props,null,u.mode,v),v.ref=wr(u,m,p),v.return=u,v)}function d(u,m,p,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=ui(p,u.mode,v),m.return=u,m):(m=s(m,p.children||[]),m.return=u,m)}function f(u,m,p,v,C){return m===null||m.tag!==7?(m=Rn(p,u.mode,v,C),m.return=u,m):(m=s(m,p),m.return=u,m)}function g(u,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=di(""+m,u.mode,p),m.return=u,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case hl:return p=$l(m.type,m.key,m.props,null,u.mode,p),p.ref=wr(u,null,m),p.return=u,p;case On:return m=ui(m,u.mode,p),m.return=u,m;case Zt:var v=m._init;return g(u,v(m._payload),p)}if(Er(m)||yr(m))return m=Rn(m,u.mode,p,null),m.return=u,m;Cl(u,m)}return null}function x(u,m,p,v){var C=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return C!==null?null:a(u,m,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case hl:return p.key===C?c(u,m,p,v):null;case On:return p.key===C?d(u,m,p,v):null;case Zt:return C=p._init,x(u,m,C(p._payload),v)}if(Er(p)||yr(p))return C!==null?null:f(u,m,p,v,null);Cl(u,p)}return null}function y(u,m,p,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return u=u.get(p)||null,a(m,u,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hl:return u=u.get(v.key===null?p:v.key)||null,c(m,u,v,C);case On:return u=u.get(v.key===null?p:v.key)||null,d(m,u,v,C);case Zt:var w=v._init;return y(u,m,p,w(v._payload),C)}if(Er(v)||yr(v))return u=u.get(p)||null,f(m,u,v,C,null);Cl(m,v)}return null}function j(u,m,p,v){for(var C=null,w=null,b=m,E=m=0,L=null;b!==null&&E<p.length;E++){b.index>E?(L=b,b=null):L=b.sibling;var I=x(u,b,p[E],v);if(I===null){b===null&&(b=L);break}e&&b&&I.alternate===null&&t(u,b),m=i(I,m,E),w===null?C=I:w.sibling=I,w=I,b=L}if(E===p.length)return n(u,b),ge&&wn(u,E),C;if(b===null){for(;E<p.length;E++)b=g(u,p[E],v),b!==null&&(m=i(b,m,E),w===null?C=b:w.sibling=b,w=b);return ge&&wn(u,E),C}for(b=l(u,b);E<p.length;E++)L=y(b,u,E,p[E],v),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?E:L.key),m=i(L,m,E),w===null?C=L:w.sibling=L,w=L);return e&&b.forEach(function(K){return t(u,K)}),ge&&wn(u,E),C}function S(u,m,p,v){var C=yr(p);if(typeof C!="function")throw Error(F(150));if(p=C.call(p),p==null)throw Error(F(151));for(var w=C=null,b=m,E=m=0,L=null,I=p.next();b!==null&&!I.done;E++,I=p.next()){b.index>E?(L=b,b=null):L=b.sibling;var K=x(u,b,I.value,v);if(K===null){b===null&&(b=L);break}e&&b&&K.alternate===null&&t(u,b),m=i(K,m,E),w===null?C=K:w.sibling=K,w=K,b=L}if(I.done)return n(u,b),ge&&wn(u,E),C;if(b===null){for(;!I.done;E++,I=p.next())I=g(u,I.value,v),I!==null&&(m=i(I,m,E),w===null?C=I:w.sibling=I,w=I);return ge&&wn(u,E),C}for(b=l(u,b);!I.done;E++,I=p.next())I=y(b,u,E,I.value,v),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?E:I.key),m=i(I,m,E),w===null?C=I:w.sibling=I,w=I);return e&&b.forEach(function(W){return t(u,W)}),ge&&wn(u,E),C}function k(u,m,p,v){if(typeof p=="object"&&p!==null&&p.type===Mn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case hl:e:{for(var C=p.key,w=m;w!==null;){if(w.key===C){if(C=p.type,C===Mn){if(w.tag===7){n(u,w.sibling),m=s(w,p.props.children),m.return=u,u=m;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zt&&Ja(C)===w.type){n(u,w.sibling),m=s(w,p.props),m.ref=wr(u,w,p),m.return=u,u=m;break e}n(u,w);break}else t(u,w);w=w.sibling}p.type===Mn?(m=Rn(p.props.children,u.mode,v,p.key),m.return=u,u=m):(v=$l(p.type,p.key,p.props,null,u.mode,v),v.ref=wr(u,m,p),v.return=u,u=v)}return o(u);case On:e:{for(w=p.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(u,m.sibling),m=s(m,p.children||[]),m.return=u,u=m;break e}else{n(u,m);break}else t(u,m);m=m.sibling}m=ui(p,u.mode,v),m.return=u,u=m}return o(u);case Zt:return w=p._init,k(u,m,w(p._payload),v)}if(Er(p))return j(u,m,p,v);if(yr(p))return S(u,m,p,v);Cl(u,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(u,m.sibling),m=s(m,p),m.return=u,u=m):(n(u,m),m=di(p,u.mode,v),m.return=u,u=m),o(u)):n(u,m)}return k}var ir=Hd(!0),Qd=Hd(!1),ss=gn(null),is=null,qn=null,zo=null;function Do(){zo=qn=is=null}function Fo(e){var t=ss.current;xe(ss),e._currentValue=t}function Hi(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function tr(e,t){is=e,zo=qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(zo!==e)if(e={context:e,memoizedValue:t,next:null},qn===null){if(is===null)throw Error(F(308));qn=e,is.dependencies={lanes:0,firstContext:e}}else qn=qn.next=e;return t}var Nn=null;function Ao(e){Nn===null?Nn=[e]:Nn.push(e)}function Yd(e,t,n,l){var s=t.interleaved;return s===null?(n.next=n,Ao(t)):(n.next=s.next,s.next=n),t.interleaved=n,Qt(e,l)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ae&2){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,Qt(e,n)}return s=l.interleaved,s===null?(t.next=t,Ao(l)):(t.next=s.next,s.next=t),l.interleaved=t,Qt(e,n)}function Al(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,wo(e,n)}}function Za(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:l.shared,effects:l.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function os(e,t,n,l){var s=e.updateQueue;en=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;o=0,f=d=c=null,a=i;do{var x=a.lane,y=a.eventTime;if((l&x)===x){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,S=a;switch(x=t,y=n,S.tag){case 1:if(j=S.payload,typeof j=="function"){g=j.call(y,g,x);break e}g=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=S.payload,x=typeof j=="function"?j.call(y,g,x):j,x==null)break e;g=be({},g,x);break e;case 2:en=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[a]:x.push(a))}else y={eventTime:y,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=y,c=g):f=f.next=y,o|=x;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;x=a,a=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(f===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Pn|=o,e.lanes=o,e.memoizedState=g}}function ec(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],s=l.callback;if(s!==null){if(l.callback=null,l=n,typeof s!="function")throw Error(F(191,s));s.call(l)}}}var al={},Dt=gn(al),Xr=gn(al),Jr=gn(al);function _n(e){if(e===al)throw Error(F(174));return e}function Oo(e,t){switch(pe(Jr,t),pe(Xr,e),pe(Dt,al),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ci(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ci(t,e)}xe(Dt),pe(Dt,t)}function or(){xe(Dt),xe(Xr),xe(Jr)}function Kd(e){_n(Jr.current);var t=_n(Dt.current),n=Ci(t,e.type);t!==n&&(pe(Xr,e),pe(Dt,n))}function Mo(e){Xr.current===e&&(xe(Dt),xe(Xr))}var je=gn(0);function as(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var li=[];function Wo(){for(var e=0;e<li.length;e++)li[e]._workInProgressVersionPrimary=null;li.length=0}var Bl=Kt.ReactCurrentDispatcher,si=Kt.ReactCurrentBatchConfig,Ln=0,Se=null,Te=null,Pe=null,cs=!1,Fr=!1,Zr=0,fh=0;function Me(){throw Error(F(321))}function Vo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function $o(e,t,n,l,s,i){if(Ln=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bl.current=e===null||e.memoizedState===null?xh:gh,e=n(l,s),Fr){i=0;do{if(Fr=!1,Zr=0,25<=i)throw Error(F(301));i+=1,Pe=Te=null,t.updateQueue=null,Bl.current=yh,e=n(l,s)}while(Fr)}if(Bl.current=ds,t=Te!==null&&Te.next!==null,Ln=0,Pe=Te=Se=null,cs=!1,t)throw Error(F(300));return e}function Uo(){var e=Zr!==0;return Zr=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Se.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function yt(){if(Te===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Pe===null?Se.memoizedState:Pe.next;if(t!==null)Pe=t,Te=e;else{if(e===null)throw Error(F(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?Se.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function el(e,t){return typeof t=="function"?t(e):t}function ii(e){var t=yt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var l=Te,s=l.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}l.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,l=l.baseState;var a=o=null,c=null,d=i;do{var f=d.lane;if((Ln&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),l=d.hasEagerState?d.eagerState:e(l,d.action);else{var g={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=g,o=l):c=c.next=g,Se.lanes|=f,Pn|=f}d=d.next}while(d!==null&&d!==i);c===null?o=l:c.next=a,_t(l,t.memoizedState)||(nt=!0),t.memoizedState=l,t.baseState=o,t.baseQueue=c,n.lastRenderedState=l}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Se.lanes|=i,Pn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oi(e){var t=yt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var l=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_t(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,l]}function Gd(){}function Xd(e,t){var n=Se,l=yt(),s=t(),i=!_t(l.memoizedState,s);if(i&&(l.memoizedState=s,nt=!0),l=l.queue,Ho(eu.bind(null,n,l,e),[e]),l.getSnapshot!==t||i||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,tl(9,Zd.bind(null,n,l,s,t),void 0,null),ze===null)throw Error(F(349));Ln&30||Jd(n,t,s)}return s}function Jd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zd(e,t,n,l){t.value=n,t.getSnapshot=l,tu(t)&&nu(e)}function eu(e,t,n){return n(function(){tu(t)&&nu(e)})}function tu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function nu(e){var t=Qt(e,1);t!==null&&Nt(t,e,1,-1)}function tc(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:e},t.queue=e,e=e.dispatch=mh.bind(null,Se,e),[t.memoizedState,e]}function tl(e,t,n,l){return e={tag:e,create:t,destroy:n,deps:l,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e)),e}function ru(){return yt().memoizedState}function Ol(e,t,n,l){var s=Lt();Se.flags|=e,s.memoizedState=tl(1|t,n,void 0,l===void 0?null:l)}function ks(e,t,n,l){var s=yt();l=l===void 0?null:l;var i=void 0;if(Te!==null){var o=Te.memoizedState;if(i=o.destroy,l!==null&&Vo(l,o.deps)){s.memoizedState=tl(t,n,i,l);return}}Se.flags|=e,s.memoizedState=tl(1|t,n,i,l)}function nc(e,t){return Ol(8390656,8,e,t)}function Ho(e,t){return ks(2048,8,e,t)}function lu(e,t){return ks(4,2,e,t)}function su(e,t){return ks(4,4,e,t)}function iu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ou(e,t,n){return n=n!=null?n.concat([e]):null,ks(4,4,iu.bind(null,t,e),n)}function Qo(){}function au(e,t){var n=yt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Vo(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function cu(e,t){var n=yt();t=t===void 0?null:t;var l=n.memoizedState;return l!==null&&t!==null&&Vo(t,l[1])?l[0]:(e=e(),n.memoizedState=[e,t],e)}function du(e,t,n){return Ln&21?(_t(n,t)||(n=md(),Se.lanes|=n,Pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n)}function ph(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var l=si.transition;si.transition={};try{e(!1),t()}finally{ue=n,si.transition=l}}function uu(){return yt().memoizedState}function hh(e,t,n){var l=fn(e);if(n={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null},fu(e))pu(t,n);else if(n=Yd(e,t,n,l),n!==null){var s=Qe();Nt(n,e,l,s),hu(n,t,l)}}function mh(e,t,n){var l=fn(e),s={lane:l,action:n,hasEagerState:!1,eagerState:null,next:null};if(fu(e))pu(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,_t(a,o)){var c=t.interleaved;c===null?(s.next=s,Ao(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Yd(e,t,s,l),n!==null&&(s=Qe(),Nt(n,e,l,s),hu(n,t,l))}}function fu(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function pu(e,t){Fr=cs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hu(e,t,n){if(n&4194240){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,wo(e,n)}}var ds={readContext:gt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},xh={readContext:gt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:nc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4194308,4,iu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ol(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var l=Lt();return t=n!==void 0?n(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=hh.bind(null,Se,e),[l.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:tc,useDebugValue:Qo,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=tc(!1),t=e[0];return e=ph.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var l=Se,s=Lt();if(ge){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),ze===null)throw Error(F(349));Ln&30||Jd(l,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,nc(eu.bind(null,l,i,e),[e]),l.flags|=2048,tl(9,Zd.bind(null,l,i,n,t),void 0,null),n},useId:function(){var e=Lt(),t=ze.identifierPrefix;if(ge){var n=Wt,l=Mt;n=(l&~(1<<32-Ct(l)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gh={readContext:gt,useCallback:au,useContext:gt,useEffect:Ho,useImperativeHandle:ou,useInsertionEffect:lu,useLayoutEffect:su,useMemo:cu,useReducer:ii,useRef:ru,useState:function(){return ii(el)},useDebugValue:Qo,useDeferredValue:function(e){var t=yt();return du(t,Te.memoizedState,e)},useTransition:function(){var e=ii(el)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Xd,useId:uu,unstable_isNewReconciler:!1},yh={readContext:gt,useCallback:au,useContext:gt,useEffect:Ho,useImperativeHandle:ou,useInsertionEffect:lu,useLayoutEffect:su,useMemo:cu,useReducer:oi,useRef:ru,useState:function(){return oi(el)},useDebugValue:Qo,useDeferredValue:function(e){var t=yt();return Te===null?t.memoizedState=e:du(t,Te.memoizedState,e)},useTransition:function(){var e=oi(el)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Xd,useId:uu,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qi(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cs={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Qe(),s=fn(e),i=Vt(l,s);i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,s),t!==null&&(Nt(t,e,s,l),Al(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Qe(),s=fn(e),i=Vt(l,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,s),t!==null&&(Nt(t,e,s,l),Al(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qe(),l=fn(e),s=Vt(n,l);s.tag=2,t!=null&&(s.callback=t),t=dn(e,s,l),t!==null&&(Nt(t,e,l,n),Al(t,e,l))}};function rc(e,t,n,l,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,o):t.prototype&&t.prototype.isPureReactComponent?!Yr(n,l)||!Yr(s,i):!0}function mu(e,t,n){var l=!1,s=mn,i=t.contextType;return typeof i=="object"&&i!==null?i=gt(i):(s=lt(t)?Tn:$e.current,l=t.contextTypes,i=(l=l!=null)?lr(e,s):mn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cs,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lc(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Cs.enqueueReplaceState(t,t.state,null)}function Yi(e,t,n,l){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Bo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=gt(i):(i=lt(t)?Tn:$e.current,s.context=lr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Qi(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Cs.enqueueReplaceState(s,s.state,null),os(e,n,s,l),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ar(e,t){try{var n="",l=t;do n+=Qf(l),l=l.return;while(l);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ai(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vh=typeof WeakMap=="function"?WeakMap:Map;function xu(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var l=t.value;return n.callback=function(){fs||(fs=!0,lo=l),qi(e,t)},n}function gu(e,t,n){n=Vt(-1,n),n.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var s=t.value;n.payload=function(){return l(s)},n.callback=function(){qi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qi(e,t),typeof l!="function"&&(un===null?un=new Set([this]):un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function sc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new vh;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(n)||(s.add(n),e=Ph.bind(null,e,t,n),t.then(e,e))}function ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oc(e,t,n,l,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var jh=Kt.ReactCurrentOwner,nt=!1;function He(e,t,n,l){t.child=e===null?Qd(t,null,n,l):ir(t,e.child,n,l)}function ac(e,t,n,l,s){n=n.render;var i=t.ref;return tr(t,s),l=$o(e,t,n,l,i,s),n=Uo(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yt(e,t,s)):(ge&&n&&Io(t),t.flags|=1,He(e,t,l,s),t.child)}function cc(e,t,n,l,s){if(e===null){var i=n.type;return typeof i=="function"&&!ea(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,yu(e,t,i,l,s)):(e=$l(n.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(o,l)&&e.ref===t.ref)return Yt(e,t,s)}return t.flags|=1,e=pn(i,l),e.ref=t.ref,e.return=t,t.child=e}function yu(e,t,n,l,s){if(e!==null){var i=e.memoizedProps;if(Yr(i,l)&&e.ref===t.ref)if(nt=!1,t.pendingProps=l=i,(e.lanes&s)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,Yt(e,t,s)}return Ki(e,t,n,l,s)}function vu(e,t,n){var l=t.pendingProps,s=l.children,i=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Gn,ot),ot|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Gn,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=i!==null?i.baseLanes:n,pe(Gn,ot),ot|=l}else i!==null?(l=i.baseLanes|n,t.memoizedState=null):l=n,pe(Gn,ot),ot|=l;return He(e,t,s,n),t.child}function ju(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ki(e,t,n,l,s){var i=lt(n)?Tn:$e.current;return i=lr(t,i),tr(t,s),n=$o(e,t,n,l,i,s),l=Uo(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yt(e,t,s)):(ge&&l&&Io(t),t.flags|=1,He(e,t,n,s),t.child)}function dc(e,t,n,l,s){if(lt(n)){var i=!0;ns(t)}else i=!1;if(tr(t,s),t.stateNode===null)Ml(e,t),mu(t,n,l),Yi(t,n,l,s),l=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=gt(d):(d=lt(n)?Tn:$e.current,d=lr(t,d));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==l||c!==d)&&lc(t,o,l,d),en=!1;var x=t.memoizedState;o.state=x,os(t,l,o,s),c=t.memoizedState,a!==l||x!==c||rt.current||en?(typeof f=="function"&&(Qi(t,n,f,l),c=t.memoizedState),(a=en||rc(t,n,a,l,x,c,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=c),o.props=l,o.state=c,o.context=d,l=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,qd(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:bt(t.type,a),o.props=d,g=t.pendingProps,x=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=lt(n)?Tn:$e.current,c=lr(t,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||x!==c)&&lc(t,o,l,c),en=!1,x=t.memoizedState,o.state=x,os(t,l,o,s);var j=t.memoizedState;a!==g||x!==j||rt.current||en?(typeof y=="function"&&(Qi(t,n,y,l),j=t.memoizedState),(d=en||rc(t,n,d,l,x,j,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=j),o.props=l,o.state=j,o.context=c,l=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),l=!1)}return Gi(e,t,n,l,i,s)}function Gi(e,t,n,l,s,i){ju(e,t);var o=(t.flags&128)!==0;if(!l&&!o)return s&&Ka(t,n,!1),Yt(e,t,i);l=t.stateNode,jh.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&o?(t.child=ir(t,e.child,null,i),t.child=ir(t,null,a,i)):He(e,t,a,i),t.memoizedState=l.state,s&&Ka(t,n,!0),t.child}function Su(e){var t=e.stateNode;t.pendingContext?qa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qa(e,t.context,!1),Oo(e,t.containerInfo)}function uc(e,t,n,l,s){return sr(),Po(s),t.flags|=256,He(e,t,n,l),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Ji(e){return{baseLanes:e,cachePool:null,transitions:null}}function bu(e,t,n){var l=t.pendingProps,s=je.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(je,s&1),e===null)return Ui(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=l.children,e=l.fallback,i?(l=t.mode,i=t.child,o={mode:"hidden",children:o},!(l&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Es(o,l,0,null),e=Rn(e,l,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ji(n),t.memoizedState=Xi,e):Yo(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Sh(e,t,o,l,a,s,n);if(i){i=l.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:l.children};return!(o&1)&&t.child!==s?(l=t.child,l.childLanes=0,l.pendingProps=c,t.deletions=null):(l=pn(s,c),l.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=pn(a,i):(i=Rn(i,o,n,null),i.flags|=2),i.return=t,l.return=t,l.sibling=i,t.child=l,l=i,i=t.child,o=e.child.memoizedState,o=o===null?Ji(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Xi,l}return i=e.child,e=i.sibling,l=pn(i,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=n),l.return=t,l.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=l,t.memoizedState=null,l}function Yo(e,t){return t=Es({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nl(e,t,n,l){return l!==null&&Po(l),ir(t,e.child,null,n),e=Yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sh(e,t,n,l,s,i,o){if(n)return t.flags&256?(t.flags&=-257,l=ai(Error(F(422))),Nl(e,t,o,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=l.fallback,s=t.mode,l=Es({mode:"visible",children:l.children},s,0,null),i=Rn(i,s,o,null),i.flags|=2,l.return=t,i.return=t,l.sibling=i,t.child=l,t.mode&1&&ir(t,e.child,null,o),t.child.memoizedState=Ji(o),t.memoizedState=Xi,i);if(!(t.mode&1))return Nl(e,t,o,null);if(s.data==="$!"){if(l=s.nextSibling&&s.nextSibling.dataset,l)var a=l.dgst;return l=a,i=Error(F(419)),l=ai(i,l,void 0),Nl(e,t,o,l)}if(a=(o&e.childLanes)!==0,nt||a){if(l=ze,l!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(l.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qt(e,s),Nt(l,e,s,-1))}return Zo(),l=ai(Error(F(421))),Nl(e,t,o,l)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=zh.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,at=cn(s.nextSibling),ct=t,ge=!0,kt=null,e!==null&&(pt[ht++]=Mt,pt[ht++]=Wt,pt[ht++]=In,Mt=e.id,Wt=e.overflow,In=t),t=Yo(t,l.children),t.flags|=4096,t)}function fc(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Hi(e.return,t,n)}function ci(e,t,n,l,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=n,i.tailMode=s)}function wu(e,t,n){var l=t.pendingProps,s=l.revealOrder,i=l.tail;if(He(e,t,l.children,n),l=je.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fc(e,n,t);else if(e.tag===19)fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(pe(je,l),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&as(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ci(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&as(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ci(t,!0,n,null,i);break;case"together":ci(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bh(e,t,n){switch(t.tag){case 3:Su(t),sr();break;case 5:Kd(t);break;case 1:lt(t.type)&&ns(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,s=t.memoizedProps.value;pe(ss,l._currentValue),l._currentValue=s;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(pe(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?bu(e,t,n):(pe(je,je.current&1),e=Yt(e,t,n),e!==null?e.sibling:null);pe(je,je.current&1);break;case 19:if(l=(n&t.childLanes)!==0,e.flags&128){if(l)return wu(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(je,je.current),l)break;return null;case 22:case 23:return t.lanes=0,vu(e,t,n)}return Yt(e,t,n)}var ku,Zi,Cu,Nu;ku=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zi=function(){};Cu=function(e,t,n,l){var s=e.memoizedProps;if(s!==l){e=t.stateNode,_n(Dt.current);var i=null;switch(n){case"input":s=Si(e,s),l=Si(e,l),i=[];break;case"select":s=be({},s,{value:void 0}),l=be({},l,{value:void 0}),i=[];break;case"textarea":s=ki(e,s),l=ki(e,l),i=[];break;default:typeof s.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=es)}Ni(n,l);var o;n=null;for(d in s)if(!l.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Mr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in l){var c=l[d];if(a=s!=null?s[d]:void 0,l.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Mr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&me("scroll",e),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Nu=function(e,t,n,l){n!==l&&(t.flags|=4)};function kr(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags&14680064,l|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function wh(e,t,n){var l=t.pendingProps;switch(Lo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return lt(t.type)&&ts(),We(t),null;case 3:return l=t.stateNode,or(),xe(rt),xe($e),Wo(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(kl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kt!==null&&(oo(kt),kt=null))),Zi(e,t),We(t),null;case 5:Mo(t);var s=_n(Jr.current);if(n=t.type,e!==null&&t.stateNode!=null)Cu(e,t,n,l,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(F(166));return We(t),null}if(e=_n(Dt.current),kl(t)){l=t.stateNode,n=t.type;var i=t.memoizedProps;switch(l[Pt]=t,l[Gr]=i,e=(t.mode&1)!==0,n){case"dialog":me("cancel",l),me("close",l);break;case"iframe":case"object":case"embed":me("load",l);break;case"video":case"audio":for(s=0;s<Tr.length;s++)me(Tr[s],l);break;case"source":me("error",l);break;case"img":case"image":case"link":me("error",l),me("load",l);break;case"details":me("toggle",l);break;case"input":Sa(l,i),me("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!i.multiple},me("invalid",l);break;case"textarea":wa(l,i),me("invalid",l)}Ni(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?l.textContent!==a&&(i.suppressHydrationWarning!==!0&&wl(l.textContent,a,e),s=["children",a]):typeof a=="number"&&l.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wl(l.textContent,a,e),s=["children",""+a]):Mr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&me("scroll",l)}switch(n){case"input":ml(l),ba(l,i,!0);break;case"textarea":ml(l),ka(l);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(l.onclick=es)}l=s,t.updateQueue=l,l!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ed(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=o.createElement(n,{is:l.is}):(e=o.createElement(n),n==="select"&&(o=e,l.multiple?o.multiple=!0:l.size&&(o.size=l.size))):e=o.createElementNS(e,n),e[Pt]=t,e[Gr]=l,ku(e,t,!1,!1),t.stateNode=e;e:{switch(o=_i(n,l),n){case"dialog":me("cancel",e),me("close",e),s=l;break;case"iframe":case"object":case"embed":me("load",e),s=l;break;case"video":case"audio":for(s=0;s<Tr.length;s++)me(Tr[s],e);s=l;break;case"source":me("error",e),s=l;break;case"img":case"image":case"link":me("error",e),me("load",e),s=l;break;case"details":me("toggle",e),s=l;break;case"input":Sa(e,l),s=Si(e,l),me("invalid",e);break;case"option":s=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},s=be({},l,{value:void 0}),me("invalid",e);break;case"textarea":wa(e,l),s=ki(e,l),me("invalid",e);break;default:s=l}Ni(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?rd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&td(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wr(e,c):typeof c=="number"&&Wr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&me("scroll",e):c!=null&&go(e,i,c,o))}switch(n){case"input":ml(e),ba(e,l,!1);break;case"textarea":ml(e),ka(e);break;case"option":l.value!=null&&e.setAttribute("value",""+hn(l.value));break;case"select":e.multiple=!!l.multiple,i=l.value,i!=null?Xn(e,!!l.multiple,i,!1):l.defaultValue!=null&&Xn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=es)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Nu(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(F(166));if(n=_n(Jr.current),_n(Dt.current),kl(t)){if(l=t.stateNode,n=t.memoizedProps,l[Pt]=t,(i=l.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:wl(l.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wl(l.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[Pt]=t,t.stateNode=l}return We(t),null;case 13:if(xe(je),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&at!==null&&t.mode&1&&!(t.flags&128))Ud(),sr(),t.flags|=98560,i=!1;else if(i=kl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Pt]=t}else sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else kt!==null&&(oo(kt),kt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Ie===0&&(Ie=3):Zo())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return or(),Zi(e,t),e===null&&qr(t.stateNode.containerInfo),We(t),null;case 10:return Fo(t.type._context),We(t),null;case 17:return lt(t.type)&&ts(),We(t),null;case 19:if(xe(je),i=t.memoizedState,i===null)return We(t),null;if(l=(t.flags&128)!==0,o=i.rendering,o===null)if(l)kr(i,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=as(e),o!==null){for(t.flags|=128,kr(i,!1),l=o.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;n!==null;)i=n,e=l,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(je,je.current&1|2),t.child}e=e.sibling}i.tail!==null&&ke()>cr&&(t.flags|=128,l=!0,kr(i,!1),t.lanes=4194304)}else{if(!l)if(e=as(o),e!==null){if(t.flags|=128,l=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return We(t),null}else 2*ke()-i.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,l=!0,kr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ke(),t.sibling=null,n=je.current,pe(je,l?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Jo(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?ot&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function kh(e,t){switch(Lo(t),t.tag){case 1:return lt(t.type)&&ts(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return or(),xe(rt),xe($e),Wo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mo(t),null;case 13:if(xe(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(je),null;case 4:return or(),null;case 10:return Fo(t.type._context),null;case 22:case 23:return Jo(),null;case 24:return null;default:return null}}var _l=!1,Ve=!1,Ch=typeof WeakSet=="function"?WeakSet:Set,q=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(l){we(e,t,l)}else n.current=null}function eo(e,t,n){try{n()}catch(l){we(e,t,l)}}var pc=!1;function Nh(e,t){if(Ai=Xl,e=Id(),To(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var s=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,f=0,g=e,x=null;t:for(;;){for(var y;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==i||l!==0&&g.nodeType!==3||(c=o+l),g.nodeType===3&&(o+=g.nodeValue.length),(y=g.firstChild)!==null;)x=g,g=y;for(;;){if(g===e)break t;if(x===n&&++d===s&&(a=o),x===i&&++f===l&&(c=o),(y=g.nextSibling)!==null)break;g=x,x=g.parentNode}g=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bi={focusedElem:e,selectionRange:n},Xl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var S=j.memoizedProps,k=j.memoizedState,u=t.stateNode,m=u.getSnapshotBeforeUpdate(t.elementType===t.type?S:bt(t.type,S),k);u.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(v){we(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return j=pc,pc=!1,j}function Ar(e,t,n){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var s=l=l.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&eo(t,n,i)}s=s.next}while(s!==l)}}function Ns(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var l=n.create;n.destroy=l()}n=n.next}while(n!==t)}}function to(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _u(e){var t=e.alternate;t!==null&&(e.alternate=null,_u(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Gr],delete t[Wi],delete t[ah],delete t[ch])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Eu(e){return e.tag===5||e.tag===3||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function no(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=es));else if(l!==4&&(e=e.child,e!==null))for(no(e,t,n),e=e.sibling;e!==null;)no(e,t,n),e=e.sibling}function ro(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ro(e,t,n),e=e.sibling;e!==null;)ro(e,t,n),e=e.sibling}var De=null,wt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)Ru(e,t,n),n=n.sibling}function Ru(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ys,n)}catch{}switch(n.tag){case 5:Ve||Kn(n,t);case 6:var l=De,s=wt;De=null,Xt(e,t,n),De=l,wt=s,De!==null&&(wt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(wt?(e=De,n=n.stateNode,e.nodeType===8?ni(e.parentNode,n):e.nodeType===1&&ni(e,n),Hr(e)):ni(De,n.stateNode));break;case 4:l=De,s=wt,De=n.stateNode.containerInfo,wt=!0,Xt(e,t,n),De=l,wt=s;break;case 0:case 11:case 14:case 15:if(!Ve&&(l=n.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){s=l=l.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&eo(n,t,o),s=s.next}while(s!==l)}Xt(e,t,n);break;case 1:if(!Ve&&(Kn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=n.memoizedProps,l.state=n.memoizedState,l.componentWillUnmount()}catch(a){we(n,t,a)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(Ve=(l=Ve)||n.memoizedState!==null,Xt(e,t,n),Ve=l):Xt(e,t,n);break;default:Xt(e,t,n)}}function mc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ch),t.forEach(function(l){var s=Dh.bind(null,e,l);n.has(l)||(n.add(l),l.then(s,s))})}}function St(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,wt=!1;break e;case 3:De=a.stateNode.containerInfo,wt=!0;break e;case 4:De=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(De===null)throw Error(F(160));Ru(i,o,s),De=null,wt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){we(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tu(t,e),t=t.sibling}function Tu(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),It(e),l&4){try{Ar(3,e,e.return),Ns(3,e)}catch(S){we(e,e.return,S)}try{Ar(5,e,e.return)}catch(S){we(e,e.return,S)}}break;case 1:St(t,e),It(e),l&512&&n!==null&&Kn(n,n.return);break;case 5:if(St(t,e),It(e),l&512&&n!==null&&Kn(n,n.return),e.flags&32){var s=e.stateNode;try{Wr(s,"")}catch(S){we(e,e.return,S)}}if(l&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Jc(s,i),_i(a,o);var d=_i(a,i);for(o=0;o<c.length;o+=2){var f=c[o],g=c[o+1];f==="style"?rd(s,g):f==="dangerouslySetInnerHTML"?td(s,g):f==="children"?Wr(s,g):go(s,f,g,d)}switch(a){case"input":bi(s,i);break;case"textarea":Zc(s,i);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Xn(s,!!i.multiple,y,!1):x!==!!i.multiple&&(i.defaultValue!=null?Xn(s,!!i.multiple,i.defaultValue,!0):Xn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gr]=i}catch(S){we(e,e.return,S)}}break;case 6:if(St(t,e),It(e),l&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){we(e,e.return,S)}}break;case 3:if(St(t,e),It(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(S){we(e,e.return,S)}break;case 4:St(t,e),It(e);break;case 13:St(t,e),It(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Go=ke())),l&4&&mc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ve=(d=Ve)||f,St(t,e),Ve=d):St(t,e),It(e),l&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(q=e,f=e.child;f!==null;){for(g=q=f;q!==null;){switch(x=q,y=x.child,x.tag){case 0:case 11:case 14:case 15:Ar(4,x,x.return);break;case 1:Kn(x,x.return);var j=x.stateNode;if(typeof j.componentWillUnmount=="function"){l=x,n=x.return;try{t=l,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(S){we(l,n,S)}}break;case 5:Kn(x,x.return);break;case 22:if(x.memoizedState!==null){gc(g);continue}}y!==null?(y.return=x,q=y):gc(g)}f=f.sibling}e:for(f=null,g=e;;){if(g.tag===5){if(f===null){f=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=nd("display",o))}catch(S){we(e,e.return,S)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(S){we(e,e.return,S)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:St(t,e),It(e),l&4&&mc(e);break;case 21:break;default:St(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Eu(n)){var l=n;break e}n=n.return}throw Error(F(160))}switch(l.tag){case 5:var s=l.stateNode;l.flags&32&&(Wr(s,""),l.flags&=-33);var i=hc(e);ro(e,i,s);break;case 3:case 4:var o=l.stateNode.containerInfo,a=hc(e);no(e,a,o);break;default:throw Error(F(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _h(e,t,n){q=e,Iu(e)}function Iu(e,t,n){for(var l=(e.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&l){var o=s.memoizedState!==null||_l;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ve;a=_l;var d=Ve;if(_l=o,(Ve=c)&&!d)for(q=s;q!==null;)o=q,c=o.child,o.tag===22&&o.memoizedState!==null?yc(s):c!==null?(c.return=o,q=c):yc(s);for(;i!==null;)q=i,Iu(i),i=i.sibling;q=s,_l=a,Ve=d}xc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):xc(e)}}function xc(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||Ns(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!Ve)if(n===null)l.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);l.componentDidUpdate(s,n.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ec(t,i,l);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ec(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Hr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ve||t.flags&512&&to(t)}catch(x){we(t,t.return,x)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function gc(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function yc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ns(4,t)}catch(c){we(t,n,c)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var s=t.return;try{l.componentDidMount()}catch(c){we(t,s,c)}}var i=t.return;try{to(t)}catch(c){we(t,i,c)}break;case 5:var o=t.return;try{to(t)}catch(c){we(t,o,c)}}}catch(c){we(t,t.return,c)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var Eh=Math.ceil,us=Kt.ReactCurrentDispatcher,qo=Kt.ReactCurrentOwner,xt=Kt.ReactCurrentBatchConfig,ae=0,ze=null,_e=null,Fe=0,ot=0,Gn=gn(0),Ie=0,nl=null,Pn=0,_s=0,Ko=0,Br=null,tt=null,Go=0,cr=1/0,Bt=null,fs=!1,lo=null,un=null,El=!1,ln=null,ps=0,Or=0,so=null,Wl=-1,Vl=0;function Qe(){return ae&6?ke():Wl!==-1?Wl:Wl=ke()}function fn(e){return e.mode&1?ae&2&&Fe!==0?Fe&-Fe:uh.transition!==null?(Vl===0&&(Vl=md()),Vl):(e=ue,e!==0||(e=window.event,e=e===void 0?16:bd(e.type)),e):1}function Nt(e,t,n,l){if(50<Or)throw Or=0,so=null,Error(F(185));sl(e,n,l),(!(ae&2)||e!==ze)&&(e===ze&&(!(ae&2)&&(_s|=n),Ie===4&&nn(e,Fe)),st(e,l),n===1&&ae===0&&!(t.mode&1)&&(cr=ke()+500,ws&&yn()))}function st(e,t){var n=e.callbackNode;up(e,t);var l=Gl(e,e===ze?Fe:0);if(l===0)n!==null&&_a(n),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(n!=null&&_a(n),t===1)e.tag===0?dh(vc.bind(null,e)):Wd(vc.bind(null,e)),ih(function(){!(ae&6)&&yn()}),n=null;else{switch(xd(l)){case 1:n=bo;break;case 4:n=pd;break;case 16:n=Kl;break;case 536870912:n=hd;break;default:n=Kl}n=Ou(n,Lu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lu(e,t){if(Wl=-1,Vl=0,ae&6)throw Error(F(327));var n=e.callbackNode;if(nr()&&e.callbackNode!==n)return null;var l=Gl(e,e===ze?Fe:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=hs(e,l);else{t=l;var s=ae;ae|=2;var i=zu();(ze!==e||Fe!==t)&&(Bt=null,cr=ke()+500,En(e,t));do try{Ih();break}catch(a){Pu(e,a)}while(!0);Do(),us.current=i,ae=s,_e!==null?t=0:(ze=null,Fe=0,t=Ie)}if(t!==0){if(t===2&&(s=Li(e),s!==0&&(l=s,t=io(e,s))),t===1)throw n=nl,En(e,0),nn(e,l),st(e,ke()),n;if(t===6)nn(e,l);else{if(s=e.current.alternate,!(l&30)&&!Rh(s)&&(t=hs(e,l),t===2&&(i=Li(e),i!==0&&(l=i,t=io(e,i))),t===1))throw n=nl,En(e,0),nn(e,l),st(e,ke()),n;switch(e.finishedWork=s,e.finishedLanes=l,t){case 0:case 1:throw Error(F(345));case 2:kn(e,tt,Bt);break;case 3:if(nn(e,l),(l&130023424)===l&&(t=Go+500-ke(),10<t)){if(Gl(e,0)!==0)break;if(s=e.suspendedLanes,(s&l)!==l){Qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Mi(kn.bind(null,e,tt,Bt),t);break}kn(e,tt,Bt);break;case 4:if(nn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,s=-1;0<l;){var o=31-Ct(l);i=1<<o,o=t[o],o>s&&(s=o),l&=~i}if(l=s,l=ke()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Eh(l/1960))-l,10<l){e.timeoutHandle=Mi(kn.bind(null,e,tt,Bt),l);break}kn(e,tt,Bt);break;case 5:kn(e,tt,Bt);break;default:throw Error(F(329))}}}return st(e,ke()),e.callbackNode===n?Lu.bind(null,e):null}function io(e,t){var n=Br;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=hs(e,t),e!==2&&(t=tt,tt=n,t!==null&&oo(t)),e}function oo(e){tt===null?tt=e:tt.push.apply(tt,e)}function Rh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var l=0;l<n.length;l++){var s=n[l],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~Ko,t&=~_s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),l=1<<n;e[n]=-1,t&=~l}}function vc(e){if(ae&6)throw Error(F(327));nr();var t=Gl(e,0);if(!(t&1))return st(e,ke()),null;var n=hs(e,t);if(e.tag!==0&&n===2){var l=Li(e);l!==0&&(t=l,n=io(e,l))}if(n===1)throw n=nl,En(e,0),nn(e,t),st(e,ke()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kn(e,tt,Bt),st(e,ke()),null}function Xo(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(cr=ke()+500,ws&&yn())}}function zn(e){ln!==null&&ln.tag===0&&!(ae&6)&&nr();var t=ae;ae|=1;var n=xt.transition,l=ue;try{if(xt.transition=null,ue=1,e)return e()}finally{ue=l,xt.transition=n,ae=t,!(ae&6)&&yn()}}function Jo(){ot=Gn.current,xe(Gn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sh(n)),_e!==null)for(n=_e.return;n!==null;){var l=n;switch(Lo(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&ts();break;case 3:or(),xe(rt),xe($e),Wo();break;case 5:Mo(l);break;case 4:or();break;case 13:xe(je);break;case 19:xe(je);break;case 10:Fo(l.type._context);break;case 22:case 23:Jo()}n=n.return}if(ze=e,_e=e=pn(e.current,null),Fe=ot=t,Ie=0,nl=null,Ko=_s=Pn=0,tt=Br=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],l=n.interleaved,l!==null){n.interleaved=null;var s=l.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,l.next=o}n.pending=l}Nn=null}return e}function Pu(e,t){do{var n=_e;try{if(Do(),Bl.current=ds,cs){for(var l=Se.memoizedState;l!==null;){var s=l.queue;s!==null&&(s.pending=null),l=l.next}cs=!1}if(Ln=0,Pe=Te=Se=null,Fr=!1,Zr=0,qo.current=null,n===null||n.return===null){Ie=1,nl=t,_e=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Fe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var x=f.alternate;x?(f.updateQueue=x.updateQueue,f.memoizedState=x.memoizedState,f.lanes=x.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=ic(o);if(y!==null){y.flags&=-257,oc(y,o,a,i,t),y.mode&1&&sc(i,d,t),t=y,c=d;var j=t.updateQueue;if(j===null){var S=new Set;S.add(c),t.updateQueue=S}else j.add(c);break e}else{if(!(t&1)){sc(i,d,t),Zo();break e}c=Error(F(426))}}else if(ge&&a.mode&1){var k=ic(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),oc(k,o,a,i,t),Po(ar(c,a));break e}}i=c=ar(c,a),Ie!==4&&(Ie=2),Br===null?Br=[i]:Br.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var u=xu(i,c,t);Za(i,u);break e;case 1:a=c;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(un===null||!un.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=gu(i,a,t);Za(i,v);break e}}i=i.return}while(i!==null)}Fu(n)}catch(C){t=C,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function zu(){var e=us.current;return us.current=ds,e===null?ds:e}function Zo(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),ze===null||!(Pn&268435455)&&!(_s&268435455)||nn(ze,Fe)}function hs(e,t){var n=ae;ae|=2;var l=zu();(ze!==e||Fe!==t)&&(Bt=null,En(e,t));do try{Th();break}catch(s){Pu(e,s)}while(!0);if(Do(),ae=n,us.current=l,_e!==null)throw Error(F(261));return ze=null,Fe=0,Ie}function Th(){for(;_e!==null;)Du(_e)}function Ih(){for(;_e!==null&&!np();)Du(_e)}function Du(e){var t=Bu(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Fu(e):_e=t,qo.current=null}function Fu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kh(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,_e=null;return}}else if(n=wh(n,t,ot),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ie===0&&(Ie=5)}function kn(e,t,n){var l=ue,s=xt.transition;try{xt.transition=null,ue=1,Lh(e,t,n,l)}finally{xt.transition=s,ue=l}return null}function Lh(e,t,n,l){do nr();while(ln!==null);if(ae&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(fp(e,i),e===ze&&(_e=ze=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||El||(El=!0,Ou(Kl,function(){return nr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xt.transition,xt.transition=null;var o=ue;ue=1;var a=ae;ae|=4,qo.current=null,Nh(e,n),Tu(n,e),Jp(Bi),Xl=!!Ai,Bi=Ai=null,e.current=n,_h(n),rp(),ae=a,ue=o,xt.transition=i}else e.current=n;if(El&&(El=!1,ln=e,ps=s),i=e.pendingLanes,i===0&&(un=null),ip(n.stateNode),st(e,ke()),t!==null)for(l=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],l(s.value,{componentStack:s.stack,digest:s.digest});if(fs)throw fs=!1,e=lo,lo=null,e;return ps&1&&e.tag!==0&&nr(),i=e.pendingLanes,i&1?e===so?Or++:(Or=0,so=e):Or=0,yn(),null}function nr(){if(ln!==null){var e=xd(ps),t=xt.transition,n=ue;try{if(xt.transition=null,ue=16>e?16:e,ln===null)var l=!1;else{if(e=ln,ln=null,ps=0,ae&6)throw Error(F(331));var s=ae;for(ae|=4,q=e.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(q=d;q!==null;){var f=q;switch(f.tag){case 0:case 11:case 15:Ar(8,f,i)}var g=f.child;if(g!==null)g.return=f,q=g;else for(;q!==null;){f=q;var x=f.sibling,y=f.return;if(_u(f),f===d){q=null;break}if(x!==null){x.return=y,q=x;break}q=y}}}var j=i.alternate;if(j!==null){var S=j.child;if(S!==null){j.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ar(9,i,i.return)}var u=i.sibling;if(u!==null){u.return=i.return,q=u;break e}q=i.return}}var m=e.current;for(q=m;q!==null;){o=q;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,q=p;else e:for(o=m;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ns(9,a)}}catch(C){we(a,a.return,C)}if(a===o){q=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,q=v;break e}q=a.return}}if(ae=s,yn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ys,e)}catch{}l=!0}return l}finally{ue=n,xt.transition=t}}return!1}function jc(e,t,n){t=ar(n,t),t=xu(e,t,1),e=dn(e,t,1),t=Qe(),e!==null&&(sl(e,1,t),st(e,t))}function we(e,t,n){if(e.tag===3)jc(e,e,n);else for(;t!==null;){if(t.tag===3){jc(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(un===null||!un.has(l))){e=ar(n,e),e=gu(t,e,1),t=dn(t,e,1),e=Qe(),t!==null&&(sl(t,1,e),st(t,e));break}}t=t.return}}function Ph(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Fe&n)===n&&(Ie===4||Ie===3&&(Fe&130023424)===Fe&&500>ke()-Go?En(e,0):Ko|=n),st(e,t)}function Au(e,t){t===0&&(e.mode&1?(t=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):t=1);var n=Qe();e=Qt(e,t),e!==null&&(sl(e,t,n),st(e,n))}function zh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Au(e,n)}function Dh(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(F(314))}l!==null&&l.delete(t),Au(e,n)}var Bu;Bu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nt=!1,bh(e,t,n);nt=!!(e.flags&131072)}else nt=!1,ge&&t.flags&1048576&&Vd(t,ls,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Ml(e,t),e=t.pendingProps;var s=lr(t,$e.current);tr(t,n),s=$o(null,t,l,e,s,n);var i=Uo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(l)?(i=!0,ns(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bo(t),s.updater=Cs,t.stateNode=s,s._reactInternals=t,Yi(t,l,e,n),t=Gi(null,t,l,!0,i,n)):(t.tag=0,ge&&i&&Io(t),He(null,t,s,n),t=t.child),t;case 16:l=t.elementType;e:{switch(Ml(e,t),e=t.pendingProps,s=l._init,l=s(l._payload),t.type=l,s=t.tag=Ah(l),e=bt(l,e),s){case 0:t=Ki(null,t,l,e,n);break e;case 1:t=dc(null,t,l,e,n);break e;case 11:t=ac(null,t,l,e,n);break e;case 14:t=cc(null,t,l,bt(l.type,e),n);break e}throw Error(F(306,l,""))}return t;case 0:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:bt(l,s),Ki(e,t,l,s,n);case 1:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:bt(l,s),dc(e,t,l,s,n);case 3:e:{if(Su(t),e===null)throw Error(F(387));l=t.pendingProps,i=t.memoizedState,s=i.element,qd(e,t),os(t,l,null,n);var o=t.memoizedState;if(l=o.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ar(Error(F(423)),t),t=uc(e,t,l,n,s);break e}else if(l!==s){s=ar(Error(F(424)),t),t=uc(e,t,l,n,s);break e}else for(at=cn(t.stateNode.containerInfo.firstChild),ct=t,ge=!0,kt=null,n=Qd(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sr(),l===s){t=Yt(e,t,n);break e}He(e,t,l,n)}t=t.child}return t;case 5:return Kd(t),e===null&&Ui(t),l=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Oi(l,s)?o=null:i!==null&&Oi(l,i)&&(t.flags|=32),ju(e,t),He(e,t,o,n),t.child;case 6:return e===null&&Ui(t),null;case 13:return bu(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ir(t,null,l,n):He(e,t,l,n),t.child;case 11:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:bt(l,s),ac(e,t,l,s,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(l=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,pe(ss,l._currentValue),l._currentValue=o,i!==null)if(_t(i.value,o)){if(i.children===s.children&&!rt.current){t=Yt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===l){if(i.tag===1){c=Vt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Hi(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hi(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}He(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,l=t.pendingProps.children,tr(t,n),s=gt(s),l=l(s),t.flags|=1,He(e,t,l,n),t.child;case 14:return l=t.type,s=bt(l,t.pendingProps),s=bt(l.type,s),cc(e,t,l,s,n);case 15:return yu(e,t,t.type,t.pendingProps,n);case 17:return l=t.type,s=t.pendingProps,s=t.elementType===l?s:bt(l,s),Ml(e,t),t.tag=1,lt(l)?(e=!0,ns(t)):e=!1,tr(t,n),mu(t,l,s),Yi(t,l,s,n),Gi(null,t,l,!0,e,n);case 19:return wu(e,t,n);case 22:return vu(e,t,n)}throw Error(F(156,t.tag))};function Ou(e,t){return fd(e,t)}function Fh(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,l){return new Fh(e,t,n,l)}function ea(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ah(e){if(typeof e=="function")return ea(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vo)return 11;if(e===jo)return 14}return 2}function pn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $l(e,t,n,l,s,i){var o=2;if(l=e,typeof e=="function")ea(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mn:return Rn(n.children,s,i,t);case yo:o=8,s|=8;break;case gi:return e=mt(12,n,t,s|2),e.elementType=gi,e.lanes=i,e;case yi:return e=mt(13,n,t,s),e.elementType=yi,e.lanes=i,e;case vi:return e=mt(19,n,t,s),e.elementType=vi,e.lanes=i,e;case Kc:return Es(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yc:o=10;break e;case qc:o=9;break e;case vo:o=11;break e;case jo:o=14;break e;case Zt:o=16,l=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=mt(o,n,t,s),t.elementType=e,t.type=l,t.lanes=i,t}function Rn(e,t,n,l){return e=mt(7,e,l,t),e.lanes=n,e}function Es(e,t,n,l){return e=mt(22,e,l,t),e.elementType=Kc,e.lanes=n,e.stateNode={isHidden:!1},e}function di(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function ui(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bh(e,t,n,l,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hs(0),this.expirationTimes=Hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.identifierPrefix=l,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ta(e,t,n,l,s,i,o,a,c){return e=new Bh(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:l,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(i),e}function Oh(e,t,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:l==null?null:""+l,children:e,containerInfo:t,implementation:n}}function Mu(e){if(!e)return mn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(lt(n))return Md(e,n,t)}return t}function Wu(e,t,n,l,s,i,o,a,c){return e=ta(n,l,!0,e,s,i,o,a,c),e.context=Mu(null),n=e.current,l=Qe(),s=fn(n),i=Vt(l,s),i.callback=t??null,dn(n,i,s),e.current.lanes=s,sl(e,s,l),st(e,l),e}function Rs(e,t,n,l){var s=t.current,i=Qe(),o=fn(s);return n=Mu(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(i,o),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=dn(s,t,o),e!==null&&(Nt(e,s,o,i),Al(e,s,o)),o}function ms(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function na(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}function Mh(){return null}var Vu=typeof reportError=="function"?reportError:function(e){console.error(e)};function ra(e){this._internalRoot=e}Ts.prototype.render=ra.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Rs(e,t,null,null)};Ts.prototype.unmount=ra.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){Rs(null,e,null,null)}),t[Ht]=null}};function Ts(e){this._internalRoot=e}Ts.prototype.unstable_scheduleHydration=function(e){if(e){var t=vd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&Sd(e)}};function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Is(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bc(){}function Wh(e,t,n,l,s){if(s){if(typeof l=="function"){var i=l;l=function(){var d=ms(o);i.call(d)}}var o=Wu(t,l,e,0,null,!1,!1,"",bc);return e._reactRootContainer=o,e[Ht]=o.current,qr(e.nodeType===8?e.parentNode:e),zn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof l=="function"){var a=l;l=function(){var d=ms(c);a.call(d)}}var c=ta(e,0,!1,null,null,!1,!1,"",bc);return e._reactRootContainer=c,e[Ht]=c.current,qr(e.nodeType===8?e.parentNode:e),zn(function(){Rs(t,c,n,l)}),c}function Ls(e,t,n,l,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=ms(o);a.call(c)}}Rs(t,o,e,s)}else o=Wh(n,t,e,s,l);return ms(o)}gd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rr(t.pendingLanes);n!==0&&(wo(t,n|1),st(t,ke()),!(ae&6)&&(cr=ke()+500,yn()))}break;case 13:zn(function(){var l=Qt(e,1);if(l!==null){var s=Qe();Nt(l,e,1,s)}}),na(e,1)}};ko=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=Qe();Nt(t,e,134217728,n)}na(e,134217728)}};yd=function(e){if(e.tag===13){var t=fn(e),n=Qt(e,t);if(n!==null){var l=Qe();Nt(n,e,t,l)}na(e,t)}};vd=function(){return ue};jd=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};Ri=function(e,t,n){switch(t){case"input":if(bi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var s=bs(l);if(!s)throw Error(F(90));Xc(l),bi(l,s)}}}break;case"textarea":Zc(e,n);break;case"select":t=n.value,t!=null&&Xn(e,!!n.multiple,t,!1)}};id=Xo;od=zn;var Vh={usingClientEntryPoint:!1,Events:[ol,Un,bs,ld,sd,Xo]},Cr={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$h={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dd(e),e===null?null:e.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||Mh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{ys=Rl.inject($h),zt=Rl}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!la(t))throw Error(F(200));return Oh(e,t,null,n)};ut.createRoot=function(e,t){if(!la(e))throw Error(F(299));var n=!1,l="",s=Vu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ta(e,1,!1,null,null,n,!1,l,s),e[Ht]=t.current,qr(e.nodeType===8?e.parentNode:e),new ra(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=dd(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return zn(e)};ut.hydrate=function(e,t,n){if(!Is(t))throw Error(F(200));return Ls(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!la(e))throw Error(F(405));var l=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vu;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Wu(t,null,e,1,n??null,s,!1,i,o),e[Ht]=t.current,qr(e),l)for(e=0;e<l.length;e++)n=l[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ts(t)};ut.render=function(e,t,n){if(!Is(t))throw Error(F(200));return Ls(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!Is(e))throw Error(F(40));return e._reactRootContainer?(zn(function(){Ls(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1};ut.unstable_batchedUpdates=Xo;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!Is(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Ls(e,t,n,!1,l)};ut.version="18.3.1-next-f1338f8080-20240426";function $u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($u)}catch(e){console.error(e)}}$u(),$c.exports=ut;var Uh=$c.exports,wc=Uh;mi.createRoot=wc.createRoot,mi.hydrateRoot=wc.hydrateRoot;const Hh="modulepreload",Qh=function(e,t){return new URL(e,t).href},kc={},Yh=function(t,n,l){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(o=>{if(o=Qh(o,l),o in kc)return;kc[o]=!0;const a=o.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!l)for(let g=i.length-1;g>=0;g--){const x=i[g];if(x.href===o&&(!a||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":Hh,a||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),a)return new Promise((g,x)=>{f.addEventListener("load",g),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Cc="popstate";function qh(e={}){function t(l,s){let{pathname:i,search:o,hash:a}=l.location;return ao("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(l,s){return typeof s=="string"?s:rl(s)}return Gh(t,n,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Et(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kh(){return Math.random().toString(36).substring(2,10)}function Nc(e,t){return{usr:e.state,key:e.key,idx:t}}function ao(e,t,n=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?pr(t):t,state:n,key:t&&t.key||l||Kh()}}function rl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function pr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let l=e.indexOf("?");l>=0&&(t.search=e.substring(l),e=e.substring(0,l)),e&&(t.pathname=e)}return t}function Gh(e,t,n,l={}){let{window:s=document.defaultView,v5Compat:i=!1}=l,o=s.history,a="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function g(){a="POP";let k=f(),u=k==null?null:k-d;d=k,c&&c({action:a,location:S.location,delta:u})}function x(k,u){a="PUSH";let m=ao(S.location,k,u);d=f()+1;let p=Nc(m,d),v=S.createHref(m);try{o.pushState(p,"",v)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(v)}i&&c&&c({action:a,location:S.location,delta:1})}function y(k,u){a="REPLACE";let m=ao(S.location,k,u);d=f();let p=Nc(m,d),v=S.createHref(m);o.replaceState(p,"",v),i&&c&&c({action:a,location:S.location,delta:0})}function j(k){return Xh(k)}let S={get action(){return a},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Cc,g),c=k,()=>{s.removeEventListener(Cc,g),c=null}},createHref(k){return t(s,k)},createURL:j,encodeLocation(k){let u=j(k);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:x,replace:y,go(k){return o.go(k)}};return S}function Xh(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ye(n,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:rl(e);return l=l.replace(/ $/,"%20"),!t&&l.startsWith("//")&&(l=n+l),new URL(l,n)}function Uu(e,t,n="/"){return Jh(e,t,n,!1)}function Jh(e,t,n,l){let s=typeof t=="string"?pr(t):t,i=qt(s.pathname||"/",n);if(i==null)return null;let o=Hu(e);Zh(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=dm(i);a=am(o[c],d,l)}return a}function Hu(e,t=[],n=[],l="",s=!1){let i=(o,a,c=s,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(l)&&c)return;ye(f.relativePath.startsWith(l),`Absolute route path "${f.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(l.length)}let g=$t([l,f.relativePath]),x=n.concat(f);o.children&&o.children.length>0&&(ye(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Hu(o.children,t,x,g,c)),!(o.path==null&&!o.index)&&t.push({path:g,score:im(g,o.index),routesMeta:x})};return e.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,a);else for(let d of Qu(o.path))i(o,a,!0,d)}),t}function Qu(e){let t=e.split("/");if(t.length===0)return[];let[n,...l]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(l.length===0)return s?[i,""]:[i];let o=Qu(l.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Zh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:om(t.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}var em=/^:[\w-]+$/,tm=3,nm=2,rm=1,lm=10,sm=-2,_c=e=>e==="*";function im(e,t){let n=e.split("/"),l=n.length;return n.some(_c)&&(l+=sm),t&&(l+=nm),n.filter(s=>!_c(s)).reduce((s,i)=>s+(em.test(i)?tm:i===""?rm:lm),l)}function om(e,t){return e.length===t.length&&e.slice(0,-1).every((l,s)=>l===t[s])?e[e.length-1]-t[t.length-1]:0}function am(e,t,n=!1){let{routesMeta:l}=e,s={},i="/",o=[];for(let a=0;a<l.length;++a){let c=l[a],d=a===l.length-1,f=i==="/"?t:t.slice(i.length)||"/",g=xs({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),x=c.route;if(!g&&d&&n&&!l[l.length-1].route.index&&(g=xs({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:$t([i,g.pathname]),pathnameBase:hm($t([i,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(i=$t([i,g.pathnameBase]))}return o}function xs(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,l]=cm(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:l.reduce((d,{paramName:f,isOptional:g},x)=>{if(f==="*"){let j=a[x]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const y=a[x];return g&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function cm(e,t=!1,n=!0){Et(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(l.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),l]}function dm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Et(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,l=e.charAt(n);return l&&l!=="/"?null:e.slice(n)||"/"}function um(e,t="/"){let{pathname:n,search:l="",hash:s=""}=typeof e=="string"?pr(e):e;return{pathname:n?n.startsWith("/")?n:fm(n,t):t,search:mm(l),hash:xm(s)}}function fm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fi(e,t,n,l){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sa(e){let t=pm(e);return t.map((n,l)=>l===t.length-1?n.pathname:n.pathnameBase)}function ia(e,t,n,l=!1){let s;typeof e=="string"?s=pr(e):(s={...e},ye(!s.pathname||!s.pathname.includes("?"),fi("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),fi("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),fi("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let g=t.length-1;if(!l&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}a=g>=0?t[g]:"/"}let c=um(s,a),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var $t=e=>e.join("/").replace(/\/\/+/g,"/"),hm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yu=["POST","PUT","PATCH","DELETE"];new Set(Yu);var ym=["GET",...Yu];new Set(ym);var hr=h.createContext(null);hr.displayName="DataRouter";var Ps=h.createContext(null);Ps.displayName="DataRouterState";h.createContext(!1);var qu=h.createContext({isTransitioning:!1});qu.displayName="ViewTransition";var vm=h.createContext(new Map);vm.displayName="Fetchers";var jm=h.createContext(null);jm.displayName="Await";var Rt=h.createContext(null);Rt.displayName="Navigation";var cl=h.createContext(null);cl.displayName="Location";var Ft=h.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var oa=h.createContext(null);oa.displayName="RouteError";function Sm(e,{relative:t}={}){ye(mr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:l}=h.useContext(Rt),{hash:s,pathname:i,search:o}=dl(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:$t([n,i])),l.createHref({pathname:a,search:o,hash:s})}function mr(){return h.useContext(cl)!=null}function vn(){return ye(mr(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(cl).location}var Ku="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gu(e){h.useContext(Rt).static||h.useLayoutEffect(e)}function Gt(){let{isDataRoute:e}=h.useContext(Ft);return e?zm():bm()}function bm(){ye(mr(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(hr),{basename:t,navigator:n}=h.useContext(Rt),{matches:l}=h.useContext(Ft),{pathname:s}=vn(),i=JSON.stringify(sa(l)),o=h.useRef(!1);return Gu(()=>{o.current=!0}),h.useCallback((c,d={})=>{if(Et(o.current,Ku),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=ia(c,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:$t([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}h.createContext(null);function dl(e,{relative:t}={}){let{matches:n}=h.useContext(Ft),{pathname:l}=vn(),s=JSON.stringify(sa(n));return h.useMemo(()=>ia(e,JSON.parse(s),l,t==="path"),[e,s,l,t])}function wm(e,t){return Xu(e,t)}function Xu(e,t,n,l,s){var m;ye(mr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=h.useContext(Rt),{matches:o}=h.useContext(Ft),a=o[o.length-1],c=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",g=a&&a.route;{let p=g&&g.path||"";Ju(d,!g||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let x=vn(),y;if(t){let p=typeof t=="string"?pr(t):t;ye(f==="/"||((m=p.pathname)==null?void 0:m.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${p.pathname}" was given in the \`location\` prop.`),y=p}else y=x;let j=y.pathname||"/",S=j;if(f!=="/"){let p=f.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(p.length).join("/")}let k=Uu(e,{pathname:S});Et(g||k!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Et(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let u=Em(k&&k.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:$t([f,i.encodeLocation?i.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?f:$t([f,i.encodeLocation?i.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),o,n,l,s);return t&&u?h.createElement(cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},u):u}function km(){let e=Pm(),t=gm(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:l},i={padding:"2px 4px",backgroundColor:l},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:i},"ErrorBoundary")," or"," ",h.createElement("code",{style:i},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,o)}var Cm=h.createElement(km,null),Nm=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?h.createElement(Ft.Provider,{value:this.props.routeContext},h.createElement(oa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _m({routeContext:e,match:t,children:n}){let l=h.useContext(hr);return l&&l.static&&l.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(Ft.Provider,{value:e},n)}function Em(e,t=[],n=null,l=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ye(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let a=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:g,errors:x}=n,y=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||y){a=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let x,y=!1,j=null,S=null;n&&(x=o&&f.route.id?o[f.route.id]:void 0,j=f.route.errorElement||Cm,a&&(c<0&&g===0?(Ju("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):c===g&&(y=!0,S=f.route.hydrateFallbackElement||null)));let k=t.concat(i.slice(0,g+1)),u=()=>{let m;return x?m=j:y?m=S:f.route.Component?m=h.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,h.createElement(_m,{match:f,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?h.createElement(Nm,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:u(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:l}):u()},null)}function aa(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rm(e){let t=h.useContext(hr);return ye(t,aa(e)),t}function Tm(e){let t=h.useContext(Ps);return ye(t,aa(e)),t}function Im(e){let t=h.useContext(Ft);return ye(t,aa(e)),t}function ca(e){let t=Im(e),n=t.matches[t.matches.length-1];return ye(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Lm(){return ca("useRouteId")}function Pm(){var l;let e=h.useContext(oa),t=Tm("useRouteError"),n=ca("useRouteError");return e!==void 0?e:(l=t.errors)==null?void 0:l[n]}function zm(){let{router:e}=Rm("useNavigate"),t=ca("useNavigate"),n=h.useRef(!1);return Gu(()=>{n.current=!0}),h.useCallback(async(s,i={})=>{Et(n.current,Ku),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Ec={};function Ju(e,t,n){!t&&!Ec[e]&&(Ec[e]=!0,Et(!1,n))}h.memo(Dm);function Dm({routes:e,future:t,state:n,unstable_onError:l}){return Xu(e,void 0,n,l,t)}function et({to:e,replace:t,state:n,relative:l}){ye(mr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=h.useContext(Rt);Et(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=h.useContext(Ft),{pathname:o}=vn(),a=Gt(),c=ia(e,sa(i),o,l==="path"),d=JSON.stringify(c);return h.useEffect(()=>{a(JSON.parse(d),{replace:t,state:n,relative:l})},[a,d,l,t,n]),null}function Jt(e){ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fm({basename:e="/",children:t=null,location:n,navigationType:l="POP",navigator:s,static:i=!1}){ye(!mr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=h.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=pr(n));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:x="default"}=n,y=h.useMemo(()=>{let j=qt(c,o);return j==null?null:{location:{pathname:j,search:d,hash:f,state:g,key:x},navigationType:l}},[o,c,d,f,g,x,l]);return Et(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:h.createElement(Rt.Provider,{value:a},h.createElement(cl.Provider,{children:t,value:y}))}function Am({children:e,location:t}){return wm(co(e),t)}function co(e,t=[]){let n=[];return h.Children.forEach(e,(l,s)=>{if(!h.isValidElement(l))return;let i=[...t,s];if(l.type===h.Fragment){n.push.apply(n,co(l.props.children,i));return}ye(l.type===Jt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ye(!l.props.index||!l.props.children,"An index route cannot have child routes.");let o={id:l.props.id||i.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(o.children=co(l.props.children,i)),n.push(o)}),n}var Ul="get",Hl="application/x-www-form-urlencoded";function zs(e){return e!=null&&typeof e.tagName=="string"}function Bm(e){return zs(e)&&e.tagName.toLowerCase()==="button"}function Om(e){return zs(e)&&e.tagName.toLowerCase()==="form"}function Mm(e){return zs(e)&&e.tagName.toLowerCase()==="input"}function Wm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vm(e,t){return e.button===0&&(!t||t==="_self")&&!Wm(e)}var Tl=null;function $m(){if(Tl===null)try{new FormData(document.createElement("form"),0),Tl=!1}catch{Tl=!0}return Tl}var Um=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pi(e){return e!=null&&!Um.has(e)?(Et(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hl}"`),null):e}function Hm(e,t){let n,l,s,i,o;if(Om(e)){let a=e.getAttribute("action");l=a?qt(a,t):null,n=e.getAttribute("method")||Ul,s=pi(e.getAttribute("enctype"))||Hl,i=new FormData(e)}else if(Bm(e)||Mm(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||a.getAttribute("action");if(l=c?qt(c,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ul,s=pi(e.getAttribute("formenctype"))||pi(a.getAttribute("enctype"))||Hl,i=new FormData(a,e),!$m()){let{name:d,type:f,value:g}=e;if(f==="image"){let x=d?`${d}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else d&&i.append(d,g)}}else{if(zs(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ul,l=null,s=Hl,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:l,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function da(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qm(e,t,n){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${n}`:t&&qt(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${n}`,l}async function Ym(e,t){if(e.id in t)return t[e.id];try{let n=await Yh(()=>import(e.module),__vite__mapDeps([]),import.meta.url);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qm(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Km(e,t,n){let l=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await Ym(i,n);return o.links?o.links():[]}return[]}));return Zm(l.flat(1).filter(qm).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Rc(e,t,n,l,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,a=(c,d)=>{var f;return n[d].pathname!==c.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||a(c,d)):i==="data"?t.filter((c,d)=>{var g;let f=l.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Gm(e,t,{includeHydrateFallback:n}={}){return Xm(e.map(l=>{let s=t.routes[l.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Xm(e){return[...new Set(e)]}function Jm(e){let t={},n=Object.keys(e).sort();for(let l of n)t[l]=e[l];return t}function Zm(e,t){let n=new Set;return new Set(t),e.reduce((l,s)=>{let i=JSON.stringify(Jm(s));return n.has(i)||(n.add(i),l.push({key:i,link:s})),l},[])}function Zu(){let e=h.useContext(hr);return da(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ex(){let e=h.useContext(Ps);return da(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ua=h.createContext(void 0);ua.displayName="FrameworkContext";function ef(){let e=h.useContext(ua);return da(e,"You must render this element inside a <HydratedRouter> element"),e}function tx(e,t){let n=h.useContext(ua),[l,s]=h.useState(!1),[i,o]=h.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:g}=t,x=h.useRef(null);h.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=u=>{u.forEach(m=>{o(m.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[e]),h.useEffect(()=>{if(l){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[l]);let y=()=>{s(!0)},j=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,x,{}]:[i,x,{onFocus:Nr(a,y),onBlur:Nr(c,j),onMouseEnter:Nr(d,y),onMouseLeave:Nr(f,j),onTouchStart:Nr(g,y)}]:[!1,x,{}]}function Nr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nx({page:e,...t}){let{router:n}=Zu(),l=h.useMemo(()=>Uu(n.routes,e,n.basename),[n.routes,e,n.basename]);return l?h.createElement(lx,{page:e,matches:l,...t}):null}function rx(e){let{manifest:t,routeModules:n}=ef(),[l,s]=h.useState([]);return h.useEffect(()=>{let i=!1;return Km(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),l}function lx({page:e,matches:t,...n}){let l=vn(),{manifest:s,routeModules:i}=ef(),{basename:o}=Zu(),{loaderData:a,matches:c}=ex(),d=h.useMemo(()=>Rc(e,t,c,s,l,"data"),[e,t,c,s,l]),f=h.useMemo(()=>Rc(e,t,c,s,l,"assets"),[e,t,c,s,l]),g=h.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let j=new Set,S=!1;if(t.forEach(u=>{var p;let m=s.routes[u.route.id];!m||!m.hasLoader||(!d.some(v=>v.route.id===u.route.id)&&u.route.id in a&&((p=i[u.route.id])!=null&&p.shouldRevalidate)||m.hasClientLoader?S=!0:j.add(u.route.id))}),j.size===0)return[];let k=Qm(e,o,"data");return S&&j.size>0&&k.searchParams.set("_routes",t.filter(u=>j.has(u.route.id)).map(u=>u.route.id).join(",")),[k.pathname+k.search]},[o,a,l,s,d,t,e,i]),x=h.useMemo(()=>Gm(f,s),[f,s]),y=rx(f);return h.createElement(h.Fragment,null,g.map(j=>h.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),x.map(j=>h.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),y.map(({key:j,link:S})=>h.createElement("link",{key:j,nonce:n.nonce,...S})))}function sx(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var tf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tf&&(window.__reactRouterVersion="7.9.5")}catch{}function ix({basename:e,children:t,window:n}){let l=h.useRef();l.current==null&&(l.current=qh({window:n,v5Compat:!0}));let s=l.current,[i,o]=h.useState({action:s.action,location:s.location}),a=h.useCallback(c=>{h.startTransition(()=>o(c))},[o]);return h.useLayoutEffect(()=>s.listen(a),[s,a]),h.createElement(Fm,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var nf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rf=h.forwardRef(function({onClick:t,discover:n="render",prefetch:l="none",relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:f,viewTransition:g,...x},y){let{basename:j}=h.useContext(Rt),S=typeof d=="string"&&nf.test(d),k,u=!1;if(typeof d=="string"&&S&&(k=d,tf))try{let L=new URL(window.location.href),I=d.startsWith("//")?new URL(L.protocol+d):new URL(d),K=qt(I.pathname,j);I.origin===L.origin&&K!=null?d=K+I.search+I.hash:u=!0}catch{Et(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=Sm(d,{relative:s}),[p,v,C]=tx(l,x),w=dx(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:s,viewTransition:g});function b(L){t&&t(L),L.defaultPrevented||w(L)}let E=h.createElement("a",{...x,...C,href:k||m,onClick:u||i?t:b,ref:sx(y,v),target:c,"data-discover":!S&&n==="render"?"true":void 0});return p&&!S?h.createElement(h.Fragment,null,E,h.createElement(nx,{page:m})):E});rf.displayName="Link";var ox=h.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:l="",end:s=!1,style:i,to:o,viewTransition:a,children:c,...d},f){let g=dl(o,{relative:d.relative}),x=vn(),y=h.useContext(Ps),{navigator:j,basename:S}=h.useContext(Rt),k=y!=null&&mx(g)&&a===!0,u=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,m=x.pathname,p=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(m=m.toLowerCase(),p=p?p.toLowerCase():null,u=u.toLowerCase()),p&&S&&(p=qt(p,S)||p);const v=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let C=m===u||!s&&m.startsWith(u)&&m.charAt(v)==="/",w=p!=null&&(p===u||!s&&p.startsWith(u)&&p.charAt(u.length)==="/"),b={isActive:C,isPending:w,isTransitioning:k},E=C?t:void 0,L;typeof l=="function"?L=l(b):L=[l,C?"active":null,w?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(b):i;return h.createElement(rf,{...d,"aria-current":E,className:L,ref:f,style:I,to:o,viewTransition:a},typeof c=="function"?c(b):c)});ox.displayName="NavLink";var ax=h.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:l,replace:s,state:i,method:o=Ul,action:a,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:g,...x},y)=>{let j=px(),S=hx(a,{relative:d}),k=o.toLowerCase()==="get"?"get":"post",u=typeof a=="string"&&nf.test(a),m=p=>{if(c&&c(p),p.defaultPrevented)return;p.preventDefault();let v=p.nativeEvent.submitter,C=(v==null?void 0:v.getAttribute("formmethod"))||o;j(v||p.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:s,state:i,relative:d,preventScrollReset:f,viewTransition:g})};return h.createElement("form",{ref:y,method:k,action:S,onSubmit:l?c:m,...x,"data-discover":!u&&e==="render"?"true":void 0})});ax.displayName="Form";function cx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lf(e){let t=h.useContext(hr);return ye(t,cx(e)),t}function dx(e,{target:t,replace:n,state:l,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Gt(),c=vn(),d=dl(e,{relative:i});return h.useCallback(f=>{if(Vm(f,t)){f.preventDefault();let g=n!==void 0?n:rl(c)===rl(d);a(e,{replace:g,state:l,preventScrollReset:s,relative:i,viewTransition:o})}},[c,a,d,n,l,t,e,s,i,o])}var ux=0,fx=()=>`__${String(++ux)}__`;function px(){let{router:e}=lf("useSubmit"),{basename:t}=h.useContext(Rt),n=Lm();return h.useCallback(async(l,s={})=>{let{action:i,method:o,encType:a,formData:c,body:d}=Hm(l,t);if(s.navigate===!1){let f=s.fetcherKey||fx();await e.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function hx(e,{relative:t}={}){let{basename:n}=h.useContext(Rt),l=h.useContext(Ft);ye(l,"useFormAction must be used inside a RouteContext");let[s]=l.matches.slice(-1),i={...dl(e||".",{relative:t})},o=vn();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(g=>g).forEach(g=>a.append("index",g));let f=a.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:$t([n,i.pathname])),rl(i)}function mx(e,{relative:t}={}){let n=h.useContext(qu);ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=lf("useViewTransitionState"),s=dl(e,{relative:t});if(!n.isTransitioning)return!1;let i=qt(n.currentLocation.pathname,l)||n.currentLocation.pathname,o=qt(n.nextLocation.pathname,l)||n.nextLocation.pathname;return xs(s.pathname,o)!=null||xs(s.pathname,i)!=null}const sf=h.createContext(),of=({children:e})=>{const[t,n]=h.useState(null),[l,s]=h.useState(null),[i,o]=h.useState(!0),a=h.useRef(null),c=h.useRef(null),d=!!t&&!!l;h.useEffect(()=>{(async()=>{const p=localStorage.getItem("user"),v=localStorage.getItem("token");if(p&&v)try{const C=JSON.parse(p);console.log("Validating stored token...");try{const w=await fetch("/.netlify/functions/checkSession",{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify({})}),b=await w.json();w.ok&&b.valid?(console.log("Token validation successful, restoring session"),n(C),s(v)):(console.log("Token validation failed, clearing auth data"),f())}catch(w){console.error("Token validation error:",w),f()}}catch(C){console.error("Error parsing stored user:",C),f()}o(!1)})();const m=p=>{p.key==="forceLogout"&&p.newValue==="true"&&(console.log("Force logout triggered"),f(),localStorage.removeItem("forceLogout"))};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)},[]);const f=()=>{n(null),s(null),localStorage.removeItem("user"),localStorage.removeItem("token"),a.current&&(clearInterval(a.current),a.current=null)},g=(u,m)=>{const p={...u,token:m};n(p),s(m),localStorage.setItem("user",JSON.stringify(p)),localStorage.setItem("token",m)},x=async()=>{try{l&&await fetch("/.netlify/functions/logout",{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}})}catch(u){console.error("Backend logout error:",u)}finally{f()}},y=async()=>{if(!l)return{valid:!1};try{const u=await fetch("/.netlify/functions/checkSession",{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(u.status===401)return{valid:!1,message:"Session expired. Please log in again."};const m=await u.json();return u.ok?{valid:m.valid}:{valid:!1,message:m.message||"Session check failed"}}catch(u){return console.error("Session check error:",u),{valid:!1,message:"Session check failed"}}};h.useEffect(()=>{if(l&&t)return a.current&&clearInterval(a.current),a.current=setInterval(async()=>{const u=await y();u.valid||!c.current&&u.message&&(c.current=!0,typeof window<"u"&&alert(u.message),f(),setTimeout(()=>{c.current=!1},1e3))},3e4),()=>{a.current&&clearInterval(a.current)};a.current&&(clearInterval(a.current),a.current=null)},[l,t]),h.useEffect(()=>{l&&t&&y().then(u=>{!u.valid&&u.message&&typeof window<"u"&&u.message.includes("detected")&&(alert(u.message),f())})},[l,t]);const j=()=>l,S=async()=>{if(!l)return!1;try{return await y().then(u=>u.valid)}catch{return!1}},k=async()=>{try{return(await fetch("/.netlify/functions/logoutOtherSessions",{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}})).ok?{success:!0,message:"Other sessions logged out successfully"}:{success:!1,message:"Failed to logout other sessions"}}catch{return{success:!1,message:"Error logging out other sessions"}}};return r.jsx(sf.Provider,{value:{user:t?{...t,token:l}:null,token:l,isAuthenticated:d,login:g,logout:x,loading:i,getToken:j,validateToken:S,logoutOtherSessions:k},children:e})},it=()=>{const e=h.useContext(sf);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Il({children:e,allowedRoles:t=[]}){const{isAuthenticated:n,user:l,loading:s}=it();if(s)return r.jsx("div",{className:"flex items-center justify-center h-screen",children:r.jsx("div",{className:"text-xl",children:"Loading..."})});if(!n)return r.jsx(et,{to:"/login",replace:!0});if(!l)return r.jsx(et,{to:"/login",replace:!0});if(t.length>0){const i=l.role;if(!t.includes(i))return i==="Admin"?r.jsx(et,{to:"/admin",replace:!0}):i==="Driver"?r.jsx(et,{to:"/driver",replace:!0}):i==="Shop"?r.jsx(et,{to:"/shop",replace:!0}):i==="Manager"?r.jsx(et,{to:"/manager",replace:!0}):r.jsx(et,{to:"/login",replace:!0})}return e}const xx=()=>{const[e,t]=h.useState(""),[n,l]=h.useState(""),[s,i]=h.useState(""),[o,a]=h.useState(!1),{login:c}=it(),d=Gt(),f=async x=>{if(x.preventDefault(),i(""),!e||!n){i("Please enter username and password");return}try{a(!0);const y=await fetch("/.netlify/functions/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})});let j;try{j=await y.json()}catch(S){throw console.error("Failed to parse response JSON:",S),new Error(`Server error (${y.status}): Unable to parse response`)}if(y.ok)g(j);else if(y.status===403&&j.alreadyLoggedIn){const S=await fetch("/.netlify/functions/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})});let k;try{k=await S.json()}catch(u){throw console.error("Failed to parse force login response JSON:",u),new Error(`Server error (${S.status}): Unable to parse response`)}if(!S.ok)throw new Error(k.message||"Login failed");g(k)}else throw new Error(j.message||`Login failed (${y.status})`)}catch(y){i(y.message||"Login failed. Please try again.")}finally{a(!1)}},g=x=>{if(!x.success)throw new Error(x.message||"Login failed");const y={user_ID:x.user_ID,username:x.username,role:x.role,token:x.token};c(y,x.token),localStorage.setItem("token",x.token),localStorage.setItem("user",JSON.stringify(y));const j=localStorage.getItem("previousToken");j&&x.token,x.role==="Driver"||x.role==="driver"?d("/driver",{replace:!0}):x.role==="Shop"||x.role==="shop"?d("/shop",{replace:!0}):x.role==="Admin"||x.role==="admin"?d("/admin",{replace:!0}):x.role==="Manager"||x.role==="manager"?d("/manager",{replace:!0}):i(`Unknown role: ${x.role}. Contact administrator.`)};return r.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center px-4 relative",style:{backgroundImage:"url('/images/bg.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[r.jsx("div",{className:"absolute inset-0 bg-[#001F4D] opacity-80"}),r.jsxs("div",{className:"relative bg-[#5A6D8F]/70 pt-16 pb-20 px-24 rounded-3xl shadow-2xl w-full max-w-xl",style:{boxShadow:"0 0 40px rgba(0, 0, 0, 0.4)"},children:[r.jsx("div",{className:"text-center mb-1",children:r.jsx("h1",{className:"text-5xl font-extrabold text-sky-400",children:"JMTC"})}),r.jsx("div",{className:"text-center mb-8",children:r.jsx("h2",{className:"text-lg font-semibold text-yellow-500",children:"Transport Services"})}),s&&r.jsx("div",{className:"text-center mb-4 p-3 bg-red-900/40 rounded-lg",children:r.jsx("div",{className:"text-red-300 font-semibold",children:s})}),r.jsxs("form",{onSubmit:f,className:"flex flex-col items-center w-full",children:[r.jsxs("div",{className:"mb-4 w-full",children:[r.jsx("label",{htmlFor:"username",className:"block text-yellow-500 font-semibold mb-1",children:"Username"}),r.jsx("input",{type:"text",id:"username",value:e,onChange:x=>t(x.target.value),placeholder:"Enter your username",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 bg-white/90",disabled:o,autoComplete:"username"})]}),r.jsxs("div",{className:"mb-8 w-full",children:[r.jsx("label",{htmlFor:"password",className:"block text-yellow-500 font-semibold mb-1",children:"Password"}),r.jsx("input",{type:"password",id:"password",value:n,onChange:x=>l(x.target.value),placeholder:"Enter your password",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 bg-white/90",disabled:o,autoComplete:"current-password"})]}),r.jsx("button",{type:"submit",disabled:o,className:`w-2/3 py-2 font-bold rounded-lg transition-colors ${o?"bg-gray-500 text-white cursor-not-allowed":"bg-yellow-600 text-white hover:bg-yellow-500"}`,children:o?"Logging in...":"LOGIN"})]})]})]})},gx={admin:"Admin Dashboard",driver:"Driver Portal",manager:"Manager Portal",shop:"Shop Dashboard"};function Ds(){var f;const{user:e,logout:t}=it(),n=Gt(),[l,s]=h.useState(!1),i=h.useRef(null),o=h.useRef(null);h.useEffect(()=>{const g=({target:x})=>{o.current&&(!l||o.current.contains(x)||i.current.contains(x)||s(!1))};return document.addEventListener("click",g),()=>document.removeEventListener("click",g)}),h.useEffect(()=>{const g=({keyCode:x})=>{!l||x!==27||s(!1)};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)});const a=async()=>{try{await t(),n("/login",{replace:!0})}catch(g){console.error("Logout error:",g),n("/login",{replace:!0})}},c=((f=e==null?void 0:e.role)==null?void 0:f.toLowerCase())||"guest",d=gx[c]||"Fleet Management";return r.jsxs("header",{className:"bg-white shadow-md p-4 flex items-center justify-between flex-shrink-0",children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:d}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{ref:i,onClick:()=>s(!l),className:"flex items-center gap-3",children:[r.jsxs("span",{className:"hidden md:block text-right",children:[r.jsx("span",{className:"block text-sm font-medium text-gray-800",children:(e==null?void 0:e.name)||(e==null?void 0:e.email)||"User"}),r.jsx("span",{className:"block text-xs text-gray-500 capitalize",children:e==null?void 0:e.role})]}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold",children:e!=null&&e.name?e.name.charAt(0).toUpperCase():"U"})]}),r.jsx("div",{ref:o,onFocus:()=>s(!0),onBlur:()=>s(!1),className:`absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-20 transition-all duration-200 ease-in-out ${l?"opacity-100 visible":"opacity-0 invisible"}`,children:r.jsxs("div",{className:"py-1",children:[r.jsxs("div",{className:"px-4 py-2 border-b",children:[r.jsx("p",{className:"text-sm font-semibold",children:(e==null?void 0:e.name)||"User"}),r.jsx("p",{className:"text-xs text-gray-600 truncate",children:e==null?void 0:e.email})]}),r.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile"}),r.jsx("button",{onClick:a,className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]})})]})]})}const Tc=({icon:e,label:t,isActive:n,onClick:l})=>r.jsxs("button",{onClick:l,className:`flex-shrink-0 md:w-full flex items-center gap-3 px-4 py-3 text-left transition-colors duration-200 ease-in-out rounded-lg 
                text-sm font-medium  
                ${n?"bg-[#e5b038] text-white":"text-gray-300 hover:bg-[#e5b038]/50 hover:text-white"}
                focus:outline-none focus:ring-2 focus:ring-amber-400`,children:[r.jsx("span",{className:"text-xl",children:e}),r.jsx("span",{className:"hidden sm:inline",children:t})]}),yx=[{id:"dashboard",icon:"",label:"Dashboard"},{id:"vehicles",icon:"",label:"Vehicles"},{id:"inspection",icon:"",label:"Inspection"},{id:"issues",icon:"",label:"Issues"},{id:"parts",icon:"",label:"Parts / Inventory"}],vx=[{id:"dashboard",icon:"",label:"Trips"},{id:"mileage",icon:"",label:"Mileage & Fuel"},{id:"issues",icon:"",label:"Vehicle Issues"},{id:"rfid",icon:"",label:"RFID"}],jx=[{id:"reservations",icon:"",label:"Reservations"},{id:"vehicles",icon:"",label:"Vehicles"}],Sx=[{id:"reports",icon:"",label:"Reports"},{id:"inventory",icon:"",label:"Inventory"}],bx={admin:yx,driver:vx,manager:jx,shop:Sx};function Fs({userRole:e,activeSection:t,onNavigate:n}){const l=Gt(),{logout:s}=it(),i=async()=>{try{await s(),l("/login",{replace:!0})}catch(c){console.error("Logout error:",c),l("/login",{replace:!0})}},o=bx[e]||[],a=e!=="admin";return r.jsxs("div",{className:"w-full md:w-64 bg-[#0e2a47] text-white p-4 flex flex-col",children:[r.jsx("div",{className:"flex items-center justify-center py-4 mb-4 border-b border-gray-700",children:r.jsx("img",{src:"/images/jmtc_logo.png",alt:"Logo",className:"w-32"})}),r.jsx("nav",{className:"flex-1 flex md:flex-col gap-2 overflow-x-auto md:overflow-y-auto md:overflow-x-hidden",children:o.map(c=>r.jsx(Tc,{icon:c.icon,label:c.label,isActive:t===c.id,onClick:()=>n(c.id)},c.id))}),a&&r.jsx("div",{className:"mt-auto pt-4 border-t border-gray-700",children:r.jsx(Tc,{icon:"",label:"Logout",isActive:t==="logout",onClick:i})})]})}const wx=()=>{const{user:e}=it(),[t,n]=h.useState([]),[l,s]=h.useState(!1),[i,o]=h.useState(null);h.useEffect(()=>{if(!(e!=null&&e.user_ID))return;const w=async()=>{s(!0),o(null);try{const E=`/.netlify/functions/checkOverdueVehicles?driver_id=${e.user_ID}`,L=await fetch(E);if(!L.ok)throw new Error(`Failed to load overdue vehicles: HTTP ${L.status}`);const I=await L.json();I.overdue_vehicles&&n(I.overdue_vehicles)}catch(E){console.error("Error loading overdue vehicles:",E),o(E.message)}finally{s(!1)}};w();const b=setInterval(w,18e5);return()=>clearInterval(b)},[e]);const a={background:"#fff",borderRadius:"1rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"24px",maxWidth:"100%",boxSizing:"border-box",margin:"0 auto 20px auto",borderLeft:"4px solid #ff9800"},c={display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"1.1rem",fontWeight:600,marginBottom:"16px",fontFamily:"Montserrat, sans-serif",color:"#d84315"},d={padding:"4px 12px",background:"#ff9800",color:"white",borderRadius:"16px",fontSize:"0.75rem",fontWeight:"600"},f={background:"#fff8e1",borderRadius:"8px",padding:"16px",marginBottom:"12px",border:"1px solid #ffcc80"},g={display:"grid",gridTemplateColumns:"2fr 1fr",gap:"16px",marginTop:"12px"},x={paddingRight:"12px",borderRight:"1px dashed #ffcc80"},y={paddingLeft:"12px"},j={fontSize:"0.9rem",lineHeight:"1.5",color:"#5d4037",marginBottom:"12px"},S={fontSize:"0.85rem",color:"#795548",lineHeight:"1.4"},k={fontWeight:"600",color:"#d84315",display:"inline-block",minWidth:"70px"},u={background:"#ffcc80",padding:"3px 8px",borderRadius:"4px",fontFamily:"monospace",fontSize:"0.8rem",marginLeft:"6px",display:"inline-block"},m={fontSize:"0.8rem",color:"#795548",padding:"8px 12px",background:"#ffecb3",borderRadius:"6px",marginTop:"12px",border:"1px dashed #ffb74d"},p={fontSize:"0.8rem",color:"#2e7d32",padding:"10px 14px",background:"#e8f5e9",borderRadius:"6px",marginTop:"16px",border:"1px solid #c8e6c9"};if(l)return r.jsx("div",{style:a,children:r.jsx("div",{style:{textAlign:"center",padding:"16px",color:"#0e2a47",fontSize:"0.9rem"},children:"Checking for pending returns..."})});if(i)return r.jsx("div",{style:a,children:r.jsx("div",{style:{textAlign:"center",padding:"16px",color:"#cc0000",fontSize:"0.9rem"},children:"Error loading notices"})});if(t.length===0)return null;const v=w=>{try{const b=new Date(w);return b.toLocaleDateString("en-PH",{month:"short",day:"numeric"})+"  "+b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Date N/A"}},C=w=>!w||w<2?"Recently ended":w<24?`${Math.round(w)}h overdue`:`${Math.round(w/24)}d overdue`;return r.jsxs("div",{style:a,children:[r.jsxs("div",{style:c,children:[r.jsx("span",{children:" Vehicle Return Required"}),r.jsxs("span",{style:d,children:[t.length," pending"]})]}),t.map((w,b)=>{const E=w.hours_overdue||0;return r.jsxs("div",{style:f,children:[r.jsxs("div",{style:g,children:[r.jsx("div",{style:x,children:r.jsxs("div",{style:j,children:[r.jsxs("div",{style:{marginBottom:"8px",fontWeight:"500"},children:["Trip with ",w.customer_name||"customer"," has ended."]}),r.jsxs("div",{children:["Please proceed to headquarters with the"," ",r.jsxs("strong",{children:[w.brand," ",w.model]})," ",r.jsx("span",{style:u,children:w.plate_number||"No plate"})," ","and inform the manager to complete the trip record."]})]})}),r.jsx("div",{style:y,children:r.jsxs("div",{style:S,children:[r.jsxs("div",{style:{marginBottom:"6px"},children:[r.jsx("span",{style:k,children:"Ended:"}),v(w.enddate)]}),r.jsxs("div",{style:{marginBottom:"6px"},children:[r.jsx("span",{style:k,children:"Status:"}),r.jsx("span",{style:{color:"#d84315",fontWeight:"500"},children:w.reserv_status||"Unknown"})]}),r.jsxs("div",{children:[r.jsx("span",{style:k,children:"Duration:"}),C(E)]})]})})]}),r.jsx("div",{style:m,children:" If already returned, contact supervisor to update status"})]},w.reservation_id||b)}),r.jsx("div",{style:p,children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem"},children:[r.jsx("div",{children:"Reminders appear 2+ hours after trip end"}),r.jsxs("div",{children:["Checked: ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})})]})};function kx({onSelect:e,selectedTrip:t}){const{user:n}=it(),[l,s]=h.useState([]),[i,o]=h.useState(!1),[a,c]=h.useState(null),[d,f]=h.useState("All");h.useEffect(()=>{if(!(n!=null&&n.user_ID))return;(async()=>{o(!0),c(null);try{const v=`/.netlify/functions/getDriverTrips?driver_id=${n.user_ID}`,C=await fetch(v);if(!C.ok)throw new Error(`Failed to load trips: HTTP ${C.status}`);const E=(await C.json()||[]).map(L=>{let I,K;try{I=L.startdate?new Date(L.startdate):new Date,K=L.enddate?new Date(L.enddate):new Date}catch{I=new Date,K=new Date}return{id:L.reservation_id,start:I,end:K,destination:"Not specified",status:L.reserv_status||"unknown",vehiclePlate:L.plate_number||"N/A",vehicleBrandModel:`${L.brand||""} ${L.model||""}`.trim()||"N/A",customerName:L.customer_name||"N/A",customerContact:L.customer_contact||"N/A"}});s(E)}catch(v){console.error("Error loading trips:",v),c(v.message)}finally{o(!1)}})()},[n]);const g=h.useMemo(()=>{if(d==="All")return l;if(!l.length)return[];const p=new Date,v=new Date(p.getFullYear(),p.getMonth(),p.getDate());return l.filter(C=>{const w=new Date(C.start.getFullYear(),C.start.getMonth(),C.start.getDate());if(d==="Weekly"){const b=v.getDay(),E=new Date(v);E.setDate(v.getDate()-b);const L=new Date(E);return L.setDate(L.getDate()+6),w>=E&&w<=L}return d==="Monthly"?w.getMonth()===v.getMonth()&&w.getFullYear()===v.getFullYear():d==="Yearly"?w.getFullYear()===v.getFullYear():!0})},[l,d]),x={background:"#fff",borderRadius:"1.5rem",boxShadow:"0 0 20px rgba(0,0,0,0.2)",padding:"32px",maxWidth:"100%",boxSizing:"border-box",margin:"0 auto"},y={display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"1.3rem",fontWeight:600,marginBottom:"24px",fontFamily:"Montserrat, sans-serif"},j={background:"#0e2a47",color:"#e6e6e6",fontWeight:500,padding:"14px 16px",textAlign:"left",fontSize:"1rem",whiteSpace:"nowrap"},S={padding:"14px 16px",textAlign:"left",whiteSpace:"normal",wordWrap:"break-word",borderBottom:"1px solid #eee"},k=p=>{const v=(p==null?void 0:p.toLowerCase())||"";let C="#95a5a6";return v.includes("upcoming")?C="#2ca8ff":v.includes("ongoing")||v.includes("active")?C="#ffa726":v.includes("complete")||v.includes("completed")?C="#2ecc71":v.includes("cancel")&&(C="#e74c3c"),{padding:"6px 12px",borderRadius:"16px",color:"#fff",fontWeight:600,fontSize:"0.85rem",display:"inline-block",background:C,textTransform:"capitalize"}},u=p=>({background:t&&t.id===p.id?"#e6f2e6":"transparent",cursor:e?"pointer":"default",transition:"background-color 0.2s"}),m=p=>{try{return!p||isNaN(p.getTime())?{date:"Invalid Date",time:""}:{date:p.toLocaleDateString(),time:p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}}catch{return{date:"Invalid Date",time:""}}};return i?r.jsx("div",{style:x,children:r.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#0e2a47"},children:r.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"16px"},children:"Loading trips..."})})}):a?r.jsx("div",{style:x,children:r.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#cc0000"},children:[r.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"16px"},children:"Error Loading Trips"}),r.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"20px"},children:a})]})}):r.jsxs(r.Fragment,{children:[r.jsx(wx,{}),r.jsxs("div",{style:x,children:[r.jsxs("div",{style:y,children:[r.jsx("span",{children:"Scheduled Trips"}),r.jsxs("select",{value:d,onChange:p=>f(p.target.value),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #0e2a47",fontSize:"1rem",background:"#f5f5f5",cursor:"pointer"},children:[r.jsx("option",{value:"All",children:"All Trips"}),r.jsx("option",{value:"Weekly",children:"This Week"}),r.jsx("option",{value:"Monthly",children:"This Month"}),r.jsx("option",{value:"Yearly",children:"This Year"})]})]}),r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:"Arial, sans-serif"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{...j,width:"12%"},children:"Start Date & Time"}),r.jsx("th",{style:{...j,width:"12%"},children:"End Date & Time"}),r.jsx("th",{style:{...j,width:"12%"},children:"Destination"}),r.jsx("th",{style:{...j,width:"14%"},children:"Vehicle"}),r.jsx("th",{style:{...j,width:"10%"},children:"Plate No."}),r.jsx("th",{style:{...j,width:"14%"},children:"Customer"}),r.jsx("th",{style:{...j,width:"12%"},children:"Contact"}),r.jsx("th",{style:{...j,width:"14%"},children:"Status"})]})}),r.jsx("tbody",{children:g.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:"8",style:{...S,textAlign:"center",padding:"60px",color:"#666",fontSize:"1rem"},children:[l.length===0?"No trips scheduled":`No trips match "${d}" filter`,l.length>0&&d!=="All"&&r.jsx("div",{style:{marginTop:"16px"},children:r.jsxs("button",{onClick:()=>f("All"),style:{padding:"8px 24px",borderRadius:"6px",border:"1px solid #0e2a47",background:"#0e2a47",color:"white",cursor:"pointer",fontSize:"0.9rem"},children:["Show All Trips (",l.length,")"]})})]})}):g.map(p=>{const v=m(p.start),C=m(p.end);return r.jsxs("tr",{style:u(p),onClick:()=>e&&e(p),onMouseEnter:w=>e&&(w.currentTarget.style.background="#f5f9ff"),onMouseLeave:w=>e&&(w.currentTarget.style.background=t&&t.id===p.id?"#e6f2e6":"transparent"),children:[r.jsxs("td",{style:S,children:[r.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem"},children:v.date}),r.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:v.time})]}),r.jsxs("td",{style:S,children:[r.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem"},children:C.date}),r.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:C.time})]}),r.jsx("td",{style:S,children:p.destination}),r.jsx("td",{style:S,children:p.vehicleBrandModel}),r.jsx("td",{style:S,children:r.jsx("span",{style:{background:"#f0f0f0",padding:"4px 10px",borderRadius:"4px",fontFamily:"monospace",fontSize:"0.9rem",fontWeight:"500",display:"inline-block"},children:p.vehiclePlate})}),r.jsx("td",{style:S,children:r.jsx("div",{style:{fontWeight:500},children:p.customerName})}),r.jsx("td",{style:S,children:r.jsx("div",{style:{fontSize:"0.9rem"},children:p.customerContact})}),r.jsx("td",{style:S,children:r.jsx("span",{style:k(p.status),children:p.status})})]},p.id)})})]})]})]})}function Cx(){var L,I,K;const{user:e}=it(),[t,n]=h.useState(null),[l,s]=h.useState(null),[i,o]=h.useState(""),[a,c]=h.useState(""),[d,f]=h.useState(""),[g,x]=h.useState([]),[y,j]=h.useState({}),[S,k]=h.useState(!1),[u,m]=h.useState(!1),[p,v]=h.useState(!1),C=["North Luzon Expressway (NLEX) - Balintawak","NLEX - Mindanao Avenue","NLEX - Karuhatan","NLEX - Valenzuela","NLEX - Meycauayan","NLEX - Marilao","NLEX - Bocaue","NLEX - Tabang","SubicClarkTarlac Expressway (SCTEX) - Clark","SCTEX - Concepcion","SCTEX - Hacienda Luisita","SCTEX - Tarlac","South Luzon Expressway (SLEX) - Alabang","SLEX - Calamba","SLEX - Sto. Tomas","SLEX - Lipa","SLEX - Ibaan","Cavite Expressway (CAVITEX) - Kawit","CAVITEX - Longos","CAVITEX - Zapote","NAIA Expressway (NAIAX) - NAIA Terminal 3","NAIAX - Sales Road","NAIAX - Macapagal Blvd","NAIAX - EDSA","McArthur Highway - Bulacan","McArthur Highway - Pampanga","McArthur Highway - Tarlac"];h.useEffect(()=>{(async()=>{if(e!=null&&e.user_ID){m(!0);try{const P=await(await fetch(`/.netlify/functions/getDriverVehicle?driver_id=${e.user_ID}`)).json();P.vehicle?(n(P.vehicle),await w(P.vehicle.vehicle_id)):n(null)}catch(V){console.error("Failed fetching vehicle:",V),j(P=>({...P,fetchError:"Failed to load vehicle data. Please try again."}))}finally{m(!1)}}})(),x(C)},[e]);const w=async W=>{try{v(!0);const P=await(await fetch(`/.netlify/functions/getRFIDBalance?vehicle_ID=${W}`)).json();s(P.balance??0)}catch(V){console.error("Get RFID Balance error:",V),s(0),j(P=>({...P,balanceError:"Failed to load RFID balance"}))}finally{v(!1)}},b=()=>{const W={};return t||(W.vehicle="No vehicle assigned. Please check your current reservation."),a||(W.entryLocation="Please select entry location"),d||(W.exitLocation="Please select exit location"),i?(isNaN(parseFloat(i))||parseFloat(i)<=0)&&(W.pricePaid="Toll fee must be a valid positive number"):W.pricePaid="Please enter toll fee amount",l!==null&&parseFloat(i)>l&&(W.pricePaid=`Insufficient RFID balance. Current balance: ${l} PHP`),W},E=async W=>{W.preventDefault();const V=b();if(j(V),Object.keys(V).length===0&&t){m(!0);try{const P=l-parseFloat(i),_=await fetch("/.netlify/functions/updateRFID",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vehicle_ID:t.vehicle_id,entryLocation:a,exitLocation:d,pricePaid:parseFloat(i),newBalance:P,user_id:e.user_ID,timestamp:new Date().toISOString()})}),H=await _.json();if(!_.ok)throw new Error(H.error||"Failed to process RFID transaction");k(!0),setTimeout(()=>k(!1),3e3),o(""),c(""),f(""),await w(t.vehicle_id)}catch(P){console.error(P),j(_=>({..._,submitError:P.message||"Failed to process RFID transaction"}))}finally{m(!1)}}};return r.jsxs("div",{style:B.pageContainer,children:[r.jsxs("div",{style:B.mainCard,children:[r.jsxs("div",{style:B.vehiclePanel,children:[r.jsx("h3",{style:B.panelTitle,children:"RFID Toll Payment"}),u?r.jsx("div",{style:B.loading,children:"Loading vehicle data..."}):t?r.jsxs("div",{style:B.vehicleInfo,children:[r.jsxs("div",{style:B.vehicleDetails,children:[r.jsx("div",{style:B.vehicleBrand,children:(L=t.brand)==null?void 0:L.toUpperCase()}),r.jsx("div",{style:B.vehicleModel,children:(I=t.model)==null?void 0:I.toUpperCase()}),r.jsx("div",{style:B.vehiclePlate,children:(K=t.plate_number)==null?void 0:K.toUpperCase()})]}),r.jsxs("div",{style:B.instructions,children:[r.jsx("div",{style:B.instructionsTitle,children:" Toll Payment Instructions"}),r.jsxs("ul",{style:B.instructionsList,children:[r.jsxs("li",{style:B.instructionItem,children:[r.jsx("span",{style:B.checkMark,children:""}),"Report toll payments immediately after passing through"]}),r.jsxs("li",{style:B.instructionItem,children:[r.jsx("span",{style:B.checkMark,children:""}),"Select correct entry and exit locations"]}),r.jsxs("li",{style:B.instructionItem,children:[r.jsx("span",{style:B.checkMark,children:""}),"Enter accurate toll fee amount"]}),r.jsxs("li",{style:B.instructionItem,children:[r.jsx("span",{style:B.checkMark,children:""}),"Ensure sufficient RFID balance before travel"]}),r.jsxs("li",{style:B.instructionItem,children:[r.jsx("span",{style:B.checkMark,children:""}),"Keep receipts for verification"]}),r.jsxs("li",{style:B.instructionItem,children:[r.jsx("span",{style:B.checkMark,children:""}),"Report discrepancies within 24 hours"]})]})]})]}):r.jsxs("div",{style:B.noVehicleContainer,children:[r.jsx("p",{style:B.noVehicle,children:"No vehicle assigned"}),r.jsxs("div",{style:B.instructions,children:[r.jsx("div",{style:B.instructionsTitle,children:" Information"}),r.jsxs("ul",{style:B.instructionsList,children:[r.jsxs("li",{style:B.instructionItem,children:[r.jsx("span",{style:B.checkMark,children:""}),"You must have an active vehicle reservation"]}),r.jsxs("li",{style:B.instructionItem,children:[r.jsx("span",{style:B.checkMark,children:""}),"Check with your supervisor for current assignment"]}),r.jsxs("li",{style:B.instructionItem,children:[r.jsx("span",{style:B.checkMark,children:""}),"Vehicle assignment is required for RFID transactions"]})]})]})]})]}),r.jsxs("div",{style:B.formPanel,children:[r.jsxs("div",{style:B.formHeader,children:[r.jsx("h2",{style:B.formTitle,children:"Record Toll Payment"}),r.jsx("p",{style:B.formSubtitle,children:"Record RFID transactions for accurate expense tracking"})]}),y.fetchError&&r.jsx("div",{style:B.errorBanner,children:y.fetchError}),y.submitError&&r.jsx("div",{style:B.errorBanner,children:y.submitError}),y.vehicle&&r.jsx("div",{style:B.errorBanner,children:y.vehicle}),t?r.jsxs("form",{onSubmit:E,style:B.form,children:[r.jsxs("div",{style:B.currentVehicleInfo,children:[r.jsx("div",{style:B.currentVehicleLabel,children:"Vehicle for Transaction:"}),r.jsxs("div",{style:B.currentVehicleDetails,children:[t.brand," ",t.model,"  ",t.plate_number]})]}),r.jsxs("div",{style:B.balanceCard,children:[r.jsx("div",{style:B.balanceLabel,children:"Current RFID Balance"}),r.jsx("div",{style:B.balanceAmount,children:p?"Loading...":`${l!==null?l.toFixed(2):"0.00"} PHP`}),y.balanceError&&r.jsx("div",{style:B.balanceError,children:y.balanceError})]}),r.jsxs("div",{style:B.formRow,children:[r.jsxs("div",{style:B.formGroup,children:[r.jsx("label",{style:B.label,children:"Entry Location"}),r.jsxs("select",{value:a,onChange:W=>c(W.target.value),style:{...B.input,...B.selectInput,...y.entryLocation&&B.inputError},children:[r.jsx("option",{value:"",children:"Select entry toll gate"}),g.map(W=>r.jsx("option",{value:W,children:W},W))]}),y.entryLocation&&r.jsx("div",{style:B.errorText,children:y.entryLocation})]}),r.jsxs("div",{style:B.formGroup,children:[r.jsx("label",{style:B.label,children:"Exit Location"}),r.jsxs("select",{value:d,onChange:W=>f(W.target.value),style:{...B.input,...B.selectInput,...y.exitLocation&&B.inputError},children:[r.jsx("option",{value:"",children:"Select exit toll gate"}),g.map(W=>r.jsx("option",{value:W,children:W},`${W}-exit`))]}),y.exitLocation&&r.jsx("div",{style:B.errorText,children:y.exitLocation})]})]}),r.jsxs("div",{style:B.singleField,children:[r.jsx("label",{style:B.label,children:"Toll Fee Amount (PHP)"}),r.jsx("input",{type:"number",step:"0.01",value:i,onChange:W=>o(W.target.value),style:{...B.input,...y.pricePaid&&B.inputError},placeholder:"Enter toll fee amount"}),y.pricePaid&&r.jsx("div",{style:B.errorText,children:y.pricePaid}),r.jsx("div",{style:B.helperText,children:"Enter the exact amount deducted from RFID"})]}),i&&l!==null&&r.jsxs("div",{style:B.summaryBox,children:[r.jsx("div",{style:B.summaryTitle,children:"Transaction Summary"}),r.jsxs("div",{style:B.summaryRow,children:[r.jsx("span",{children:"Current Balance:"}),r.jsxs("span",{style:B.summaryValue,children:[l.toFixed(2)," PHP"]})]}),r.jsxs("div",{style:B.summaryRow,children:[r.jsx("span",{children:"Toll Fee:"}),r.jsxs("span",{style:B.summaryValue,children:["-",parseFloat(i).toFixed(2)," PHP"]})]}),r.jsxs("div",{style:B.summaryRow,children:[r.jsx("span",{children:"New Balance:"}),r.jsxs("span",{style:{...B.summaryValue,color:l-parseFloat(i)<0?"#dc2626":"#16a34a",fontWeight:"bold"},children:[(l-parseFloat(i)).toFixed(2)," PHP"]})]})]}),r.jsx("div",{style:B.submitButtonContainer,children:r.jsx("button",{type:"submit",style:{...B.submitButton,...u&&B.submitButtonDisabled},disabled:u||p,children:u?"Processing...":"Submit Toll Payment"})})]}):r.jsxs("div",{style:B.noVehicleMessage,children:[r.jsx("div",{style:B.noVehicleIcon,children:""}),r.jsxs("div",{style:B.noVehicleText,children:["You need an active vehicle reservation to record toll payments.",r.jsx("br",{}),"Please check with your supervisor for current vehicle assignment."]})]})]})]}),S&&r.jsx("div",{style:B.modalOverlay,children:r.jsxs("div",{style:B.modal,children:[r.jsx("div",{style:B.modalTitle,children:" Payment Recorded Successfully"}),r.jsxs("div",{style:B.modalMessage,children:["Your toll payment has been recorded.",r.jsx("br",{}),"RFID balance has been updated."]}),r.jsx("button",{onClick:()=>k(!1),style:B.modalButton,children:"Close"})]})})]})}const B={pageContainer:{padding:"0",margin:"0",width:"100%",height:"100%",backgroundColor:"#f8fafc",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},mainCard:{display:"flex",width:"95%",maxWidth:"1400px",height:"90%",minHeight:"500px",maxHeight:"700px",borderRadius:"16px",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",backgroundColor:"#fff"},vehiclePanel:{flex:"0 0 350px",backgroundColor:"#0e2a47",color:"white",padding:"25px",display:"flex",flexDirection:"column",overflow:"hidden"},panelTitle:{fontSize:"1.4rem",fontWeight:"700",margin:"0 0 20px 0",color:"#fff",textAlign:"center"},vehicleInfo:{lineHeight:"1.5",flex:"1",display:"flex",flexDirection:"column"},vehicleDetails:{marginBottom:"20px"},vehicleBrand:{fontSize:"1.3rem",fontWeight:"800",color:"#93c5fd",marginBottom:"6px",textAlign:"center"},vehicleModel:{fontSize:"1.3rem",fontWeight:"800",color:"#86efac",marginBottom:"6px",textAlign:"center"},vehiclePlate:{fontSize:"1.3rem",fontWeight:"800",color:"#fdba74",marginBottom:"0",textAlign:"center"},instructions:{backgroundColor:"rgba(255, 255, 255, 0.1)",padding:"15px",borderRadius:"8px",margin:"0",border:"1px solid rgba(255, 255, 255, 0.2)",flex:"1"},instructionsTitle:{fontSize:"1rem",fontWeight:"700",marginBottom:"12px",color:"#86efac",textAlign:"center"},instructionsList:{listStyle:"none",padding:"0",margin:"0",opacity:"0.9"},instructionItem:{fontSize:"0.85rem",marginBottom:"10px",display:"flex",alignItems:"flex-start",lineHeight:"1.3"},checkMark:{color:"#86efac",fontWeight:"bold",marginRight:"8px",fontSize:"0.9rem",marginTop:"1px",flexShrink:"0"},noVehicleContainer:{textAlign:"center",flex:"1",display:"flex",flexDirection:"column"},noVehicle:{fontSize:"1.1rem",opacity:"0.8",margin:"0 0 20px 0",color:"#fdba74",fontWeight:"600"},formPanel:{flex:"1",padding:"40px",display:"flex",flexDirection:"column",overflowY:"auto",minWidth:"0"},formHeader:{marginBottom:"30px",textAlign:"center"},formTitle:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},formSubtitle:{fontSize:"1rem",color:"#6b7280",margin:"0"},form:{width:"100%",maxWidth:"700px",margin:"0 auto",display:"flex",flexDirection:"column",flex:"1"},currentVehicleInfo:{backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",padding:"15px",marginBottom:"25px",textAlign:"center"},currentVehicleLabel:{fontSize:"0.9rem",color:"#0369a1",marginBottom:"5px",fontWeight:"600"},currentVehicleDetails:{fontSize:"1.1rem",fontWeight:"600",color:"#0c4a6e"},balanceCard:{backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px",padding:"15px",marginBottom:"25px",textAlign:"center"},balanceLabel:{fontSize:"0.9rem",color:"#92400e",marginBottom:"8px",fontWeight:"600"},balanceAmount:{fontSize:"1.4rem",fontWeight:"700",color:"#d97706"},balanceError:{fontSize:"0.8rem",color:"#dc2626",marginTop:"5px"},formRow:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px",marginBottom:"30px",width:"100%"},formGroup:{display:"flex",flexDirection:"column"},singleField:{marginBottom:"30px",width:"100%"},label:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"10px",color:"#374151",whiteSpace:"nowrap"},input:{width:"100%",padding:"14px 16px",fontSize:"1.1rem",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"#fff",boxSizing:"border-box"},selectInput:{cursor:"pointer",appearance:"none",backgroundImage:`url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1em"},inputError:{border:"2px solid #dc2626"},errorText:{color:"#dc2626",fontSize:"0.9rem",marginTop:"6px"},submitButtonContainer:{marginTop:"auto",paddingTop:"20px",textAlign:"center"},submitButton:{padding:"14px 28px",backgroundColor:"#e5b038",color:"#000",border:"none",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s",width:"200px"},submitButtonDisabled:{backgroundColor:"#9ca3af",cursor:"not-allowed",color:"#6b7280"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"#fff",padding:"32px",borderRadius:"12px",textAlign:"center",minWidth:"300px"},modalTitle:{fontSize:"1.3rem",fontWeight:"600",color:"#16a34a",marginBottom:"12px"},modalMessage:{marginBottom:"20px",color:"#374151",fontSize:"1rem"},modalButton:{padding:"10px 20px",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem"},loading:{textAlign:"center",color:"#93c5fd",fontSize:"1.1rem",margin:"20px 0"},errorBanner:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"0.95rem"},helperText:{fontSize:"0.8rem",color:"#6b7280",marginTop:"4px",fontStyle:"italic"},noVehicleMessage:{textAlign:"center",padding:"60px 20px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},noVehicleIcon:{fontSize:"3rem",marginBottom:"20px"},noVehicleText:{fontSize:"1.1rem",color:"#6b7280",lineHeight:"1.6"},summaryBox:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"20px",marginBottom:"30px"},summaryTitle:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"15px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},summaryRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",fontSize:"0.95rem",color:"#4b5563"},summaryValue:{fontWeight:"500",color:"#1f2937"}};function Nx(){var K,W,V;const{user:e}=it(),[t,n]=h.useState(null),[l,s]=h.useState(0),[i,o]=h.useState(0),[a,c]=h.useState(0),[d,f]=h.useState(""),[g,x]=h.useState(""),[y,j]=h.useState({}),[S,k]=h.useState(!1),[u,m]=h.useState(!1),[p,v]=h.useState(0);h.useEffect(()=>{(async()=>{if(e!=null&&e.user_ID){m(!0);try{const H=await(await fetch(`/.netlify/functions/getDriverVehicle?driver_id=${e.user_ID}`)).json();if(console.log("API Response:",H),H.vehicle){n(H.vehicle);const U=H.prevOdometer||0;s(U),o(U),c(0)}else n(null),s(0),o(0),c(0)}catch(_){console.error("Failed fetching vehicle:",_),j(H=>({...H,fetchError:"Failed to load vehicle data. Please try again."}))}finally{m(!1)}}})()},[e]),h.useEffect(()=>{const P=parseFloat(i),_=parseFloat(l);if(!isNaN(P)&&!isNaN(_)&&P>=_){const H=Math.round((P-_)*10)/10;c(H)}else c(0)},[i,l]);const C=()=>{const P={};!d&&d!==0?P.currentFuel="Enter current fuel level before refill (in liters)":(isNaN(parseFloat(d))||parseFloat(d)<0)&&(P.currentFuel="Current fuel must be a valid positive number"),!g&&g!==0?P.addedFuel="Enter added fuel in liters":(isNaN(parseFloat(g))||parseFloat(g)<0)&&(P.addedFuel="Fuel amount must be a valid positive number");const _=parseFloat(i),H=parseFloat(l);return!i&&i!==0?P.currentOdometer="Enter new odometer reading":isNaN(_)||_<0?P.currentOdometer="Odometer must be a valid number":_<H&&(P.currentOdometer="New odometer cannot be less than previous odometer"),i.toString().includes(".")&&i.toString().split(".")[1].length>1&&(P.currentOdometer="Odometer should have at most 1 decimal place (e.g., 76850.5)"),P},w=async P=>{P.preventDefault();const _=C();if(j(_),Object.keys(_).length===0&&t){m(!0);try{v(a);const H=await fetch("/.netlify/functions/logMileage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.user_ID,vehicle_id:t.vehicle_id,prevOdometer:l,currentOdometer:i,currentMileage:a,currentFuel:Number(d),addedFuel:Number(g)})}),U=await H.json();if(!H.ok)throw new Error(U.error||"Failed to submit");k(!0),setTimeout(()=>k(!1),3e3),s(i),o(i),f(""),x(""),c(0)}catch(H){console.error(H),j(U=>({...U,submitError:H.message||"Failed to submit mileage report"}))}finally{m(!1)}}},b=P=>{let _=P.target.value;_.includes(".")&&_.split(".")[1].length>1&&(_=Math.round(parseFloat(_)*10)/10),o(_),y.currentOdometer&&j(H=>({...H,currentOdometer:""}))},E=P=>{P.target.blur()},L=P=>{const _=P.target.value;f(_),y.currentFuel&&j(H=>({...H,currentFuel:""}))},I=P=>{const _=P.target.value;x(_),y.addedFuel&&j(H=>({...H,addedFuel:""}))};return r.jsxs("div",{style:M.pageContainer,children:[r.jsxs("div",{style:M.mainCard,children:[r.jsxs("div",{style:M.vehiclePanel,children:[r.jsx("h3",{style:M.panelTitle,children:"You are Using"}),u?r.jsx("div",{style:M.loading,children:"Loading vehicle data..."}):t?r.jsxs("div",{style:M.vehicleInfo,children:[r.jsxs("div",{style:M.vehicleDetails,children:[r.jsx("div",{style:M.vehicleBrand,children:(K=t.brand)==null?void 0:K.toUpperCase()}),r.jsx("div",{style:M.vehicleModel,children:(W=t.model)==null?void 0:W.toUpperCase()}),r.jsx("div",{style:M.vehiclePlate,children:(V=t.plate_number)==null?void 0:V.toUpperCase()})]}),r.jsxs("div",{style:M.instructions,children:[r.jsx("div",{style:M.instructionsTitle,children:" Reporting Instructions"}),r.jsxs("ul",{style:M.instructionsList,children:[r.jsxs("li",{style:M.instructionItem,children:[r.jsx("span",{style:M.checkMark,children:""}),"Report fuel consumption after each refill"]}),r.jsxs("li",{style:M.instructionItem,children:[r.jsx("span",{style:M.checkMark,children:""}),"Enter fuel level BEFORE refilling"]}),r.jsxs("li",{style:M.instructionItem,children:[r.jsx("span",{style:M.checkMark,children:""}),"Enter accurate fuel amounts in liters"]}),r.jsxs("li",{style:M.instructionItem,children:[r.jsx("span",{style:M.checkMark,children:""}),"Submit reports within 24 hours of refueling"]}),r.jsxs("li",{style:M.instructionItem,children:[r.jsx("span",{style:M.checkMark,children:""}),"New odometer reading should not be less than previous"]}),r.jsxs("li",{style:M.instructionItem,children:[r.jsx("span",{style:M.checkMark,children:""}),"Mileage is automatically calculated from odometer difference"]}),r.jsxs("li",{style:M.instructionItem,children:[r.jsx("span",{style:M.checkMark,children:""}),"Use keyboard to enter odometer values (scroll disabled)"]})]})]})]}):r.jsxs("div",{style:M.noVehicleContainer,children:[r.jsx("p",{style:M.noVehicle,children:"No vehicle assigned"}),r.jsxs("div",{style:M.instructions,children:[r.jsx("div",{style:M.instructionsTitle,children:" Information"}),r.jsxs("ul",{style:M.instructionsList,children:[r.jsxs("li",{style:M.instructionItem,children:[r.jsx("span",{style:M.checkMark,children:""}),"Please check with your supervisor for vehicle assignment"]}),r.jsxs("li",{style:M.instructionItem,children:[r.jsx("span",{style:M.checkMark,children:""}),"Vehicle assignment is required for reporting"]})]})]})]})]}),r.jsxs("div",{style:M.formPanel,children:[r.jsxs("div",{style:M.formHeader,children:[r.jsx("h2",{style:M.formTitle,children:"Record Vehicle Usage"}),r.jsx("p",{style:M.formSubtitle,children:"Update your vehicle's mileage and fuel consumption data"})]}),y.fetchError&&r.jsx("div",{style:M.errorBanner,children:y.fetchError}),y.submitError&&r.jsx("div",{style:M.errorBanner,children:y.submitError}),r.jsxs("form",{onSubmit:w,style:M.form,children:[r.jsxs("div",{style:M.formRow,children:[r.jsxs("div",{style:M.formGroup,children:[r.jsx("label",{style:M.label,children:"Previous Odometer (km)"}),r.jsx("input",{style:M.disabledInput,value:parseFloat(l).toFixed(1),disabled:!0}),r.jsx("div",{style:M.helperText,children:"Last recorded value"})]}),r.jsxs("div",{style:M.formGroup,children:[r.jsx("label",{style:M.label,children:"New Odometer (km)"}),r.jsx("input",{type:"number",value:i,onChange:b,onWheel:E,style:{...M.input,...y.currentOdometer&&M.inputError},placeholder:"Enter new odometer",min:l,step:"0.1"}),y.currentOdometer&&r.jsx("div",{style:M.errorText,children:y.currentOdometer}),r.jsx("div",{style:M.helperText,children:"Current reading from odometer (use keyboard, scroll disabled)"})]})]}),r.jsx("div",{style:M.formRow,children:r.jsxs("div",{style:{...M.formGroup,gridColumn:"span 2"},children:[r.jsx("label",{style:M.label,children:"Distance Traveled (km)"}),r.jsxs("div",{style:M.distanceDisplay,children:[r.jsxs("span",{style:M.distanceValue,children:[a.toFixed(1)," km"]}),r.jsxs("div",{style:M.distanceCalculation,children:["Calculation: ",parseFloat(i).toFixed(1)," km - ",parseFloat(l).toFixed(1)," km = ",a.toFixed(1)," km"]})]}),r.jsx("div",{style:M.helperText,children:"Automatically calculated from odometer difference (rounded to 1 decimal place)"})]})}),r.jsxs("div",{style:M.formRow,children:[r.jsxs("div",{style:M.formGroup,children:[r.jsx("label",{style:M.label,children:"Current Fuel (liters)"}),r.jsx("input",{type:"number",step:"0.01",value:d,onChange:L,style:{...M.input,...y.currentFuel&&M.inputError},placeholder:"Fuel level BEFORE refill"}),y.currentFuel&&r.jsx("div",{style:M.errorText,children:y.currentFuel}),r.jsx("div",{style:M.helperText,children:"Fuel level before adding fuel (up to 2 decimal places)"})]}),r.jsxs("div",{style:M.formGroup,children:[r.jsx("label",{style:M.label,children:"Fuel Added (liters)"}),r.jsx("input",{type:"number",step:"0.01",value:g,onChange:I,style:{...M.input,...y.addedFuel&&M.inputError},placeholder:"Fuel added during refill"}),y.addedFuel&&r.jsx("div",{style:M.errorText,children:y.addedFuel}),r.jsx("div",{style:M.helperText,children:"Fuel added during this refill (up to 2 decimal places)"})]})]}),r.jsxs("div",{style:M.noteBox,children:[r.jsx("div",{style:M.noteTitle,children:" Automatic Calculations"}),r.jsxs("div",{style:M.noteText,children:[r.jsx("strong",{children:"Distance Traveled"}),": New Odometer - Previous Odometer (rounded to 1 decimal)",r.jsx("br",{}),r.jsx("strong",{children:"Previous fuel"}),": Calculated from last report (Previous current_fuel + fuel_added)",r.jsx("br",{}),r.jsx("strong",{children:"Fuel efficiency"}),": Will be calculated later (Distance Traveled  Fuel Added)",r.jsx("br",{})]})]}),r.jsx("button",{type:"submit",style:{...M.submitButton,...u&&M.submitButtonDisabled},disabled:u||!t,children:u?"Submitting...":"Submit Report"})]})]})]}),S&&r.jsx("div",{style:M.modalOverlay,children:r.jsxs("div",{style:M.modal,children:[r.jsx("div",{style:M.modalIcon,children:""}),r.jsx("div",{style:M.modalTitle,children:"Report Submitted"}),r.jsxs("div",{style:M.modalMessage,children:["Distance traveled: ",p.toFixed(1)," km"]}),r.jsx("button",{onClick:()=>k(!1),style:M.modalButton,children:"OK"})]})})]})}const M={pageContainer:{padding:"0",margin:"0",width:"100%",height:"calc(100vh - 70px)",backgroundColor:"#f8fafc",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},mainCard:{display:"flex",width:"95%",maxWidth:"1400px",height:"90%",minHeight:"500px",maxHeight:"700px",borderRadius:"16px",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",backgroundColor:"#fff"},vehiclePanel:{flex:"0 0 350px",backgroundColor:"#0e2a47",color:"white",padding:"30px",display:"flex",flexDirection:"column",justifyContent:"flex-start",overflow:"hidden"},panelTitle:{fontSize:"1.5rem",fontWeight:"700",margin:"0 0 25px 0",color:"#fff",textAlign:"center"},vehicleInfo:{lineHeight:"1.6",flex:"1",display:"flex",flexDirection:"column",minHeight:"0"},vehicleDetails:{marginBottom:"30px",flexShrink:"0"},vehicleBrand:{fontSize:"1.4rem",fontWeight:"800",color:"#93c5fd",marginBottom:"8px",textAlign:"center"},vehicleModel:{fontSize:"1.4rem",fontWeight:"800",color:"#86efac",marginBottom:"8px",textAlign:"center"},vehiclePlate:{fontSize:"1.4rem",fontWeight:"800",color:"#fdba74",marginBottom:"0",textAlign:"center"},instructions:{backgroundColor:"rgba(255, 255, 255, 0.1)",padding:"20px",borderRadius:"8px",margin:"0",border:"1px solid rgba(255, 255, 255, 0.2)",flex:"1",minHeight:"0",overflow:"hidden"},instructionsTitle:{fontSize:"1.1rem",fontWeight:"700",marginBottom:"15px",color:"#86efac",textAlign:"center",flexShrink:"0"},instructionsList:{listStyle:"none",padding:"0",margin:"0",opacity:"0.9",overflow:"hidden"},instructionItem:{fontSize:"0.9rem",marginBottom:"12px",display:"flex",alignItems:"flex-start",lineHeight:"1.4",flexShrink:"0"},checkMark:{color:"#86efac",fontWeight:"bold",marginRight:"10px",fontSize:"1rem",flexShrink:"0",marginTop:"1px"},noVehicleContainer:{textAlign:"center",flex:"1",display:"flex",flexDirection:"column",minHeight:"0"},noVehicle:{fontSize:"1.2rem",opacity:"0.8",margin:"0 0 25px 0",color:"#fdba74",fontWeight:"600",flexShrink:"0"},formPanel:{flex:"1",padding:"40px",display:"flex",flexDirection:"column",overflow:"auto",minWidth:"0"},formHeader:{marginBottom:"30px",textAlign:"center"},formTitle:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},formSubtitle:{fontSize:"1rem",color:"#6b7280",margin:"0"},form:{width:"100%",maxWidth:"700px",margin:"0 auto",display:"flex",flexDirection:"column",flex:"1"},formRow:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px",marginBottom:"30px",width:"100%"},formGroup:{display:"flex",flexDirection:"column"},label:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"10px",color:"#374151",whiteSpace:"nowrap"},input:{width:"100%",padding:"14px 16px",fontSize:"1.1rem",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"#fff",boxSizing:"border-box"},disabledInput:{width:"100%",padding:"14px 16px",fontSize:"1.1rem",borderRadius:"8px",border:"1px solid #e5e7eb",backgroundColor:"#f9fafb",color:"#6b7280",boxSizing:"border-box"},inputError:{border:"2px solid #dc2626"},errorText:{color:"#dc2626",fontSize:"0.9rem",marginTop:"6px"},distanceDisplay:{width:"100%",padding:"14px 16px",fontSize:"1.3rem",fontWeight:"600",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"#f0f9ff",color:"#0369a1",textAlign:"center",boxSizing:"border-box"},distanceValue:{color:"#0369a1",fontSize:"1.5rem",fontWeight:"700",display:"block",marginBottom:"8px"},distanceCalculation:{fontSize:"0.9rem",color:"#6b7280",fontStyle:"italic",marginTop:"5px"},submitButton:{padding:"14px 28px",backgroundColor:"#1D4ED8",color:"#fff",border:"none",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s",width:"180px",marginTop:"auto"},submitButtonDisabled:{backgroundColor:"#9ca3af",cursor:"not-allowed"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"#fff",padding:"32px",borderRadius:"12px",textAlign:"center",minWidth:"300px",maxWidth:"350px"},modalIcon:{fontSize:"2.5rem",marginBottom:"15px"},modalTitle:{fontSize:"1.4rem",fontWeight:"600",color:"#16a34a",marginBottom:"15px"},modalMessage:{marginBottom:"25px",color:"#374151",fontSize:"1.1rem",lineHeight:"1.5",fontWeight:"500"},modalButton:{padding:"10px 30px",backgroundColor:"#1D4ED8",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",minWidth:"100px"},loading:{textAlign:"center",color:"#93c5fd",fontSize:"1.1rem",margin:"20px 0"},errorBanner:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"0.95rem"},helperText:{fontSize:"0.8rem",color:"#6b7280",marginTop:"4px",fontStyle:"italic"},noteBox:{backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",padding:"15px",marginBottom:"20px"},noteTitle:{fontSize:"0.9rem",fontWeight:"600",color:"#0369a1",marginBottom:"5px"},noteText:{fontSize:"0.85rem",color:"#0c4a6e",lineHeight:"1.4"}};function _x(){var P,_,H;const{user:e,token:t}=it(),[n,l]=h.useState(null),[s,i]=h.useState(""),[o,a]=h.useState([]),[c,d]=h.useState(""),[f,g]=h.useState(""),[x,y]=h.useState({}),[j,S]=h.useState(!1),[k,u]=h.useState(!1),[m,p]=h.useState(!1),[v,C]=h.useState(!1),w=h.useRef(!0),b=[{value:"low",label:"Low - Minor issue, doesn't affect operation"},{value:"medium",label:"Medium - Noticeable issue, monitor closely"},{value:"high",label:"High - Affects vehicle operation, needs attention"},{value:"critical",label:"Critical - Safety issue, immediate attention required"}],E=[{id:"engine",label:"Engine Issues",subcategories:["Overheating","Strange noises","Loss of power","Difficulty starting","Check engine light"]},{id:"brakes",label:"Brake System",subcategories:["Squeaking/grinding","Soft brake pedal","Vibration when braking","Brake warning light"]},{id:"tires",label:"Tires & Wheels",subcategories:["Uneven wear","Low pressure","Vibration","Puncture/damage","Alignment issues"]},{id:"electrical",label:"Electrical System",subcategories:["Battery problems","Lighting issues","Warning lights","Electrical shorts","Power window/lock issues"]},{id:"suspension",label:"Suspension & Steering",subcategories:["Steering vibration","Pulling to one side","Noise over bumps","Uneven tire wear","Loose steering"]},{id:"transmission",label:"Transmission",subcategories:["Slipping gears","Delayed shifting","Transmission fluid leak","Grinding noises"]},{id:"exhaust",label:"Exhaust System",subcategories:["Loud exhaust","Smoke from exhaust","Exhaust leaks","Reduced fuel efficiency"]},{id:"fluid",label:"Fluid Issues",subcategories:["Oil leaks","Coolant leaks","Brake fluid leaks","Transmission fluid leaks","Low fluid levels"]}],L={low:{borderColor:"#10b981",backgroundColor:"#d1fae5"},medium:{borderColor:"#f59e0b",backgroundColor:"#fef3c7"},high:{borderColor:"#f97316",backgroundColor:"#ffedd5"},critical:{borderColor:"#dc2626",backgroundColor:"#fee2e2"}},I=()=>o.length>0||c.trim()!==""||s.trim()!==""||f!==""||m;h.useEffect(()=>{w.current?w.current=!1:C(I())},[o,c,s,f,m]),h.useEffect(()=>{const U=R=>{if(v)return R.preventDefault(),R.returnValue="You have unsaved changes. Are you sure you want to leave?",R.returnValue};return window.addEventListener("beforeunload",U),()=>{window.removeEventListener("beforeunload",U)}},[v]),h.useEffect(()=>{(async()=>{if(e!=null&&e.user_ID){u(!0);try{const T=await(await fetch(`/.netlify/functions/getDriverVehicle?driver_id=${e.user_ID}`,{headers:{Authorization:`Bearer ${t}`}})).json();T.vehicle?l(T.vehicle):l(null)}catch(R){console.error("Failed fetching vehicle:",R),y(T=>({...T,fetchError:"Failed to load vehicle data. Please try again."}))}finally{u(!1)}}})()},[e,t]);const K=(U,R)=>{const T=`${U}:${R}`;a(Y=>Y.includes(T)?Y.filter(X=>X!==T):[...Y,T])},W=()=>{const U={};return n||(U.vehicle="No vehicle assigned. Please check your current reservation."),o.length===0&&!c.trim()&&(U.issues="Please select at least one issue or describe a custom issue"),f||(U.severity="Please select an issue severity level"),m&&!c.trim()&&(U.customIssue="Please describe the custom issue"),U},V=async U=>{U.preventDefault();const R=W();if(y(R),Object.keys(R).length===0&&n){u(!0);try{const T=await fetch("/.netlify/functions/logVehicleIssue",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({user_id:e.user_ID,vehicle_id:n.vehicle_id,plate:n.plate_number,issue_categories:o,custom_issue:c,issue_description:s,severity:f,timestamp:new Date().toISOString()})}),Y=await T.json();if(!T.ok)throw new Error(Y.error||"Failed to submit issue");S(!0),setTimeout(()=>S(!1),3e3),a([]),d(""),i(""),g(""),p(!1),C(!1)}catch(T){console.error(T),y(Y=>({...Y,submitError:T.message||"Failed to submit issue report"}))}finally{u(!1)}}};return r.jsxs("div",{style:A.pageContainer,children:[r.jsxs("div",{style:A.mainCard,children:[r.jsxs("div",{style:A.vehiclePanel,children:[r.jsx("h3",{style:A.panelTitle,children:"You are Using"}),k?r.jsx("div",{style:A.loading,children:"Loading vehicle data..."}):n?r.jsxs("div",{style:A.vehicleInfo,children:[r.jsxs("div",{style:A.vehicleDetails,children:[r.jsx("div",{style:A.vehicleBrand,children:(P=n.brand)==null?void 0:P.toUpperCase()}),r.jsx("div",{style:A.vehicleModel,children:(_=n.model)==null?void 0:_.toUpperCase()}),r.jsx("div",{style:A.vehiclePlate,children:(H=n.plate_number)==null?void 0:H.toUpperCase()})]}),r.jsxs("div",{style:A.instructions,children:[r.jsx("div",{style:A.instructionsTitle,children:" Reporting Instructions"}),r.jsxs("ul",{style:A.instructionsList,children:[r.jsxs("li",{style:A.instructionItem,children:[r.jsx("span",{style:A.checkMark,children:""}),"Report issues immediately when noticed"]}),r.jsxs("li",{style:A.instructionItem,children:[r.jsx("span",{style:A.checkMark,children:""}),"Select all applicable issue categories"]}),r.jsxs("li",{style:A.instructionItem,children:[r.jsx("span",{style:A.checkMark,children:""}),"Set appropriate severity level"]}),r.jsxs("li",{style:A.instructionItem,children:[r.jsx("span",{style:A.checkMark,children:""}),"Provide detailed description of symptoms"]}),r.jsxs("li",{style:A.instructionItem,children:[r.jsx("span",{style:A.checkMark,children:""}),'Report safety-critical issues as "Critical"']}),r.jsxs("li",{style:A.instructionItem,children:[r.jsx("span",{style:A.checkMark,children:""}),'Use "Other Issue" for unlisted problems']})]})]})]}):r.jsxs("div",{style:A.noVehicleContainer,children:[r.jsx("p",{style:A.noVehicle,children:"No vehicle assigned"}),r.jsxs("div",{style:A.instructions,children:[r.jsx("div",{style:A.instructionsTitle,children:" Information"}),r.jsxs("ul",{style:A.instructionsList,children:[r.jsxs("li",{style:A.instructionItem,children:[r.jsx("span",{style:A.checkMark,children:""}),"You must have an active vehicle reservation"]}),r.jsxs("li",{style:A.instructionItem,children:[r.jsx("span",{style:A.checkMark,children:""}),"Check with your supervisor for current assignment"]}),r.jsxs("li",{style:A.instructionItem,children:[r.jsx("span",{style:A.checkMark,children:""}),"Vehicle assignment is required for issue reporting"]})]})]})]})]}),r.jsxs("div",{style:A.formPanel,children:[r.jsxs("div",{style:A.formHeader,children:[r.jsx("h2",{style:A.formTitle,children:"Report Vehicle Issue"}),r.jsx("p",{style:A.formSubtitle,children:"Help us maintain vehicle safety and performance through predictive maintenance"})]}),x.fetchError&&r.jsx("div",{style:A.errorBanner,children:x.fetchError}),x.submitError&&r.jsx("div",{style:A.errorBanner,children:x.submitError}),x.vehicle&&r.jsx("div",{style:A.errorBanner,children:x.vehicle}),n?r.jsxs("form",{onSubmit:V,style:A.form,children:[r.jsxs("div",{style:A.currentVehicleInfo,children:[r.jsx("div",{style:A.currentVehicleLabel,children:"Reporting Issue For:"}),r.jsxs("div",{style:A.currentVehicleDetails,children:[n.brand," ",n.model,"  ",n.plate_number]})]}),r.jsxs("div",{style:A.singleField,children:[r.jsx("label",{style:A.label,children:"Issue Severity *"}),r.jsx("div",{style:A.severityOptions,children:b.map(U=>{const R=f===U.value,T=L[U.value];return r.jsxs("div",{style:A.severityOption,children:[r.jsx("input",{type:"radio",id:`severity-${U.value}`,name:"severity",value:U.value,checked:R,onChange:Y=>g(Y.target.value),style:A.radio,required:!0}),r.jsxs("label",{htmlFor:`severity-${U.value}`,style:{flex:1,padding:"12px",borderRadius:"8px",borderWidth:"2px",borderStyle:"solid",borderColor:R?T.borderColor:"#e5e7eb",backgroundColor:R?T.backgroundColor:"#f9fafb",cursor:"pointer",transition:"all 0.2s"},children:[r.jsx("div",{style:A.severityTitle,children:U.value.charAt(0).toUpperCase()+U.value.slice(1)}),r.jsx("div",{style:A.severityDescription,children:U.label})]})]},U.value)})}),x.severity&&r.jsx("div",{style:A.errorText,children:x.severity})]}),r.jsxs("div",{style:A.singleField,children:[r.jsx("label",{style:A.label,children:"Select Issue Categories *"}),r.jsx("div",{style:A.categoryGrid,children:E.map(U=>r.jsxs("div",{style:A.categoryGroup,children:[r.jsx("div",{style:A.categoryTitle,children:U.label}),r.jsx("div",{style:A.subcategoryList,children:U.subcategories.map(R=>{const T=`${U.id}:${R}`;return r.jsxs("div",{style:A.checkboxItem,children:[r.jsx("input",{type:"checkbox",id:T,checked:o.includes(T),onChange:()=>K(U.id,R),style:A.checkbox}),r.jsx("label",{htmlFor:T,style:A.checkboxLabel,children:R})]},T)})})]},U.id))}),x.issues&&r.jsx("div",{style:A.errorText,children:x.issues})]}),r.jsxs("div",{style:A.singleField,children:[r.jsxs("div",{style:A.checkboxItem,children:[r.jsx("input",{type:"checkbox",id:"customIssueToggle",checked:m,onChange:U=>p(U.target.checked),style:A.checkbox}),r.jsx("label",{htmlFor:"customIssueToggle",style:A.checkboxLabel,children:"Other Issue (not listed above)"})]}),m&&r.jsxs("div",{style:A.customInputContainer,children:[r.jsx("input",{type:"text",value:c,onChange:U=>d(U.target.value),placeholder:"Describe the issue not listed above",style:{...A.input,...x.customIssue&&A.inputError}}),x.customIssue&&r.jsx("div",{style:A.errorText,children:x.customIssue})]})]}),r.jsxs("div",{style:A.singleField,children:[r.jsxs("label",{style:A.label,children:["Additional Details & Description",r.jsx("span",{style:A.helperTextInline,children:"(Optional but recommended)"})]}),r.jsx("textarea",{value:s,onChange:U=>i(U.target.value),placeholder:"Provide additional details: When does it happen? How severe is it? Any warning lights? etc.",style:{...A.input,...A.textarea,minHeight:"120px",resize:"vertical"}}),r.jsx("div",{style:A.helperText,children:"Include details like frequency, severity, conditions when issue occurs, and any warning indicators"})]}),r.jsx("div",{style:A.buttonContainer,children:r.jsx("button",{type:"submit",style:{...A.submitButton,...k&&A.submitButtonDisabled},disabled:k,children:k?"Submitting...":"Submit Report"})})]}):r.jsxs("div",{style:A.noVehicleMessage,children:[r.jsx("div",{style:A.noVehicleIcon,children:""}),r.jsxs("div",{style:A.noVehicleText,children:["You need an active vehicle reservation to report issues.",r.jsx("br",{}),"Please check with your supervisor for current vehicle assignment."]})]})]})]}),j&&r.jsx("div",{style:A.modalOverlay,children:r.jsxs("div",{style:A.modal,children:[r.jsx("div",{style:A.modalTitle,children:" Issue Reported Successfully"}),r.jsxs("div",{style:A.modalMessage,children:["Your vehicle issue has been recorded.",r.jsx("br",{}),"Maintenance team will be notified."]}),r.jsx("button",{onClick:()=>S(!1),style:A.modalButton,children:"Close"})]})})]})}const A={pageContainer:{padding:"0",margin:"0",width:"100%",height:"calc(100vh - 70px)",backgroundColor:"#f8fafc",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},mainCard:{display:"flex",width:"95%",maxWidth:"1400px",height:"90%",minHeight:"500px",maxHeight:"700px",borderRadius:"16px",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",backgroundColor:"#fff"},vehiclePanel:{flex:"0 0 350px",backgroundColor:"#0e2a47",color:"white",padding:"30px",display:"flex",flexDirection:"column",justifyContent:"flex-start",overflow:"hidden"},panelTitle:{fontSize:"1.5rem",fontWeight:"700",margin:"0 0 25px 0",color:"#fff",textAlign:"center"},vehicleInfo:{lineHeight:"1.6",flex:"1",display:"flex",flexDirection:"column",minHeight:"0"},vehicleDetails:{marginBottom:"30px",flexShrink:"0"},vehicleBrand:{fontSize:"1.4rem",fontWeight:"800",color:"#93c5fd",marginBottom:"8px",textAlign:"center"},vehicleModel:{fontSize:"1.4rem",fontWeight:"800",color:"#86efac",marginBottom:"8px",textAlign:"center"},vehiclePlate:{fontSize:"1.4rem",fontWeight:"800",color:"#fdba74",marginBottom:"0",textAlign:"center"},instructions:{backgroundColor:"rgba(255, 255, 255, 0.1)",padding:"20px",borderRadius:"8px",margin:"0",border:"1px solid rgba(255, 255, 255, 0.2)",flex:"1",minHeight:"0",overflow:"hidden"},instructionsTitle:{fontSize:"1.1rem",fontWeight:"700",marginBottom:"15px",color:"#86efac",textAlign:"center",flexShrink:"0"},instructionsList:{listStyle:"none",padding:"0",margin:"0",opacity:"0.9",overflow:"hidden"},instructionItem:{fontSize:"0.9rem",marginBottom:"12px",display:"flex",alignItems:"flex-start",lineHeight:"1.4",flexShrink:"0"},checkMark:{color:"#86efac",fontWeight:"bold",marginRight:"10px",fontSize:"1rem",flexShrink:"0",marginTop:"1px"},noVehicleContainer:{textAlign:"center",flex:"1",display:"flex",flexDirection:"column",minHeight:"0"},noVehicle:{fontSize:"1.2rem",opacity:"0.8",margin:"0 0 25px 0",color:"#fdba74",fontWeight:"600",flexShrink:"0"},formPanel:{flex:"1",padding:"40px",display:"flex",flexDirection:"column",overflow:"auto",minWidth:"0"},formHeader:{marginBottom:"30px",textAlign:"center"},formTitle:{fontSize:"1.8rem",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},formSubtitle:{fontSize:"1rem",color:"#6b7280",margin:"0"},form:{width:"100%",maxWidth:"800px",margin:"0 auto",display:"flex",flexDirection:"column",flex:"1"},currentVehicleInfo:{backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",padding:"15px",marginBottom:"25px",textAlign:"center"},currentVehicleLabel:{fontSize:"0.9rem",color:"#0369a1",marginBottom:"5px",fontWeight:"600"},currentVehicleDetails:{fontSize:"1.1rem",fontWeight:"600",color:"#0c4a6e"},singleField:{marginBottom:"25px",width:"100%"},label:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"10px",color:"#374151",display:"block"},input:{width:"100%",padding:"14px 16px",fontSize:"1.1rem",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"#fff",boxSizing:"border-box"},textarea:{fontFamily:"inherit",lineHeight:"1.5"},inputError:{border:"2px solid #dc2626"},errorText:{color:"#dc2626",fontSize:"0.9rem",marginTop:"6px"},buttonContainer:{display:"flex",justifyContent:"center",marginTop:"auto",paddingTop:"20px"},submitButton:{padding:"10px 20px",backgroundColor:"#dc2626",color:"#fff",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s",width:"160px",height:"44px"},submitButtonDisabled:{backgroundColor:"#9ca3af",cursor:"not-allowed"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"#fff",padding:"32px",borderRadius:"12px",textAlign:"center",minWidth:"300px",maxWidth:"400px"},modalTitle:{fontSize:"1.3rem",fontWeight:"600",color:"#16a34a",marginBottom:"12px"},modalMessage:{marginBottom:"20px",color:"#374151",fontSize:"1rem",lineHeight:"1.5"},modalButton:{padding:"10px 20px",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"500"},loading:{textAlign:"center",color:"#93c5fd",fontSize:"1.1rem",margin:"20px 0"},errorBanner:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"0.95rem"},helperText:{fontSize:"0.8rem",color:"#6b7280",marginTop:"4px",fontStyle:"italic"},helperTextInline:{fontSize:"0.8rem",color:"#6b7280",fontStyle:"italic",fontWeight:"normal"},categoryGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",maxHeight:"300px",overflowY:"auto",padding:"10px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},categoryGroup:{marginBottom:"15px"},categoryTitle:{fontSize:"0.95rem",fontWeight:"600",color:"#374151",marginBottom:"8px",paddingBottom:"4px",borderBottom:"1px solid #e5e7eb"},subcategoryList:{display:"flex",flexDirection:"column",gap:"6px"},checkboxItem:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},checkbox:{width:"16px",height:"16px",cursor:"pointer"},checkboxLabel:{fontSize:"0.9rem",color:"#4b5563",cursor:"pointer",userSelect:"none"},customInputContainer:{marginTop:"10px"},noVehicleMessage:{textAlign:"center",padding:"60px 20px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},noVehicleIcon:{fontSize:"3rem",marginBottom:"20px"},noVehicleText:{fontSize:"1.1rem",color:"#6b7280",lineHeight:"1.6"},severityOptions:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px",marginTop:"10px"},severityOption:{display:"flex",alignItems:"flex-start"},radio:{marginTop:"4px",marginRight:"10px",cursor:"pointer"},severityTitle:{fontSize:"1rem",fontWeight:"600",marginBottom:"4px"},severityDescription:{fontSize:"0.85rem",color:"#6b7280",lineHeight:"1.4"}};function Ex(){const{user:e,loading:t}=it(),n=Gt(),[l,s]=h.useState("dashboard");return h.useEffect(()=>{t||(e?e.role.toLowerCase()!=="driver"&&(e.role==="Admin"?n("/admin",{replace:!0}):e.role==="Shop"?n("/shop",{replace:!0}):n("/",{replace:!0})):n("/",{replace:!0}))},[e,t,n]),t||!e||e.role.toLowerCase()!=="driver"?r.jsx("div",{className:"w-full h-screen flex items-center justify-center text-2xl font-bold",children:"Loading Dashboard..."}):r.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-gray-100 font-sans",children:[r.jsx(Fs,{userRole:"driver",activeSection:l,onNavigate:s}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(Ds,{}),r.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[l==="dashboard"&&r.jsx(kx,{user:e}),l==="mileage"&&r.jsx(Nx,{}),l==="issues"&&r.jsx(_x,{}),l==="rfid"&&r.jsx(Cx,{}),l==="logout"&&r.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:"You have been logged out."})]})]})]})}function Rx({report:e,isOpen:t,onClose:n}){var y,j;if(!t)return null;const l={available:{text:"Available",color:"#2ecc71"},"in use":{text:"In Use",color:"#f39c12"},reserved:{text:"Reserved",color:"#3498db"},"for inspection":{text:"For Inspection",color:"#9b59b6"},"under repair":{text:"Under Repair",color:"#e74c3c"},"finished repair":{text:"Finished Repair",color:"#27ae60"}},s={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},i={background:"#fff",borderRadius:"1rem",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",position:"relative"},o={position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},a={fontSize:"1.4rem",fontWeight:600,marginBottom:"24px",color:"#0e2a47",paddingRight:"40px",fontFamily:"Montserrat, sans-serif"},c={marginBottom:"20px"},d={fontSize:"0.9rem",color:"#666",marginBottom:"4px",fontWeight:"500",display:"block"},f={fontSize:"1rem",color:"#333",marginBottom:"12px",padding:"8px 12px",background:"#f9f9f9",borderRadius:"6px",border:"1px solid #eee"},g=(S,k)=>{let u="#95a5a6";return S==="severity"?k==="critical"?u="#e74c3c":k==="high"?u="#f39c12":k==="low"&&(u="#2ecc71"):S==="workflow"?k==="Reported"?u="#3498db":k==="Received"?u="#f39c12":k==="Under Repair"?u="#e74c3c":k==="Resolved"&&(u="#2ecc71"):S==="vehicle"&&(u=(l[k==null?void 0:k.toLowerCase()]||{color:"#95a5a6"}).color),{padding:"6px 12px",borderRadius:"16px",color:"#fff",fontWeight:600,fontSize:"0.85rem",display:"inline-block",background:u}},x=S=>{try{return!S||isNaN(S.getTime())?"Invalid Date":S.toLocaleString()}catch{return"Invalid Date"}};return r.jsx("div",{style:s,onClick:n,children:r.jsxs("div",{style:i,onClick:S=>S.stopPropagation(),children:[r.jsx("button",{style:o,onClick:n,onMouseEnter:S=>{S.target.style.background="#f0f0f0"},onMouseLeave:S=>{S.target.style.background="none"},children:""}),r.jsx("h2",{style:a,children:"Issue Report Details"}),r.jsxs("div",{style:c,children:[r.jsx("span",{style:d,children:"Vehicle Information"}),r.jsxs("div",{style:f,children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[r.jsxs("span",{children:["Brand: ",r.jsx("strong",{children:e.brand})]}),r.jsxs("span",{children:["Model: ",r.jsx("strong",{children:e.model})]})]}),r.jsx("div",{style:{display:"flex",justifyContent:"space-between"},children:r.jsxs("span",{children:["Plate Number: ",r.jsx("strong",{children:e.plate_number})]})})]})]}),r.jsxs("div",{style:c,children:[r.jsx("span",{style:d,children:"Status Information"}),r.jsxs("div",{style:f,children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsxs("span",{children:["Vehicle Status: ",r.jsx("span",{style:g("vehicle",e.vehicle_status),children:((j=l[(y=e.vehicle_status)==null?void 0:y.toLowerCase()])==null?void 0:j.text)||e.vehicle_status||"Unknown"})]}),r.jsxs("span",{children:["Workflow Status: ",r.jsx("span",{style:g("workflow",e.status),children:e.status})]})]}),r.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"8px"},children:r.jsxs("span",{children:["Severity: ",r.jsx("span",{style:g("severity",e.severity),children:e.severity})]})})]})]}),r.jsxs("div",{style:c,children:[r.jsx("span",{style:d,children:"Report Information"}),r.jsxs("div",{style:f,children:[r.jsx("div",{style:{marginBottom:"4px"},children:r.jsxs("span",{children:["Reported by: ",r.jsx("strong",{children:e.reported_by_name})]})}),r.jsx("div",{style:{marginBottom:"4px"},children:r.jsxs("span",{children:["Reported Date: ",r.jsx("strong",{children:x(e.reported_date)})]})}),e.last_updated_by&&r.jsxs(r.Fragment,{children:[r.jsx("div",{style:{marginBottom:"4px"},children:r.jsxs("span",{children:["Last Updated by: ",r.jsx("strong",{children:e.last_updated_by})]})}),e.last_update_time&&r.jsx("div",{style:{marginBottom:"4px"},children:r.jsxs("span",{children:["Last Updated on: ",r.jsx("strong",{children:x(e.last_update_time)})]})})]})]})]}),r.jsxs("div",{style:c,children:[r.jsx("span",{style:d,children:"Issue Categories"}),r.jsx("div",{style:f,children:e.issue_categories&&e.issue_categories.length>0?r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:e.issue_categories.map((S,k)=>r.jsx("span",{style:{padding:"4px 10px",background:"#e3f2fd",color:"#1976d2",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"500"},children:S},k))}):r.jsx("span",{style:{color:"#888",fontStyle:"italic"},children:"No categories specified"})})]}),e.custom_issue&&r.jsxs("div",{style:c,children:[r.jsx("span",{style:d,children:"Custom Issue"}),r.jsx("div",{style:f,children:e.custom_issue})]}),r.jsxs("div",{style:c,children:[r.jsx("span",{style:d,children:"Issue Description"}),r.jsx("div",{style:{...f,minHeight:"100px",whiteSpace:"pre-wrap",lineHeight:"1.5"},children:e.issue_description||"No description provided"})]})]})})}function Tx(){const{user:e,loading:t}=it(),n=Gt(),[l,s]=h.useState([]),[i,o]=h.useState(!1),[a,c]=h.useState(null),[d,f]=h.useState(null),[g,x]=h.useState(!1),[y,j]=h.useState({}),[S,k]=h.useState("All"),[u,m]=h.useState("All"),[p,v]=h.useState("newest"),C=["Reported","Received","Under Repair","Resolved"],w={available:{text:"Available",color:"#2ecc71"},"in use":{text:"In Use",color:"#f39c12"},reserved:{text:"Reserved",color:"#3498db"},"for inspection":{text:"For Inspection",color:"#9b59b6"},"under repair":{text:"Under Repair",color:"#e74c3c"},"finished repair":{text:"Finished Repair",color:"#27ae60"}},b=["low","high","critical"],E=z=>{if(!z||z.length===0)return null;const Z=z.map(Ce=>Ce.status),ee=Z.some(Ce=>Ce==="Under Repair"),ie=Z.some(Ce=>Ce==="Received"),de=Z.every(Ce=>Ce==="Resolved");return ee?"Under Repair":ie?"For Inspection":de?"Finished Repair":null};h.useEffect(()=>{if(!t&&(!e||e.role!=="Shop")){n("/login",{replace:!0});return}},[e,t,n]),h.useEffect(()=>{!t&&e&&L()},[t,e]);const L=async()=>{o(!0),c(null);try{const Z=await fetch("/.netlify/functions/getVehicleIssues");if(!Z.ok){const ie=await Z.json().catch(()=>({}));throw new Error(ie.error||`Failed to load reports: HTTP ${Z.status}`)}const ee=await Z.json();if(ee.success&&ee.data){const ie={},de=ee.data.map(te=>({issue_id:te.issue_id,vehicle_id:te.vehicle_id,brand:te.brand,model:te.model,plate_number:te.plate_number,vehicle_status_from_db:te.vehicle_status,reported_by:te.reported_by,reported_by_name:te.reported_by_name||"Unknown",issue_categories:te.issue_categories||[],custom_issue:te.custom_issue||"",issue_description:te.issue_description||"",reported_date:te.reported_date?new Date(te.reported_date):new Date,status:C.includes(te.status)?te.status:"Reported",severity:te.severity||"low",last_updated_by:te.last_updated_by||null,last_update_time:te.last_update_time?new Date(te.last_update_time):null}));de.forEach(te=>{ie[te.vehicle_id]||(ie[te.vehicle_id]=[]),ie[te.vehicle_id].push(te)});const Ce=de.map(te=>{const Ke=ie[te.vehicle_id]||[],fe=E(Ke),Ge=Ke.map(D=>D.status),vt=Ge.some(D=>D!=="Resolved"),jt=Ge.some(D=>D==="Under Repair"),Tt=Ge.some(D=>D==="Received"),O=Ge.every(D=>D==="Resolved");return{...te,vehicle:`${te.brand||""} ${te.model||""} ${te.plate_number||""}`.trim(),vehicle_has_issues:!0,vehicle_issues_count:Ke.length,vehicle_status:fe||te.vehicle_status_from_db||"available",vehicle_has_open_issues:vt,vehicle_has_under_repair:jt,vehicle_has_received:Tt,all_issues_resolved:O}});s(Ce)}else throw s([]),new Error(ee.error||"Failed to load reports")}catch(z){console.error("Error loading reports:",z),c(z.message)}finally{o(!1)}},I=async(z,Z)=>{if(!C.includes(Z)){alert(`Invalid status: ${Z}. Must be one of: ${C.join(", ")}`);return}j(ee=>({...ee,[z]:!0}));try{const de=await(await fetch("/.netlify/functions/updateIssueStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issue_id:z,status:Z,changed_by:(e==null?void 0:e.user_id)||(e==null?void 0:e.user_ID)||1})})).json();if(de.success)await L(),alert(de.message||`Issue status updated to ${Z}`);else throw new Error(de.error||"Failed to update status")}catch(ee){console.error("Error updating status:",ee),alert(`Failed to update status: ${ee.message}`)}finally{j(ee=>({...ee,[z]:!1}))}},K=z=>{f(z),x(!0)},W=()=>{x(!1),f(null)},V=h.useMemo(()=>{let z=[...l];return S!=="All"&&(z=z.filter(Z=>Z.status===S)),u!=="All"&&(z=z.filter(Z=>Z.severity===u)),z.sort((Z,ee)=>p==="newest"?ee.reported_date-Z.reported_date:Z.reported_date-ee.reported_date),z},[l,S,u,p]),P={background:"#fff",borderRadius:"1.5rem",boxShadow:"0 0 20px rgba(0,0,0,0.2)",padding:"32px",maxWidth:"100%",boxSizing:"border-box",margin:"0",minHeight:"calc(100vh - 110px)"},_={display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"1.3rem",fontWeight:600,marginBottom:"24px",fontFamily:"Montserrat, sans-serif"},H={display:"flex",gap:"16px",marginBottom:"24px",flexWrap:"wrap",alignItems:"center"},U={fontSize:"0.9rem",fontWeight:"500",color:"#666",marginRight:"8px"},R={padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"0.9rem",background:"#f9f9f9",cursor:"pointer",minWidth:"140px"},T={background:"#0e2a47",color:"#e6e6e6",fontWeight:500,padding:"14px 16px",textAlign:"left",fontSize:"1rem",whiteSpace:"nowrap"},Y={padding:"14px 16px",textAlign:"left",whiteSpace:"normal",wordWrap:"break-word",borderBottom:"1px solid #eee"},X=z=>{var ee;return{padding:"4px 8px",borderRadius:"8px",color:"#fff",fontWeight:600,fontSize:"0.75rem",display:"inline-block",background:(w[z==null?void 0:z.toLowerCase()]||w[(ee=z==null?void 0:z.replace(" ","_"))==null?void 0:ee.toLowerCase()]||{color:"#95a5a6"}).color,textTransform:"capitalize"}},oe=z=>{let Z="#95a5a6";return z==="critical"?Z="#e74c3c":z==="high"?Z="#f39c12":z==="low"&&(Z="#2ecc71"),{padding:"4px 10px",borderRadius:"12px",color:"#fff",fontWeight:600,fontSize:"0.75rem",display:"inline-block",background:Z,textTransform:"capitalize"}},ve=z=>({padding:"2px 6px",borderRadius:"10px",color:"#fff",fontWeight:600,fontSize:"0.7rem",display:"inline-block",background:z>1?"#e74c3c":"#95a5a6",marginLeft:"4px"}),Ee=z=>{try{return!z||isNaN(z.getTime())?{date:"Invalid Date",time:""}:{date:z.toLocaleDateString(),time:z.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}}catch{return{date:"Invalid Date",time:""}}};return t?r.jsx("div",{style:P,children:r.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#0e2a47"},children:r.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"16px"},children:"Verifying authentication..."})})}):i?r.jsx("div",{style:P,children:r.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#0e2a47"},children:r.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"16px"},children:"Loading reports..."})})}):a?r.jsx("div",{style:P,children:r.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#cc0000"},children:[r.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"16px"},children:"Error Loading Reports"}),r.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"20px"},children:a}),r.jsx("button",{onClick:L,style:{padding:"8px 24px",borderRadius:"6px",border:"1px solid #0e2a47",background:"#0e2a47",color:"white",cursor:"pointer",fontSize:"0.9rem"},children:"Retry"})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:P,children:[r.jsxs("div",{style:_,children:[r.jsx("span",{children:"Vehicle Issue Reports"}),r.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[r.jsxs("span",{style:{fontSize:"0.9rem",color:"#666"},children:["Showing: ",V.length," of ",l.length," reports"]}),r.jsx("button",{onClick:L,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #0e2a47",background:"#0e2a47",color:"white",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"6px"},children:" Refresh"})]})]}),r.jsxs("div",{style:H,children:[r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("span",{style:U,children:"Status:"}),r.jsxs("select",{value:S,onChange:z=>k(z.target.value),style:R,children:[r.jsx("option",{value:"All",children:"All Statuses"}),C.map(z=>r.jsx("option",{value:z,children:z},z))]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("span",{style:U,children:"Severity:"}),r.jsxs("select",{value:u,onChange:z=>m(z.target.value),style:R,children:[r.jsx("option",{value:"All",children:"All Severities"}),b.map(z=>r.jsx("option",{value:z,children:z.charAt(0).toUpperCase()+z.slice(1)},z))]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx("span",{style:U,children:"Sort by Date:"}),r.jsxs("select",{value:p,onChange:z=>v(z.target.value),style:R,children:[r.jsx("option",{value:"newest",children:"Newest First"}),r.jsx("option",{value:"oldest",children:"Oldest First"})]})]})]}),r.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:"Arial, sans-serif"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{...T,width:"20%"},children:"Vehicle"}),r.jsx("th",{style:{...T,width:"12%"},children:"Date Reported"}),r.jsx("th",{style:{...T,width:"10%"},children:"Severity"}),r.jsx("th",{style:{...T,width:"15%"},children:"Vehicle Status"}),r.jsx("th",{style:{...T,width:"20%"},children:"Workflow Status"}),r.jsx("th",{style:{...T,width:"10%"},children:"Actions"})]})}),r.jsx("tbody",{children:V.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",style:{...Y,textAlign:"center",padding:"60px",color:"#666",fontSize:"1rem"},children:l.length===0?"No vehicle issue reports found":"No reports match the selected filters"})}):V.map(z=>{var Ce,te,Ke;const Z=Ee(z.reported_date),ee=w[(Ce=z.vehicle_status)==null?void 0:Ce.toLowerCase()]||w[(Ke=(te=z.vehicle_status)==null?void 0:te.replace(" ","_"))==null?void 0:Ke.toLowerCase()]||{text:z.vehicle_status||"Unknown"},de={padding:"6px 30px 6px 12px",borderRadius:"16px",color:"#fff",fontWeight:600,fontSize:"0.85rem",cursor:"pointer",background:'url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23ffffff%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E") right 10px center/12px 12px no-repeat',backgroundColor:(fe=>fe==="Reported"?"#3498db":fe==="Received"?"#f39c12":fe==="Under Repair"?"#e74c3c":fe==="Resolved"?"#2ecc71":"#95a5a6")(z.status),border:"none",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",minWidth:"160px",outline:"none",position:"relative",transition:"background-color 0.2s"};return r.jsxs("tr",{children:[r.jsxs("td",{style:Y,children:[r.jsxs("div",{style:{fontWeight:500,fontSize:"0.95rem"},children:[z.brand," ",z.model,z.vehicle_issues_count>1&&r.jsxs("span",{style:ve(z.vehicle_issues_count),children:[z.vehicle_issues_count," issues"]})]}),r.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:["Plate: ",z.plate_number]})]}),r.jsxs("td",{style:Y,children:[r.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem"},children:Z.date}),r.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:Z.time})]}),r.jsx("td",{style:Y,children:r.jsx("span",{style:oe(z.severity),children:z.severity})}),r.jsxs("td",{style:Y,children:[r.jsx("span",{style:X(z.vehicle_status),children:ee.text}),z.vehicle_issues_count>1&&r.jsx("div",{style:{fontSize:"0.7rem",color:"#666",marginTop:"2px"},children:z.vehicle_has_under_repair?r.jsx("span",{style:{color:"#e74c3c"},children:" Has issues under repair"}):z.vehicle_has_received?r.jsx("span",{style:{color:"#9b59b6"},children:" Has issues for inspection"}):z.vehicle_has_open_issues?r.jsx("span",{style:{color:"#f39c12"},children:" Has open issues"}):r.jsx("span",{style:{color:"#2ecc71"},children:" All issues resolved"})})]}),r.jsx("td",{style:Y,children:y[z.issue_id]?r.jsx("div",{style:{display:"inline-block"},children:r.jsx("select",{value:z.status,style:{...de,opacity:.7,cursor:"not-allowed"},disabled:!0,children:r.jsx("option",{value:z.status,style:{backgroundColor:"#fff",color:"#333"},children:"Updating..."})})}):r.jsx("div",{style:{display:"inline-block",position:"relative"},children:r.jsx("select",{value:z.status,onChange:fe=>I(z.issue_id,fe.target.value),style:de,disabled:y[z.issue_id],children:C.map(fe=>r.jsx("option",{value:fe,style:{backgroundColor:"#fff",color:"#333",padding:"8px",fontSize:"0.85rem"},children:fe},fe))})})}),r.jsx("td",{style:Y,children:r.jsx("button",{onClick:()=>K(z),style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #0e2a47",background:"transparent",color:"#0e2a47",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500",transition:"all 0.2s"},onMouseEnter:fe=>{fe.target.style.background="#0e2a47",fe.target.style.color="white"},onMouseLeave:fe=>{fe.target.style.background="transparent",fe.target.style.color="#0e2a47"},children:"View Details"})})]},z.issue_id)})})]})]}),g&&d&&r.jsx(Rx,{report:d,isOpen:g,onClose:W})]})}function Ix({item:e,isOpen:t,onClose:n,maintenanceOptions:l}){const[s,i]=h.useState([]),[o,a]=h.useState(!1);h.useEffect(()=>{t&&e.logs&&e.logs.length>0?c():i([])},[t,e]);const c=async()=>{a(!0);try{const b=e.logs.map(I=>I.log_id);console.log("Loading details for log IDs:",b);const L=await fetch("/.netlify/functions/getInventoryLogDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({log_ids:b})});if(L.ok){const I=await L.json();if(console.log("Backend response:",I),I.success&&I.data){console.log("Users data from backend:",I.data.users),console.log("Vehicles data from backend:",I.data.vehicles);const K=e.logs.map(W=>{var R,T,Y;const V=(R=I.data.users)==null?void 0:R.find(X=>X.user_id===W.user_id),P=(T=I.data.vehicles)==null?void 0:T.find(X=>X.vehicle_id===W.vehicle_id),_=(Y=I.data.usage_logs)==null?void 0:Y.find(X=>X.usage_id===W.usage_id);console.log(`For log ${W.log_id} (user_id: ${W.user_id}):`,{userFound:!!V,userData:V,userFullName:V==null?void 0:V.full_name,userFirstname:V==null?void 0:V.firstname,userLastname:V==null?void 0:V.lastname,username:V==null?void 0:V.username});let H;V!=null&&V.full_name?H=V.full_name:V!=null&&V.firstname&&(V!=null&&V.lastname)?H=`${V.firstname} ${V.lastname}`:V!=null&&V.username?H=V.username:H=`User ${W.user_id}`;let U=null;if(P){const X=[];P.plate_number&&X.push(P.plate_number),P.brand&&X.push(P.brand),P.model&&X.push(P.model),P.year&&X.push(`(${P.year})`),U=X.join(" ")}return{...W,user_name:H,user_info:V||{user_id:W.user_id},vehicle_info:U,vehicle_data:P||null,usage_info:_||null}});console.log("Enhanced logs:",K),i(K)}else console.error("Backend returned unsuccessful:",I),i(e.logs.map(K=>({...K,user_name:`User ${K.user_id}`,vehicle_info:K.vehicle_id?`Vehicle #${K.vehicle_id}`:null})))}else console.error("Failed to fetch log details:",L.status,L.statusText),i(e.logs.map(I=>({...I,user_name:`User ${I.user_id}`,vehicle_info:I.vehicle_id?`Vehicle #${I.vehicle_id}`:null})))}catch(b){console.error("Error loading log details:",b),i(e.logs.map(E=>({...E,user_name:`User ${E.user_id}`,vehicle_info:E.vehicle_id?`Vehicle #${E.vehicle_id}`:null})))}finally{a(!1)}};if(!t)return null;const d={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},f={background:"#fff",borderRadius:"1rem",padding:"32px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 0 30px rgba(0,0,0,0.3)"},g={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"1px solid #eee"},x={fontSize:"1.5rem",fontWeight:600,color:"#0e2a47",fontFamily:"Montserrat, sans-serif"},y={background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},j={marginBottom:"24px"},S={display:"block",fontSize:"0.9rem",fontWeight:500,color:"#666",marginBottom:"8px"},k={background:"#f9f9f9",padding:"12px",borderRadius:"6px",fontSize:"1rem",marginBottom:"16px"},u={padding:"10px 24px",borderRadius:"6px",border:"1px solid #0e2a47",background:"#0e2a47",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:500,transition:"all 0.2s"},m={width:"100%",borderCollapse:"collapse",marginTop:"16px"},p={background:"#f0f0f0",padding:"10px",textAlign:"left",fontWeight:500,borderBottom:"1px solid #ddd"},v={padding:"10px",borderBottom:"1px solid #eee"},C=b=>new Date(b).toLocaleString(),w=b=>b==null?"N/A":b.toLocaleString();return r.jsx("div",{style:d,onClick:n,children:r.jsxs("div",{style:f,onClick:b=>b.stopPropagation(),children:[r.jsxs("div",{style:g,children:[r.jsxs("h2",{style:x,children:[e.part_name," - Usage Logs"]}),r.jsx("button",{style:y,onClick:n,children:""})]}),r.jsxs("div",{style:j,children:[r.jsx("span",{style:S,children:"Part Information"}),r.jsxs("div",{style:k,children:[r.jsxs("div",{style:{marginBottom:"8px"},children:[r.jsx("strong",{children:"Category:"})," ",e.part_category]}),r.jsxs("div",{style:{marginBottom:"8px"},children:[r.jsx("strong",{children:"Current Stock:"})," ",e.current_quantity," ",e.measurement.toLowerCase()]}),e.part_description&&r.jsxs("div",{style:{marginBottom:"8px"},children:[r.jsx("strong",{children:"Description:"})," ",e.part_description]})]})]}),r.jsxs("div",{style:j,children:[r.jsxs("span",{style:S,children:["Recent Activity Logs",o&&r.jsx("span",{style:{marginLeft:"10px",fontSize:"0.8rem",color:"#666"},children:"Loading details..."})]}),s.length>0?r.jsxs("table",{style:m,children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:p,children:"Date & Time"}),r.jsx("th",{style:p,children:"Action"}),r.jsx("th",{style:p,children:"Quantity"}),r.jsx("th",{style:p,children:"Vehicle"}),r.jsx("th",{style:p,children:"Maintenance"}),r.jsx("th",{style:p,children:"User"})]})}),r.jsx("tbody",{children:s.slice(0,10).map(b=>r.jsxs("tr",{children:[r.jsx("td",{style:v,children:C(b.logged_at)}),r.jsx("td",{style:v,children:r.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",background:b.action_type==="RESTOCK"?"#d4edda":"#f8d7da",color:b.action_type==="RESTOCK"?"#155724":"#721c24",fontSize:"0.8rem",fontWeight:500},children:b.action_type})}),r.jsx("td",{style:v,children:r.jsxs("span",{style:{color:b.action_type==="RESTOCK"?"#2ecc71":"#e74c3c",fontWeight:600},children:[b.action_type==="RESTOCK"?"+":"-",Math.abs(b.quantity_change)," ",e.measurement.toLowerCase()]})}),r.jsxs("td",{style:v,children:[b.vehicle_info||"N/A",b.usage_info&&r.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"4px"},children:["Odometer: ",w(b.usage_info.current_odometer)," km",b.usage_info.mileage>0&&` | Mileage: ${w(b.usage_info.mileage)} km`]})]}),r.jsx("td",{style:v,children:b.maintenance_type||"N/A"}),r.jsx("td",{style:v,children:b.user_name})]},b.log_id))})]}):e.logs&&e.logs.length>0?r.jsx("div",{style:k,children:"Loading logs..."}):r.jsx("div",{style:k,children:"No activity logs found for this item."}),s.some(b=>b.usage_info)&&r.jsxs("div",{style:{marginTop:"24px"},children:[r.jsx("span",{style:S,children:"Vehicle Maintenance Details"}),r.jsxs("table",{style:m,children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:p,children:"Vehicle"}),r.jsx("th",{style:p,children:"Date"}),r.jsx("th",{style:p,children:"Odometer"}),r.jsx("th",{style:p,children:"Mileage"}),r.jsx("th",{style:p,children:"Fuel Level"}),r.jsx("th",{style:p,children:"Fuel Added"})]})}),r.jsx("tbody",{children:s.filter(b=>b.usage_info).slice(0,5).map(b=>r.jsxs("tr",{children:[r.jsxs("td",{style:v,children:[b.usage_info.plate_number," - ",b.usage_info.brand," ",b.usage_info.model]}),r.jsx("td",{style:v,children:C(b.usage_info.timestamp)}),r.jsxs("td",{style:v,children:[w(b.usage_info.previous_odometer),"  ",w(b.usage_info.current_odometer)," km"]}),r.jsxs("td",{style:v,children:[w(b.usage_info.mileage)," km"]}),r.jsxs("td",{style:v,children:[w(b.usage_info.previous_fuel),"  ",w(b.usage_info.current_fuel)," L"]}),r.jsxs("td",{style:v,children:[w(b.usage_info.fuel_added)," L"]})]},b.usage_info.usage_id))})]})]})]}),r.jsx("div",{style:{textAlign:"right",marginTop:"24px"},children:r.jsx("button",{onClick:n,style:{...u,background:"transparent",color:"#0e2a47"},children:"Close"})})]})})}function Lx({item:e,isOpen:t,onClose:n,onConfirm:l,maintenanceOptions:s=[]}){const[i,o]=h.useState(""),[a,c]=h.useState(""),[d,f]=h.useState(""),[g,x]=h.useState(""),[y,j]=h.useState(""),[S,k]=h.useState(""),[u,m]=h.useState(!1),[p,v]=h.useState(""),[C,w]=h.useState(""),[b,E]=h.useState(null),[L,I]=h.useState(!1),[K,W]=h.useState(null),[V,P]=h.useState(0),[_,H]=h.useState(0);h.useEffect(()=>{t&&e&&(o(""),c(""),f(""),x(""),j(""),k(""),v(""),w(""),E(null),W(null),P(0),H(0))},[t,e]),h.useEffect(()=>{b&&U(b.vehicle_id)},[b]);const U=async le=>{try{const Be=`/.netlify/functions/getVehicleLatestData?vehicle_id=${le}`,Re=await fetch(Be);if(Re.ok){const Ue=await Re.json();if(Ue.success&&Ue.data){console.log("Vehicle data received:",Ue.data),W(Ue.data);const Ne=Number(Ue.data.current_odometer)||0,Je=Number(Ue.data.current_fuel)||0;console.log("Setting previousOdometer to:",Ne),P(Ne),H(Je),x("")}}}catch(Be){console.error("Error loading vehicle data:",Be)}},R=async()=>{var le;if(!a.trim()){w("Please enter a plate number"),E(null),W(null),P(0),H(0);return}I(!0),w("");try{const Re=await fetch("/.netlify/functions/getVehicles");if(Re.ok){const Ne=(le=(await Re.json()).vehicles)==null?void 0:le.find(Je=>Je.plate_number.toLowerCase()===a.trim().toLowerCase());Ne?(E({vehicle_id:Ne.vehicle_id,plate_number:Ne.plate_number,brand:Ne.brand,model:Ne.model,status:Ne.status,odometer:Ne.odometer}),w("")):(E(null),W(null),P(0),H(0),w(`Vehicle with plate number "${a}" not found`))}else w("Failed to search for vehicle")}catch(Be){console.error("Error searching vehicle:",Be),w("Error searching for vehicle")}finally{I(!1)}},T=le=>{const Be=le.target.value;c(Be),E(null),W(null),P(0),H(0),w("")},Y=le=>{le.key==="Enter"&&(le.preventDefault(),R())},X=async le=>{if(le.preventDefault(),!i||isNaN(parseInt(i))||parseInt(i)<=0){v(`Please enter a valid whole number quantity in ${e.measurement.toLowerCase()}`);return}const Be=parseInt(i);if(Be>e.current_quantity){v(`Cannot use ${Be} ${e.measurement.toLowerCase()} - only ${e.current_quantity} available`);return}if(a.trim()&&!b){v("Please verify the plate number or leave it empty");return}if(d&&!a.trim()){v("Please enter a plate number when logging maintenance");return}if(a.trim()&&C){v(C);return}let Re=null,Ue=null,Ne=null;if(b){if(!g){v("Current odometer reading is required for vehicle maintenance");return}if(Re=parseFloat(g),isNaN(Re)||Re<0){v("Current odometer must be a non-negative number");return}if(Re<=V){const Je=Math.round(Re*10)/10,Ze=Math.round(V*10)/10;if(Je<=Ze){v(`Current odometer (${Re}) must be greater than previous odometer (${V})`);return}}if(y&&(Ue=parseFloat(y),isNaN(Ue)||Ue<0)){v("Current fuel level must be a non-negative number");return}if(S&&(Ne=parseFloat(S),isNaN(Ne)||Ne<0)){v("Fuel added must be a non-negative number");return}}m(!0),v("");try{await l({partId:e.part_id,quantity:Be,measurement:e.measurement,vehicleId:(b==null?void 0:b.vehicle_id)||null,maintenanceType:d||null,currentOdometer:Re,currentFuel:Ue,fuelAdded:Ne}),o(""),c(""),f(""),x(""),j(""),k(""),E(null),W(null),w(""),P(0),H(0)}catch(Je){v(Je.message||"Failed to consume inventory")}finally{m(!1)}},oe={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:t?"flex":"none",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},ve={background:"#fff",borderRadius:"12px",padding:"24px",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},Ee={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid #e9ecef"},z={fontSize:"1.25rem",fontWeight:600,color:"#0e2a47",margin:0},Z={background:"none",border:"none",fontSize:"1.5rem",color:"#6c757d",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},ee={marginBottom:"16px"},ie={display:"block",marginBottom:"6px",fontSize:"0.9rem",fontWeight:500,color:"#495057"},de={width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #ced4da",fontSize:"0.9rem",boxSizing:"border-box"},Ce={width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #ced4da",fontSize:"0.9rem",background:"#fff",cursor:"pointer",boxSizing:"border-box"},te={color:"#dc3545",fontSize:"0.85rem",marginTop:"4px"},Ke={color:"#28a745",fontSize:"0.85rem",marginTop:"4px"},fe={display:"flex",gap:"12px",marginTop:"24px",paddingTop:"16px",borderTop:"1px solid #e9ecef"},Ge={padding:"10px 20px",borderRadius:"6px",border:"1px solid #6c757d",background:"#fff",color:"#6c757d",cursor:"pointer",fontSize:"0.9rem",fontWeight:500,flex:1},vt={padding:"10px 20px",borderRadius:"6px",border:"1px solid #dc3545",background:"#dc3545",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:500,flex:1},jt={...vt,opacity:.6,cursor:"not-allowed"},Tt={background:"#f8f9fa",borderRadius:"8px",padding:"16px",marginBottom:"20px"},O={display:"flex",justifyContent:"space-between",marginBottom:"8px"},D={fontSize:"0.9rem",color:"#6c757d",fontWeight:500},N={fontSize:"0.9rem",color:"#212529",fontWeight:600},$={background:"#e8f5e9",borderRadius:"8px",padding:"12px",marginTop:"8px",border:"1px solid #c3e6cb"},J={marginLeft:"8px",padding:"10px 16px",borderRadius:"6px",border:"1px solid #007bff",background:"#007bff",color:"white",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,whiteSpace:"nowrap"},G={display:"flex",gap:"8px"},re={flex:1},he={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginTop:"8px"},Le={display:"flex",flexDirection:"column",gap:"4px"},Xe={fontSize:"0.75rem",color:"#6c757d",fontStyle:"italic"};return!t||!e?null:r.jsx("div",{style:oe,onClick:n,children:r.jsxs("div",{style:ve,onClick:le=>le.stopPropagation(),children:[r.jsxs("div",{style:Ee,children:[r.jsx("h2",{style:z,children:"Use Inventory Item"}),r.jsx("button",{onClick:n,style:Z,"aria-label":"Close",children:""})]}),r.jsxs("div",{style:Tt,children:[r.jsxs("div",{style:O,children:[r.jsx("span",{style:D,children:"Part Name:"}),r.jsx("span",{style:N,children:e.part_name})]}),r.jsxs("div",{style:O,children:[r.jsx("span",{style:D,children:"Current Stock:"}),r.jsxs("span",{style:N,children:[e.current_quantity," ",e.measurement.toLowerCase()]})]}),r.jsxs("div",{style:O,children:[r.jsx("span",{style:D,children:"Category:"}),r.jsx("span",{style:N,children:e.part_category})]})]}),r.jsxs("form",{onSubmit:X,children:[r.jsxs("div",{style:ee,children:[r.jsxs("label",{style:ie,children:["Quantity to Use (",e.measurement.toLowerCase(),")*"]}),r.jsx("input",{type:"number",min:"1",max:e.current_quantity,step:"1",value:i,onChange:le=>o(le.target.value),style:de,required:!0,placeholder:`Enter quantity in ${e.measurement.toLowerCase()}`,onKeyPress:le=>{(le.key==="."||le.key===",")&&le.preventDefault()},disabled:L||u})]}),r.jsxs("div",{style:ee,children:[r.jsx("label",{style:ie,children:"Vehicle Plate Number (Optional)"}),r.jsxs("div",{style:G,children:[r.jsxs("div",{style:re,children:[r.jsx("input",{type:"text",value:a,onChange:T,onKeyPress:Y,style:de,placeholder:"Enter plate number (e.g., ABC-123)",disabled:L||u}),C&&r.jsx("div",{style:te,children:C}),b&&r.jsx("div",{style:Ke,children:" Vehicle found"})]}),r.jsx("button",{type:"button",onClick:R,style:J,disabled:L||u||!a.trim(),children:L?"Searching...":"Search"})]}),b&&r.jsxs("div",{style:$,children:[r.jsxs("div",{style:O,children:[r.jsx("span",{style:D,children:"Vehicle:"}),r.jsxs("span",{style:N,children:[b.plate_number," - ",b.brand," ",b.model]})]}),r.jsxs("div",{style:O,children:[r.jsx("span",{style:D,children:"Status:"}),r.jsx("span",{style:N,children:b.status})]}),K&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:O,children:[r.jsx("span",{style:D,children:"Previous Odometer:"}),r.jsxs("span",{style:N,children:[(V==null?void 0:V.toLocaleString())||"0"," km"]})]}),r.jsxs("div",{style:O,children:[r.jsx("span",{style:D,children:"Previous Fuel:"}),r.jsxs("span",{style:N,children:[(_==null?void 0:_.toLocaleString())||"0"," L"]})]})]})]})]}),b&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:ee,children:[r.jsx("label",{style:ie,children:"Vehicle Readings"}),r.jsxs("div",{style:he,children:[r.jsxs("div",{style:Le,children:[r.jsx("label",{style:{...ie,fontSize:"0.8rem"},children:"Current Odometer (km)*"}),r.jsx("input",{type:"number",step:"1",value:g,onChange:le=>x(le.target.value),style:de,placeholder:"Enter current odometer",disabled:u,required:!0}),r.jsxs("div",{style:Xe,children:["Previous: ",V.toLocaleString()," km (must be greater)"]})]}),r.jsxs("div",{style:Le,children:[r.jsx("label",{style:{...ie,fontSize:"0.8rem"},children:"Current Fuel (L)"}),r.jsx("input",{type:"number",min:"0",step:"0.1",value:y,onChange:le=>j(le.target.value),style:de,placeholder:"Enter current fuel level",disabled:u}),r.jsxs("div",{style:Xe,children:["Previous: ",_.toLocaleString()," L"]})]})]})]}),r.jsxs("div",{style:ee,children:[r.jsx("label",{style:ie,children:"Fuel Added (L) - Optional"}),r.jsx("input",{type:"number",min:"0",step:"0.1",value:S,onChange:le=>k(le.target.value),style:de,placeholder:"Enter fuel added (if any)",disabled:u})]})]}),r.jsxs("div",{style:ee,children:[r.jsx("label",{style:ie,children:"Maintenance Type (Optional)"}),r.jsxs("select",{value:d,onChange:le=>f(le.target.value),style:Ce,disabled:u,children:[r.jsx("option",{value:"",children:"Select maintenance type..."}),s.map(le=>r.jsx("option",{value:le,children:le},le))]})]}),p&&r.jsx("div",{style:{padding:"12px",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"6px",marginBottom:"16px",fontSize:"0.85rem"},children:p}),r.jsxs("div",{style:fe,children:[r.jsx("button",{type:"button",onClick:n,style:Ge,disabled:u,children:"Cancel"}),r.jsx("button",{type:"submit",style:u?jt:vt,disabled:u,children:u?"Processing...":"Use Item"})]})]})]})})}function Px({isOpen:e,onClose:t,onSuccess:n,categoryOptions:l=[],measurementOptions:s=[]}){const[i,o]=h.useState({part_name:"",part_description:"",part_category:"Other",measurement:"Pieces",initial_quantity:""}),[a,c]=h.useState(!1),[d,f]=h.useState(""),[g,x]=h.useState(""),y=_=>{const{name:H,value:U}=_.target;o(R=>({...R,[H]:U}))},j=async _=>{if(_.preventDefault(),f(""),x(""),!i.part_name.trim()){f("Part name is required");return}if(!i.initial_quantity||isNaN(parseInt(i.initial_quantity))||parseInt(i.initial_quantity)<0){f("Initial quantity must be a non-negative number");return}c(!0);try{const R=await(await fetch("/.netlify/functions/addInventory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({part_name:i.part_name.trim(),part_description:i.part_description.trim()||null,part_category:i.part_category,measurement:i.measurement,initial_quantity:parseInt(i.initial_quantity)})})).json();if(R.success)x(`Successfully added "${i.part_name}" to inventory`),o({part_name:"",part_description:"",part_category:"Other",measurement:"Pieces",initial_quantity:""}),setTimeout(()=>{n&&n()},1500);else throw new Error(R.error||"Failed to add inventory item")}catch(H){console.error("Error adding inventory:",H),f(H.message||"Failed to add inventory item")}finally{c(!1)}},S=()=>{f(""),x(""),o({part_name:"",part_description:"",part_category:"Other",measurement:"Pieces",initial_quantity:""}),t()},k={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:e?"flex":"none",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},u={background:"#fff",borderRadius:"12px",padding:"24px",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},m={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid #e9ecef"},p={fontSize:"1.25rem",fontWeight:600,color:"#0e2a47",margin:0},v={background:"none",border:"none",fontSize:"1.5rem",color:"#6c757d",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},C={marginBottom:"16px"},w={display:"block",marginBottom:"6px",fontSize:"0.9rem",fontWeight:500,color:"#495057"},b={width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #ced4da",fontSize:"0.9rem",boxSizing:"border-box"},E={width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #ced4da",fontSize:"0.9rem",background:"#fff",cursor:"pointer",boxSizing:"border-box"},L={width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #ced4da",fontSize:"0.9rem",boxSizing:"border-box",minHeight:"80px",resize:"vertical",fontFamily:"inherit"},I={display:"flex",gap:"12px",marginTop:"24px",paddingTop:"16px",borderTop:"1px solid #e9ecef"},K={padding:"10px 20px",borderRadius:"6px",border:"1px solid #6c757d",background:"#fff",color:"#6c757d",cursor:"pointer",fontSize:"0.9rem",fontWeight:500,flex:1},W={padding:"10px 20px",borderRadius:"6px",border:"1px solid #28a745",background:"#28a745",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:500,flex:1},V={...W,opacity:.6,cursor:"not-allowed"},P={color:"#dc3545",marginLeft:"2px"};return e?r.jsx("div",{style:k,onClick:S,children:r.jsxs("div",{style:u,onClick:_=>_.stopPropagation(),children:[r.jsxs("div",{style:m,children:[r.jsx("h2",{style:p,children:"Add New Inventory Item"}),r.jsx("button",{onClick:S,style:v,"aria-label":"Close",children:""})]}),r.jsxs("form",{onSubmit:j,children:[r.jsxs("div",{style:C,children:[r.jsxs("label",{style:w,children:["Part Name",r.jsx("span",{style:P,children:"*"})]}),r.jsx("input",{type:"text",name:"part_name",value:i.part_name,onChange:y,style:b,required:!0,placeholder:"Enter part name",disabled:a})]}),r.jsxs("div",{style:C,children:[r.jsx("label",{style:w,children:"Description (Optional)"}),r.jsx("textarea",{name:"part_description",value:i.part_description,onChange:y,style:L,placeholder:"Enter part description",disabled:a})]}),r.jsxs("div",{style:C,children:[r.jsxs("label",{style:w,children:["Category",r.jsx("span",{style:P,children:"*"})]}),r.jsx("select",{name:"part_category",value:i.part_category,onChange:y,style:E,required:!0,disabled:a,children:l.map(_=>r.jsx("option",{value:_,children:_},_))})]}),r.jsxs("div",{style:C,children:[r.jsxs("label",{style:w,children:["Measurement Unit",r.jsx("span",{style:P,children:"*"})]}),r.jsx("select",{name:"measurement",value:i.measurement,onChange:y,style:E,required:!0,disabled:a,children:s.map(_=>r.jsx("option",{value:_,children:_},_))})]}),r.jsxs("div",{style:C,children:[r.jsxs("label",{style:w,children:["Initial Quantity",r.jsx("span",{style:P,children:"*"})]}),r.jsx("input",{type:"number",name:"initial_quantity",value:i.initial_quantity,onChange:y,style:b,required:!0,min:"0",step:"1",placeholder:"0",onKeyPress:_=>{(_.key==="."||_.key===",")&&_.preventDefault()},disabled:a})]}),d&&r.jsx("div",{style:{padding:"12px",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"6px",marginBottom:"16px",fontSize:"0.85rem"},children:d}),g&&r.jsx("div",{style:{padding:"12px",backgroundColor:"#d4edda",color:"#155724",borderRadius:"6px",marginBottom:"16px",fontSize:"0.85rem"},children:g}),r.jsxs("div",{style:I,children:[r.jsx("button",{type:"button",onClick:S,style:K,disabled:a,children:"Cancel"}),r.jsx("button",{type:"submit",style:a?V:W,disabled:a,children:a?"Adding...":"Add Item"})]})]})]})}):null}function zx({item:e,isOpen:t,onClose:n,onConfirm:l}){const[s,i]=h.useState(""),[o,a]=h.useState(!1),[c,d]=h.useState("");Wc.useEffect(()=>{t&&e&&(i(""),d(""))},[t,e]);const f=async W=>{if(W.preventDefault(),!s||isNaN(parseInt(s))||parseInt(s)<=0){d(`Please enter a valid whole number quantity in ${e.measurement.toLowerCase()}`);return}const V=parseInt(s);a(!0),d("");try{await l({partId:e.part_id,quantity:V,measurement:e.measurement}),i("")}catch(P){d(P.message||"Failed to add stock")}finally{a(!1)}},g={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:t?"flex":"none",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},x={background:"#fff",borderRadius:"12px",padding:"24px",width:"100%",maxWidth:"400px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},y={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid #e9ecef"},j={fontSize:"1.25rem",fontWeight:600,color:"#0e2a47",margin:0},S={background:"none",border:"none",fontSize:"1.5rem",color:"#6c757d",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px"},k={marginBottom:"16px"},u={display:"block",marginBottom:"6px",fontSize:"0.9rem",fontWeight:500,color:"#495057"},m={width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #ced4da",fontSize:"0.9rem",boxSizing:"border-box"},p={display:"flex",gap:"12px",marginTop:"24px",paddingTop:"16px",borderTop:"1px solid #e9ecef"},v={padding:"10px 20px",borderRadius:"6px",border:"1px solid #6c757d",background:"#fff",color:"#6c757d",cursor:"pointer",fontSize:"0.9rem",fontWeight:500,flex:1},C={padding:"10px 20px",borderRadius:"6px",border:"1px solid #28a745",background:"#28a745",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:500,flex:1},w={...C,opacity:.6,cursor:"not-allowed"},b={background:"#f8f9fa",borderRadius:"8px",padding:"16px",marginBottom:"20px"},E={display:"flex",justifyContent:"space-between",marginBottom:"8px"},L={fontSize:"0.9rem",color:"#6c757d",fontWeight:500},I={fontSize:"0.9rem",color:"#212529",fontWeight:600},K={color:"#dc3545",marginLeft:"2px"};return!t||!e?null:r.jsx("div",{style:g,onClick:n,children:r.jsxs("div",{style:x,onClick:W=>W.stopPropagation(),children:[r.jsxs("div",{style:y,children:[r.jsx("h2",{style:j,children:"Add Stock"}),r.jsx("button",{onClick:n,style:S,"aria-label":"Close",children:""})]}),r.jsxs("div",{style:b,children:[r.jsxs("div",{style:E,children:[r.jsx("span",{style:L,children:"Part Name:"}),r.jsx("span",{style:I,children:e.part_name})]}),r.jsxs("div",{style:E,children:[r.jsx("span",{style:L,children:"Current Stock:"}),r.jsxs("span",{style:I,children:[e.current_quantity," ",e.measurement.toLowerCase()]})]}),r.jsxs("div",{style:E,children:[r.jsx("span",{style:L,children:"Measurement Unit:"}),r.jsx("span",{style:I,children:e.measurement})]})]}),r.jsxs("form",{onSubmit:f,children:[r.jsxs("div",{style:k,children:[r.jsxs("label",{style:u,children:["Quantity to Add (",e.measurement.toLowerCase(),")",r.jsx("span",{style:K,children:"*"})]}),r.jsx("input",{type:"number",min:"1",step:"1",value:s,onChange:W=>i(W.target.value),style:m,required:!0,placeholder:`Enter quantity in ${e.measurement.toLowerCase()}`,onKeyPress:W=>{(W.key==="."||W.key===",")&&W.preventDefault()},disabled:o})]}),c&&r.jsx("div",{style:{padding:"12px",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"6px",marginBottom:"16px",fontSize:"0.85rem"},children:c}),r.jsxs("div",{style:p,children:[r.jsx("button",{type:"button",onClick:n,style:v,disabled:o,children:"Cancel"}),r.jsx("button",{type:"submit",style:o?w:C,disabled:o,children:o?"Adding...":"Add Stock"})]})]})]})})}function Dx(){const{user:e,loading:t}=it(),n=Gt(),[l,s]=h.useState([]),[i,o]=h.useState([]),[a,c]=h.useState(!1),[d,f]=h.useState(null),[g,x]=h.useState(null),[y,j]=h.useState(!1),[S,k]=h.useState(!1),[u,m]=h.useState(null),[p,v]=h.useState(!1),[C,w]=h.useState(!1),[b,E]=h.useState(null),[L,I]=h.useState(null),[K,W]=h.useState("All"),[V,P]=h.useState("All"),[_,H]=h.useState("quantity"),[U,R]=h.useState(""),[T,Y]=h.useState(1),X=10,oe=["Fuel","Tires","Engine","Brakes","Electrical","Fluids","Filters","Suspension","Other"],ve=["Pieces","Liters","Gallons","Cans","Bottles","Boxes","Sets","Pairs","Rolls"],Ee={ok:{text:"In Stock",color:"#2ecc71"},low:{text:"Low Stock",color:"#f39c12"},very_low:{text:"Very Low",color:"#e74c3c"},out:{text:"Out of Stock",color:"#95a5a6"}},z=["Oil Change","Brake Service","Tire Replacement","Air Filter Change","Spark Plug Replacement","Battery Replacement","Suspension Repair","Other"],Z=Q=>{const ne=Math.round(Q);return ne<=0?"out":ne<=10?"very_low":ne<=25?"low":"ok"};h.useEffect(()=>{if(!t&&(!e||e.role!=="Shop")){n("/login",{replace:!0});return}},[e,t,n]),h.useEffect(()=>{!t&&e&&(ee(),ie())},[t,e]);const ee=async()=>{c(!0),f(null);try{const ne=await fetch("/.netlify/functions/getInventory");if(!ne.ok){const Oe=await ne.json().catch(()=>({}));throw new Error(Oe.error||`Failed to load inventory: HTTP ${ne.status}`)}const ce=await ne.json();if(ce.success&&ce.data)s(ce.data);else throw s([]),new Error(ce.error||"Failed to load inventory")}catch(Q){console.error("Error loading inventory:",Q),f(Q.message)}finally{c(!1)}},ie=async()=>{try{const ne=await fetch("/.netlify/functions/getInventoryLogs");if(ne.ok){const ce=await ne.json();ce.success&&ce.data&&o(ce.data)}}catch(Q){console.error("Error loading logs:",Q)}},de=async(Q,ne,ce)=>{const Oe=parseInt(ne);if(!ne||isNaN(Oe)||Oe<=0){alert(`Please enter a valid whole number quantity in ${ce.toLowerCase()}`);return}try{const bn=await(await fetch("/.netlify/functions/restockInventory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({part_id:Q,quantity:Oe,user_id:(e==null?void 0:e.user_id)||(e==null?void 0:e.user_ID)||1})})).json();if(bn.success)await ee(),await ie(),alert(`Successfully restocked ${Oe} ${ce.toLowerCase()} of ${bn.data.part_name}`);else throw new Error(bn.error||"Failed to restock")}catch(At){console.error("Error restocking:",At),alert(`Failed to restock: ${At.message}`)}},Ce=async(Q,ne,ce,Oe,At,ul,bn,As)=>{const fl=parseInt(ne);if(!ne||isNaN(fl)||fl<=0){alert(`Please enter a valid whole number quantity in ${ce.toLowerCase()}`);return}try{const Os=await(await fetch("/.netlify/functions/consumeInventory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({part_id:Q,quantity:fl,user_id:(e==null?void 0:e.user_id)||(e==null?void 0:e.user_ID)||1,vehicle_id:Oe||null,maintenance_type:At||null,current_odometer:ul,current_fuel:bn,fuel_added:As})})).json();if(Os.success)await ee(),await ie(),alert(`Successfully consumed ${fl} ${ce.toLowerCase()} of ${Os.data.part_name}`);else throw new Error(Os.error||"Failed to consume")}catch(Bs){console.error("Error consuming:",Bs),alert(`Failed to consume: ${Bs.message}`)}},te=Q=>{const ne=i.filter(ce=>ce.part_id===Q.part_id);x({...Q,logs:ne}),j(!0)},Ke=()=>{j(!1),x(null)},fe=Q=>{m(Q),k(!0)},Ge=Q=>{E(Q),w(!0)},vt=async({partId:Q,quantity:ne,measurement:ce,vehicleId:Oe,maintenanceType:At,currentOdometer:ul,currentFuel:bn,fuelAdded:As})=>{await Ce(Q,ne,ce,Oe,At,ul,bn,As),k(!1),m(null)},jt=async({partId:Q,quantity:ne,measurement:ce})=>{await de(Q,ne,ce),w(!1),E(null)},Tt=()=>{ee(),v(!1)},O=h.useMemo(()=>{let Q=[...l];if(U.trim()!==""){const ne=U.toLowerCase();Q=Q.filter(ce=>ce.part_name.toLowerCase().includes(ne)||ce.part_description&&ce.part_description.toLowerCase().includes(ne))}return K!=="All"&&(Q=Q.filter(ne=>ne.part_category===K)),V!=="All"&&(Q=Q.filter(ne=>Z(ne.current_quantity)===V)),Q.sort((ne,ce)=>_==="quantity"?ne.current_quantity-ce.current_quantity:_==="name"?ne.part_name.localeCompare(ce.part_name):_==="category"?ne.part_category.localeCompare(ce.part_category):0),Q},[l,K,V,_,U]),D=Math.ceil(O.length/X),N=(T-1)*X,$=N+X,J=O.slice(N,$),G=Q=>{Y(Q)};h.useEffect(()=>{Y(1)},[K,V,_,U]);const re={background:"#fff",borderRadius:"1.5rem",boxShadow:"0 0 20px rgba(0,0,0,0.2)",padding:"24px",maxWidth:"100%",boxSizing:"border-box",margin:"0"},he={display:"flex",flexDirection:"column",gap:"16px",marginBottom:"24px",fontFamily:"Montserrat, sans-serif"},Le={display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px"},Xe={fontSize:"1.5rem",fontWeight:600,color:"#0e2a47"},le={display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},Be={fontSize:"0.9rem",color:"#666"},Re={padding:"8px 16px",borderRadius:"8px",border:"1px solid #0e2a47",background:"#0e2a47",color:"white",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},Ue={padding:"8px 16px",borderRadius:"8px",border:"1px solid #28a745",background:"#28a745",color:"white",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap",fontWeight:500},Ne={display:"flex",flexDirection:"column",gap:"20px",marginBottom:"24px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"12px",border:"1px solid #e9ecef"},Je={display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"center"},Ze={display:"flex",flexDirection:"column",gap:"6px",minWidth:"160px"},xr={fontSize:"0.85rem",fontWeight:"500",color:"#495057"},gr={padding:"10px 12px",borderRadius:"8px",border:"1px solid #ced4da",fontSize:"0.9rem",background:"#fff",cursor:"pointer",width:"100%",minWidth:"160px"},af={display:"flex",flexDirection:"column",gap:"6px",flex:1,minWidth:"200px"},cf={padding:"10px 14px",borderRadius:"8px",border:"1px solid #ced4da",fontSize:"0.9rem",background:"#fff",width:"100%"},An={background:"#0e2a47",color:"#e6e6e6",fontWeight:500,padding:"14px 16px",textAlign:"left",fontSize:"0.95rem",whiteSpace:"nowrap"},jn={padding:"16px",textAlign:"left",whiteSpace:"normal",wordWrap:"break-word",borderBottom:"1px solid #e9ecef",fontSize:"0.9rem",verticalAlign:"top"},df=Q=>{const ne=Z(Q);return{padding:"6px 12px",borderRadius:"20px",color:"#fff",fontWeight:600,fontSize:"0.8rem",display:"inline-block",background:Ee[ne].color,minWidth:"90px",textAlign:"center"}},uf=Q=>({padding:"6px 12px",borderRadius:"20px",color:"#fff",fontWeight:600,fontSize:"0.8rem",display:"inline-block",background:{Fuel:"#3498db",Tires:"#9b59b6",Engine:"#e74c3c",Brakes:"#c0392b",Electrical:"#f39c12",Fluids:"#2980b9",Filters:"#16a085",Suspension:"#8e44ad",Other:"#95a5a6"}[Q]||"#95a5a6",textTransform:"capitalize",minWidth:"80px",textAlign:"center"}),fa={padding:"8px 14px",borderRadius:"6px",border:"1px solid #ced4da",background:"#f8f9fa",color:"#212529",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500",transition:"all 0.2s",whiteSpace:"nowrap"},ff={overflowX:"auto",marginBottom:"24px",border:"1px solid #e9ecef",borderRadius:"12px"},pf={width:"100%",borderCollapse:"collapse",fontFamily:"Arial, sans-serif",minWidth:"900px"},hf={display:"flex",flexDirection:"column",gap:"16px",paddingTop:"20px",borderTop:"1px solid #e9ecef"},mf={fontSize:"0.9rem",color:"#6c757d",textAlign:"center"},xf={display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",flexWrap:"wrap"},Sn={padding:"8px 14px",borderRadius:"6px",border:"1px solid #dee2e6",background:"#fff",color:"#0e2a47",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500",minWidth:"40px",textAlign:"center",transition:"all 0.2s"},gf={...Sn,background:"#0e2a47",color:"white",borderColor:"#0e2a47"},pa={...Sn,opacity:.5,cursor:"not-allowed",background:"#e9ecef"},ha={padding:"8px 4px",color:"#6c757d",fontSize:"0.85rem"};return t?r.jsx("div",{style:re,children:r.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#0e2a47"},children:r.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"16px"},children:"Verifying authentication..."})})}):a?r.jsx("div",{style:re,children:r.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#0e2a47"},children:r.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"16px"},children:"Loading inventory..."})})}):d?r.jsx("div",{style:re,children:r.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#cc0000"},children:[r.jsx("div",{style:{fontSize:"1.2rem",marginBottom:"16px"},children:"Error Loading Inventory"}),r.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"20px"},children:d}),r.jsx("button",{onClick:ee,style:{padding:"10px 24px",borderRadius:"8px",border:"1px solid #0e2a47",background:"#0e2a47",color:"white",cursor:"pointer",fontSize:"0.9rem"},children:"Retry"})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:re,children:[r.jsx("div",{style:he,children:r.jsxs("div",{style:Le,children:[r.jsx("h1",{style:Xe,children:"Vehicle Parts Inventory"}),r.jsxs("div",{style:le,children:[r.jsxs("span",{style:Be,children:["Showing: ",O.length," of ",l.length," items"]}),r.jsx("button",{onClick:()=>v(!0),style:Ue,children:"+ Add New"}),r.jsx("button",{onClick:()=>{ee(),ie()},style:Re,children:" Refresh"})]})]})}),r.jsx("div",{style:Ne,children:r.jsxs("div",{style:Je,children:[r.jsxs("div",{style:Ze,children:[r.jsx("label",{style:xr,children:"Category:"}),r.jsxs("select",{value:K,onChange:Q=>W(Q.target.value),style:gr,children:[r.jsx("option",{value:"All",children:"All Categories"}),oe.map(Q=>r.jsx("option",{value:Q,children:Q},Q))]})]}),r.jsxs("div",{style:Ze,children:[r.jsx("label",{style:xr,children:"Stock Status:"}),r.jsxs("select",{value:V,onChange:Q=>P(Q.target.value),style:gr,children:[r.jsx("option",{value:"All",children:"All Status"}),r.jsx("option",{value:"ok",children:"In Stock"}),r.jsx("option",{value:"low",children:"Low Stock"}),r.jsx("option",{value:"very_low",children:"Very Low"}),r.jsx("option",{value:"out",children:"Out of Stock"})]})]}),r.jsxs("div",{style:Ze,children:[r.jsx("label",{style:xr,children:"Sort by:"}),r.jsxs("select",{value:_,onChange:Q=>H(Q.target.value),style:gr,children:[r.jsx("option",{value:"quantity",children:"Quantity (Low to High)"}),r.jsx("option",{value:"name",children:"Name (A-Z)"}),r.jsx("option",{value:"category",children:"Category"})]})]}),r.jsxs("div",{style:af,children:[r.jsx("label",{style:xr,children:"Search Parts:"}),r.jsx("input",{type:"text",placeholder:"Search by part name or description...",value:U,onChange:Q=>R(Q.target.value),style:cf})]})]})}),r.jsx("div",{style:ff,children:r.jsxs("table",{style:pf,children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:{...An,width:"25%"},children:"Part Name"}),r.jsx("th",{style:{...An,width:"15%"},children:"Category"}),r.jsx("th",{style:{...An,width:"15%"},children:"Current Stock"}),r.jsx("th",{style:{...An,width:"15%"},children:"Stock Status"}),r.jsx("th",{style:{...An,width:"20%"},children:"Actions"}),r.jsx("th",{style:{...An,width:"10%"},children:"Details"})]})}),r.jsx("tbody",{children:J.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",style:{...jn,textAlign:"center",padding:"60px 20px",color:"#6c757d",fontSize:"1rem"},children:l.length===0?"No inventory items found. Add some parts to get started.":U.trim()!==""?`No parts found matching "${U}"`:"No items match the selected filters"})}):J.map(Q=>r.jsxs("tr",{children:[r.jsxs("td",{style:jn,children:[r.jsx("div",{style:{fontWeight:500,fontSize:"0.95rem",marginBottom:"4px",color:"#212529"},children:Q.part_name}),Q.part_description&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#6c757d",marginTop:"2px",fontStyle:"italic"},children:Q.part_description})]}),r.jsx("td",{style:jn,children:r.jsx("div",{style:{display:"flex",justifyContent:"flex-start"},children:r.jsx("span",{style:uf(Q.part_category),children:Q.part_category})})}),r.jsxs("td",{style:jn,children:[r.jsx("div",{style:{fontWeight:600,fontSize:"1.2rem",color:"#0e2a47",fontFamily:"monospace",marginBottom:"4px"},children:Q.current_quantity}),r.jsx("div",{style:{fontSize:"0.8rem",color:"#6c757d",textTransform:"lowercase"},children:Q.measurement})]}),r.jsx("td",{style:jn,children:r.jsx("div",{style:{display:"flex",justifyContent:"flex-start"},children:r.jsx("span",{style:df(Q.current_quantity),children:Ee[Z(Q.current_quantity)].text})})}),r.jsx("td",{style:jn,children:r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[r.jsx("button",{onClick:()=>Ge(Q),style:{...fa,borderColor:"#28a745",background:"#d4edda",color:"#155724"},children:"+ Restock"}),r.jsx("button",{onClick:()=>fe(Q),style:{...fa,borderColor:"#dc3545",background:"#f8d7da",color:"#721c24"},children:"- Use"})]})}),r.jsx("td",{style:jn,children:r.jsx("div",{style:{display:"flex",justifyContent:"center"},children:r.jsx("button",{onClick:()=>te(Q),onMouseEnter:()=>I(Q.part_id),onMouseLeave:()=>I(null),style:{padding:"8px 16px",borderRadius:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#0e2a47",background:L===Q.part_id?"#0e2a47":"transparent",color:L===Q.part_id?"white":"#0e2a47",cursor:"pointer",fontSize:"0.85rem",fontWeight:"500",transition:"all 0.2s",whiteSpace:"nowrap"},children:"View Logs"})})})]},Q.part_id))})]})}),O.length>0&&r.jsxs("div",{style:hf,children:[r.jsxs("div",{style:mf,children:["Showing ",Math.min(N+1,O.length)," to ",Math.min($,O.length)," of ",O.length," items"]}),D>1&&r.jsxs("div",{style:xf,children:[r.jsx("button",{onClick:()=>G(T-1),disabled:T===1,style:T===1?pa:Sn,title:"Previous page",children:""}),(()=>{const Q=Math.max(1,T-1),ne=Math.min(D,T+1),ce=Array.from({length:ne-Q+1},(Oe,At)=>Q+At);return r.jsxs(r.Fragment,{children:[Q>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>G(1),style:Sn,children:"1"}),Q>2&&r.jsx("span",{style:ha,children:"..."})]}),ce.map(Oe=>r.jsx("button",{onClick:()=>G(Oe),style:T===Oe?gf:Sn,children:Oe},Oe)),ne<D&&r.jsxs(r.Fragment,{children:[ne<D-1&&r.jsx("span",{style:ha,children:"..."}),r.jsx("button",{onClick:()=>G(D),style:Sn,children:D})]})]})})(),r.jsx("button",{onClick:()=>G(T+1),disabled:T===D,style:T===D?pa:Sn,title:"Next page",children:""})]})]})]}),y&&g&&r.jsx(Ix,{item:g,isOpen:y,onClose:Ke,maintenanceOptions:z,measurementOptions:ve}),S&&u&&r.jsx(Lx,{item:u,isOpen:S,onClose:()=>{k(!1),m(null)},onConfirm:vt,maintenanceOptions:z}),C&&b&&r.jsx(zx,{item:b,isOpen:C,onClose:()=>{w(!1),E(null)},onConfirm:jt}),p&&r.jsx(Px,{isOpen:p,onClose:()=>v(!1),onSuccess:Tt,categoryOptions:oe,measurementOptions:ve})]})}function Fx(){const[e,t]=h.useState("reports");return r.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-gray-100 font-sans",children:[r.jsx(Fs,{userRole:"shop",activeSection:e,onNavigate:t}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(Ds,{}),r.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[e==="reports"&&r.jsx(Tx,{}),e==="inventory"&&r.jsx(Dx,{})]})]})]})}function Ax({drivers:e}){return!e||e.length===0?r.jsx("div",{className:"text-center text-gray-500",children:"No drivers yet"}):r.jsx(r.Fragment,{children:e.map((t,n)=>{const l=`${t.lastName}, ${t.firstName} ${t.middleName}`;return r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 last:border-0",children:[r.jsx("span",{className:"text-xs font-medium truncate",children:l}),r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full flex-shrink-0"})]},n)})})}function hi({title:e,leftValue:t,leftLabel:n,rightValue:l,rightLabel:s}){return r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[r.jsx("h3",{className:"text-center font-semibold mb-4 text-sm md:text-lg",children:e}),r.jsxs("div",{className:"flex justify-around mb-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-green-600",children:t}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:n})]}),l!==""&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-blue-500",children:l}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:s})]})]})]})}function Bx({onClose:e,onAdd:t}){const[n,l]=h.useState({firstName:"",middleName:"",lastName:"",contactNumber:""}),s=()=>{t(n),e()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-center backdrop-blur-sm z-50",children:r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-80 relative",children:[r.jsx("button",{className:"absolute top-3 right-3 text-2xl font-light",onClick:e,children:""}),r.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:"Driver Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-1 font-medium text-sm",children:"First Name"}),r.jsx("input",{type:"text",value:n.firstName,onChange:i=>l({...n,firstName:i.target.value}),className:"w-full px-3 py-2 border rounded-md bg-gray-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-1 font-medium text-sm",children:"Middle Name"}),r.jsx("input",{type:"text",value:n.middleName,onChange:i=>l({...n,middleName:i.target.value}),className:"w-full px-3 py-2 border rounded-md bg-gray-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-1 font-medium text-sm",children:"Last Name"}),r.jsx("input",{type:"text",value:n.lastName,onChange:i=>l({...n,lastName:i.target.value}),className:"w-full px-3 py-2 border rounded-md bg-gray-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-1 font-medium text-sm",children:"Contact Number"}),r.jsx("input",{type:"text",value:n.contactNumber,onChange:i=>l({...n,contactNumber:i.target.value}),className:"w-full px-3 py-2 border rounded-md bg-gray-200"})]}),r.jsx("div",{className:"flex justify-center pt-2",children:r.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-600 text-white rounded-full font-medium hover:bg-yellow-700",children:"Confirm"})})]})]})})}function Ox(){const[e,t]=h.useState([]),[n,l]=h.useState(!1),s=i=>{t(o=>[...o,i])};return r.jsxs("div",{className:"p-3 md:p-6 overflow-auto flex-1",children:[r.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-4 md:mb-6",children:"My Dashboard"}),r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-full text-lg",children:"+ Add Driver"})}),n&&r.jsx(Bx,{onClose:()=>l(!1),onAdd:s}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[r.jsx("h3",{className:"text-center font-semibold mb-4 text-sm md:text-lg",children:"Driver list"}),r.jsxs("div",{className:"flex justify-around mb-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-green-600",children:e.length}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Available"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-blue-500",children:"0"}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Assigned"})]})]}),r.jsx("div",{className:"space-y-2 max-h-48 md:max-h-64 overflow-y-auto",children:r.jsx(Ax,{drivers:e})})]}),r.jsx(hi,{title:"Vehicles",leftValue:"10",leftLabel:"Active",rightValue:"8",rightLabel:"Inactive"}),r.jsx(hi,{title:"Vehicle Assignments",leftValue:"1",leftLabel:"Assigned",rightValue:"17",rightLabel:"Unassigned"}),r.jsx(hi,{title:"Inventory Notifications",leftValue:"0",leftLabel:"Out of Stock",rightValue:"",rightLabel:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 mb-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[r.jsx("h3",{className:"text-center font-semibold mb-4 text-sm md:text-lg",children:"Pending Maintenance"}),r.jsxs("div",{className:"flex justify-around",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-red-600",children:"3"}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Overdue"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-yellow-500",children:"9"}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Due Soon"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[r.jsx("h3",{className:"text-center font-semibold mb-4 text-sm md:text-lg",children:"Issues"}),r.jsxs("div",{className:"flex justify-around",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-yellow-500",children:"10"}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Open"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-blue-500",children:"0"}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Overdue"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[r.jsx("h3",{className:"text-center font-semibold mb-4 text-sm md:text-lg",children:"Vehicle Renewal Reminders"}),r.jsxs("div",{className:"flex justify-around",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-red-600",children:"3"}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Overdue"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-yellow-500",children:"17"}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Due Soon"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[r.jsx("h3",{className:"text-center font-semibold mb-4 text-sm md:text-lg",children:"Vehicle Status"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-medium text-sm md:text-base",children:"Active"})]}),r.jsx("span",{className:"font-bold text-sm md:text-base",children:"10"})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),r.jsx("span",{className:"font-medium text-sm md:text-base",children:"Inactive"})]}),r.jsx("span",{className:"font-bold text-sm md:text-base",children:"8"})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 bg-yellow-600 rounded-full"}),r.jsx("span",{className:"font-medium text-sm md:text-base",children:"In Shop"})]}),r.jsx("span",{className:"font-bold text-sm md:text-base",children:"1"})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),r.jsx("span",{className:"font-medium text-sm md:text-base",children:"Out of Service"})]}),r.jsx("span",{className:"font-bold text-sm md:text-base",children:"3"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[r.jsx("h3",{className:"text-center font-semibold mb-4 text-sm md:text-lg",children:"Tool Status"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-medium text-sm md:text-base",children:"In-Service"})]}),r.jsx("span",{className:"font-bold text-sm md:text-base",children:"1"})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),r.jsx("span",{className:"font-medium text-sm md:text-base",children:"Out-of-Service"})]}),r.jsx("span",{className:"font-bold text-sm md:text-base",children:"0"})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-500 rounded-full"}),r.jsx("span",{className:"font-medium text-sm md:text-base",children:"Disposed"})]}),r.jsx("span",{className:"font-bold text-sm md:text-base",children:"1"})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),r.jsx("span",{className:"font-medium text-sm md:text-base",children:"Missing"})]}),r.jsx("span",{className:"font-bold text-sm md:text-base",children:"0"})]})]})]})]})]})}function Mx({vehicles:e=[]}){return r.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-300 flex-1 overflow-hidden flex flex-col min-h-0",children:[r.jsxs("div",{className:"hidden md:flex flex-col overflow-hidden flex-1",children:[r.jsxs("div",{className:"grid grid-cols-5 gap-4 p-4 bg-gray-100 border-b border-gray-300 font-semibold text-sm flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox"})," ",r.jsx("span",{children:"Name"})]}),r.jsx("div",{children:"Status"}),r.jsx("div",{children:"Type"}),r.jsx("div",{children:"Group"}),r.jsx("div",{children:"Meter"})]}),r.jsx("div",{className:"divide-y divide-gray-200 overflow-y-auto flex-1 min-h-0",children:e&&e.length>0?e.map(t=>r.jsxs("div",{className:"grid grid-cols-5 gap-4 p-4 hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox"}),r.jsx("div",{className:"w-16 h-12 bg-gray-300 rounded flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-bold truncate",children:t.name}),r.jsxs("div",{className:"text-sm text-gray-600 truncate",children:[t.year," ",t.make]}),r.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["Plate: ",t.plateNumber]})]})]}),r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${t.status==="Active"?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{children:t.status})]})}),r.jsx("div",{className:"flex items-center",children:t.type}),r.jsx("div",{className:"flex items-center",children:t.group}),r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:t.currentMeter}),r.jsx("div",{className:"text-sm text-yellow-600",children:t.lastUpdate})]})})]},t.id)):r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No vehicles found"})})]}),r.jsx("div",{className:"md:hidden divide-y divide-gray-200 overflow-y-auto flex-1 min-h-0",children:e&&e.length>0?e.map(t=>r.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[r.jsxs("div",{className:"flex gap-3 mb-3",children:[r.jsx("input",{type:"checkbox",className:"mt-1"}),r.jsx("div",{className:"w-14 h-10 bg-gray-300 rounded flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"font-bold text-sm truncate",children:t.name}),r.jsxs("div",{className:"text-xs text-gray-600 truncate",children:[t.year," ",t.make," ",t.model]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 ml-9 text-xs",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Status:"}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${t.status==="Active"?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"font-medium",children:t.status})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Type:"}),r.jsx("div",{className:"font-medium mt-1",children:t.type})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Plate:"}),r.jsx("div",{className:"font-medium mt-1",children:t.plateNumber})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Meter:"}),r.jsx("div",{className:"font-medium mt-1",children:t.currentMeter})]})]})]},t.id)):r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No vehicles found"})})]})}function Wx({onClose:e,onAdd:t}){const[n,l]=h.useState({name:"",year:"",make:"",model:"",vin:"",plateNumber:"",type:"",group:"",status:"active"}),s=()=>{t(n)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-8 w-96 shadow-2xl max-h-screen overflow-y-auto",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Add Vehicle"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Name"}),r.jsx("input",{type:"text",value:n.name,onChange:i=>l({...n,name:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Year"}),r.jsx("input",{type:"text",value:n.year,onChange:i=>l({...n,year:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Make"}),r.jsx("input",{type:"text",value:n.make,onChange:i=>l({...n,make:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Model"}),r.jsx("input",{type:"text",value:n.model,onChange:i=>l({...n,model:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"VIN"}),r.jsx("input",{type:"text",value:n.vin,onChange:i=>l({...n,vin:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"License Plate"}),r.jsx("input",{type:"text",value:n.plateNumber,onChange:i=>l({...n,plateNumber:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Type"}),r.jsx("input",{type:"text",value:n.type,onChange:i=>l({...n,type:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Group"}),r.jsx("input",{type:"text",value:n.group,onChange:i=>l({...n,group:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"vehicleStatus",value:"active",checked:n.status==="active",onChange:i=>l({...n,status:i.target.value}),className:"w-5 h-5"}),r.jsx("span",{children:"Active"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"vehicleStatus",value:"inactive",checked:n.status==="inactive",onChange:i=>l({...n,status:i.target.value}),className:"w-5 h-5"}),r.jsx("span",{children:"Inactive"})]})]})]}),r.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[r.jsx("button",{onClick:e,className:"px-8 py-2 border-2 border-black rounded-full hover:bg-gray-100 font-medium",children:"Cancel"}),r.jsx("button",{onClick:s,className:"px-8 py-2 bg-yellow-500 text-white rounded-full hover:bg-yellow-600 font-medium",children:"Confirm"})]})]})]})})}const Vx=[{id:1,name:"PW-1",year:"2014",make:"Ram",model:"Ram Pickup 1500",vin:"1C6RR7GT8ES176075",plateNumber:"1A13212",rfidBalance:"20000",status:"Active",type:"Suv",group:"Company",currentMeter:"12,231",lastUpdate:"3 Months Ago"},{id:2,name:"LE-4",year:"2021",make:"Toyota",model:"Hiace",vin:"1C6RR7GT8ES176075",plateNumber:"1A13333",rfidBalance:"20000",status:"Out Of Service",type:"Van",group:"Public works",currentMeter:"12,231",lastUpdate:"3 Months Ago"}];function $x(){const[e,t]=h.useState(""),[n,l]=h.useState({year:"",make:"",model:"",trim:"",fuelType:"",currentMeter:""}),[s,i]=h.useState(!1),[o,a]=h.useState(Vx),c=o.filter(f=>{const g=f.name.toLowerCase().includes(e.toLowerCase())||f.model.toLowerCase().includes(e.toLowerCase())||f.vin.toLowerCase().includes(e.toLowerCase()),x=(!n.year||f.year.includes(n.year))&&(!n.make||f.make.toLowerCase().includes(n.make.toLowerCase()))&&(!n.model||f.model.toLowerCase().includes(n.model.toLowerCase()))&&(!n.currentMeter||f.currentMeter.includes(n.currentMeter));return g&&x}),d=f=>{a(g=>[{...f,id:g.length+1},...g]),i(!1)};return r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"bg-cyan-600 p-3 md:p-4 flex flex-col sm:flex-row items-start sm:items-center gap-3 flex-shrink-0",children:[r.jsx("input",{type:"text",placeholder:"Search vehicles and contacts...",value:e,onChange:f=>t(f.target.value),className:"flex-1 px-3 md:px-4 py-2 rounded-md border-none text-sm md:text-base"}),r.jsx("button",{className:"bg-yellow-500 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-yellow-600 flex-shrink-0",children:""}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4 text-white text-xs md:text-sm",children:[r.jsxs("button",{className:"flex items-center gap-1 whitespace-nowrap",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden sm:inline",children:"Help"}),r.jsx("span",{children:""})]}),r.jsxs("button",{className:"flex items-center gap-1 whitespace-nowrap",children:[r.jsx("span",{className:"hidden sm:inline",children:"JMTC"}),r.jsx("span",{children:""})]})]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-6",children:[r.jsxs("div",{className:"flex gap-2 md:gap-4 mb-4 md:mb-6 border-b overflow-x-auto pb-2 flex-shrink-0",children:[r.jsx("button",{className:"pb-2 px-1 md:px-2 font-medium text-xs md:text-base whitespace-nowrap border-b-2 border-blue-500",children:"Vehicle List"}),r.jsx("button",{className:"pb-2 px-1 md:px-2 text-gray-400 text-xs md:text-base whitespace-nowrap",children:"Watched Vehicles"}),r.jsx("button",{className:"pb-2 px-1 md:px-2 text-gray-400 text-xs md:text-base whitespace-nowrap",children:"GPS Devices"})]}),r.jsx("h2",{className:"text-xl md:text-3xl font-bold mb-4 md:mb-6 flex-shrink-0",children:"Vehicle List"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-4 mb-4 flex-wrap flex-shrink-0",children:[r.jsx("input",{type:"text",placeholder:"Search names, VINs",className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md flex-1 text-xs md:text-base"}),r.jsx("input",{type:"text",placeholder:"Filter vehicle types",className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md flex-1 text-xs md:text-base"}),r.jsx("input",{type:"text",placeholder:"Filter groups",className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md flex-1 text-xs md:text-base"}),r.jsx("input",{type:"text",placeholder:"Filter statuses",className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md flex-1 text-xs md:text-base"}),r.jsxs("button",{className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 flex items-center gap-2 text-xs md:text-base whitespace-nowrap",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden sm:inline",children:"More"})]}),r.jsx("button",{className:"px-4 md:px-6 py-2 bg-cyan-500 text-white rounded-md hover:bg-cyan-600 text-xs md:text-base whitespace-nowrap",children:" Search"})]}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mb-4 flex-shrink-0",children:"0 filters applied"}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-4 mb-4 flex-wrap flex-shrink-0",children:[r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("div",{className:"text-xs md:text-sm text-gray-600 whitespace-nowrap",children:"0 selected:"}),r.jsxs("button",{className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 flex items-center gap-2 text-xs md:text-sm",children:[r.jsx("span",{children:"Update"}),r.jsx("span",{children:""})]}),r.jsx("button",{className:"p-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50",children:""}),r.jsxs("button",{className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 flex items-center gap-2 text-xs md:text-sm whitespace-nowrap",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden sm:inline",children:"Print Labels"})]}),r.jsxs("button",{className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 flex items-center gap-2 text-xs md:text-sm whitespace-nowrap",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4 text-xs md:text-sm flex-wrap",children:[r.jsxs("div",{className:"whitespace-nowrap",children:["Sort: ",r.jsx("select",{className:"border border-gray-300 rounded px-2 py-1 text-xs md:text-sm",children:r.jsx("option",{children:"Updated - Newest First"})})]}),r.jsx("div",{className:"whitespace-nowrap",children:"1-31 of 31"}),r.jsxs("button",{onClick:()=>i(!0),className:"px-4 md:px-6 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 flex items-center gap-2 font-medium text-xs md:text-base whitespace-nowrap",children:[r.jsx("span",{children:"+"}),r.jsx("span",{className:"hidden sm:inline",children:"Add Vehicle"})]})]})]}),r.jsx(Mx,{vehicles:c}),s&&r.jsx(Wx,{onClose:()=>i(!1),onAdd:d})]})]})}function Ux({inspections:e=[]}){return r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto border border-gray-300",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 md:gap-4 p-3 md:p-4 bg-gray-100 border-b border-gray-300 font-semibold text-xs md:text-sm min-w-full",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox"}),r.jsx("span",{className:"hidden sm:inline",children:"Name"})]}),r.jsx("div",{className:"hidden sm:block",children:"Type"}),r.jsx("div",{className:"hidden md:block",children:"Inspection Type"}),r.jsx("div",{children:"Scheduled Date"}),r.jsx("div",{className:"hidden sm:block",children:"Status"})]}),r.jsx("div",{className:"divide-y divide-gray-200",children:e.map(t=>r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 md:gap-4 p-3 md:p-4 hover:bg-gray-50 text-xs md:text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[r.jsx("input",{type:"checkbox"}),r.jsx("div",{className:"w-10 h-8 md:w-16 md:h-12 bg-gray-300 rounded flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-bold truncate",children:t.vehicleName}),r.jsxs("div",{className:"text-xs text-gray-600 truncate hidden sm:block",children:[t.vehicleYear," ",t.vehicleMake]})]})]}),r.jsx("div",{className:"hidden sm:flex items-center text-xs md:text-sm",children:t.type}),r.jsx("div",{className:"hidden md:flex items-center text-xs md:text-sm",children:t.inspectionType}),r.jsx("div",{className:"flex items-center text-xs md:text-sm",children:t.scheduledDate}),r.jsx("div",{className:"hidden sm:flex items-center text-xs md:text-sm",children:t.status})]},t.id))})]})}function Hx({onClose:e,onAdd:t}){const[n,l]=h.useState({vehicleName:"",type:"",inspectionType:"",scheduledDate:"",status:"scheduled"}),s=()=>{t(n),e()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-8 w-96 shadow-2xl",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Add Inspection"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Vehicle"}),r.jsx("input",{type:"text",value:n.vehicleName,onChange:i=>l({...n,vehicleName:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Type"}),r.jsx("input",{type:"text",value:n.type,onChange:i=>l({...n,type:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Inspection Type"}),r.jsx("input",{type:"text",value:n.inspectionType,onChange:i=>l({...n,inspectionType:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Scheduled Date"}),r.jsx("input",{type:"text",value:n.scheduledDate,onChange:i=>l({...n,scheduledDate:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsx("div",{className:"flex justify-center mt-6",children:r.jsx("button",{onClick:s,className:"px-12 py-2 bg-yellow-500 text-white rounded-full hover:bg-yellow-600 font-medium",children:"Confirm"})})]})]})})}const Qx=[{id:1,vehicleName:"PW-1",vehicleYear:"2014",vehicleMake:"Ram",vehicleModel:"Ram Pickup 1500",vin:"1C6RR7GT8ES176075",plateNumber:"1A13212",type:"SUV",inspectionType:"Monthly Check",scheduledDate:"August 28, 2025",status:"Scheduled"},{id:2,vehicleName:"LE-4",vehicleYear:"2021",vehicleMake:"Toyota",vehicleModel:"Hiace",vin:"1C6RR7GU7ES176075",plateNumber:"1A13333",type:"Van",inspectionType:"Oil and Battery",scheduledDate:"October 28, 2025",status:"Scheduled"}];function Yx(){const[e,t]=h.useState("all"),[n,l]=h.useState({vehicleType:"",inspectionType:"",scheduledDate:""}),[s,i]=h.useState(!1),[o,a]=h.useState(Qx),c=o.filter(f=>(!n.vehicleType||f.type.toLowerCase().includes(n.vehicleType.toLowerCase()))&&(!n.inspectionType||f.inspectionType.toLowerCase().includes(n.inspectionType.toLowerCase()))&&(!n.scheduledDate||f.scheduledDate.includes(n.scheduledDate))),d=f=>{a(g=>[{...f,id:g.length+1},...g])};return r.jsxs("div",{className:"p-3 md:p-8 overflow-auto flex-1",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-0 mb-4 md:mb-6",children:[r.jsx("h2",{className:"text-2xl md:text-4xl font-bold",children:"Inspection"}),r.jsxs("button",{onClick:()=>i(!0),className:"bg-yellow-500 text-white px-4 md:px-6 py-2 rounded-md hover:bg-yellow-600 flex items-center gap-2 font-medium text-sm md:text-base whitespace-nowrap",children:[r.jsx("span",{children:"+"}),r.jsx("span",{children:"Add Inspection"})]})]}),r.jsxs("div",{className:"flex gap-2 mb-4 md:mb-6 overflow-x-auto",children:[r.jsx("button",{onClick:()=>t("all"),className:`px-4 md:px-6 py-2 rounded-full text-sm md:text-base whitespace-nowrap ${e==="all"?"bg-cyan-500 text-white":"bg-gray-200"}`,children:"All"}),r.jsxs("button",{onClick:()=>t("archived"),className:`px-3 md:px-4 py-2 rounded-full text-sm md:text-base whitespace-nowrap ${e==="archived"?"bg-cyan-500 text-white":"bg-gray-200"} flex items-center gap-1`,children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden sm:inline",children:"Archived"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"Filter vehicle types",value:n.vehicleType,onChange:f=>l({...n,vehicleType:f.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md flex-1 text-sm md:text-base"}),r.jsx("input",{type:"text",placeholder:"Filter inspection type",value:n.inspectionType,onChange:f=>l({...n,inspectionType:f.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md flex-1 text-sm md:text-base"}),r.jsx("input",{type:"text",placeholder:"Filter scheduled date",value:n.scheduledDate,onChange:f=>l({...n,scheduledDate:f.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md flex-1 text-sm md:text-base"}),r.jsxs("button",{className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 flex items-center gap-2 text-sm md:text-base whitespace-nowrap",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden sm:inline",children:"More"})]}),r.jsxs("button",{className:"px-4 md:px-6 py-2 bg-cyan-500 text-white rounded-md hover:bg-cyan-600 flex items-center gap-2 text-sm md:text-base whitespace-nowrap",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden sm:inline",children:"Search"})]})]}),r.jsx("div",{className:"text-xs md:text-sm text-gray-600 mb-4",children:"0 filters applied"}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-4 mb-4",children:[r.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[r.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"0 selected:"}),r.jsxs("button",{className:"px-3 md:px-4 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 flex items-center gap-2 text-xs md:text-sm",children:[r.jsx("span",{children:"Update"}),r.jsx("span",{children:""})]}),r.jsx("button",{className:"p-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50",children:""})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4 text-xs md:text-sm flex-wrap",children:[r.jsxs("div",{children:["Sort: ",r.jsx("select",{className:"border border-gray-300 rounded px-2 py-1 text-xs md:text-sm",children:r.jsx("option",{children:"Updated - Newest First"})})]}),r.jsx("div",{children:"1-2 of 2"})]})]}),r.jsx(Ux,{inspections:c}),s&&r.jsx(Hx,{onClose:()=>i(!1),onAdd:d})]})}function qx({issues:e=[]}){return r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto border border-gray-300 flex-1",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 md:gap-4 p-3 md:p-4 border-b border-gray-300 font-semibold bg-gray-50 text-xs md:text-sm min-w-full",children:[r.jsx("div",{className:"hidden sm:block",children:"Name"}),r.jsx("div",{children:"Issue"}),r.jsx("div",{className:"hidden md:block",children:"Type"}),r.jsx("div",{children:"Date"}),r.jsx("div",{className:"hidden sm:block",children:"Time"})]}),r.jsx("div",{className:"divide-y divide-gray-200",children:e.map(t=>r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 md:gap-4 p-3 md:p-4 hover:bg-gray-50 text-xs md:text-sm",children:[r.jsx("div",{className:"hidden sm:block",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-8 md:w-16 md:h-12 bg-gray-300 rounded flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-bold truncate",children:t.vehicleId}),r.jsx("div",{className:"text-xs text-gray-600 truncate",children:t.vehicleModel}),r.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["Plate: ",t.plateNumber]})]})]})}),r.jsx("div",{className:"flex items-center font-medium",children:t.issue}),r.jsx("div",{className:"hidden md:flex items-center text-xs md:text-sm",children:t.type}),r.jsx("div",{className:"flex items-center text-xs md:text-sm",children:t.date}),r.jsx("div",{className:"hidden sm:flex items-center text-xs md:text-sm",children:t.time})]},t.id))})]})}function Kx({onClose:e,onAdd:t}){const[n,l]=h.useState({issue:"",type:"",date:"",time:"",plateNumber:""}),s=()=>{t(n),e()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-8 w-96 shadow-2xl",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Issue"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Issue"}),r.jsx("input",{type:"text",placeholder:"Tires",value:n.issue,onChange:i=>l({...n,issue:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Type"}),r.jsx("input",{type:"text",placeholder:"Suv",value:n.type,onChange:i=>l({...n,type:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Date"}),r.jsx("input",{type:"text",placeholder:"08/11/25",value:n.date,onChange:i=>l({...n,date:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Time"}),r.jsx("input",{type:"text",placeholder:"5:39 Pm",value:n.time,onChange:i=>l({...n,time:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Plate Number"}),r.jsx("input",{type:"text",placeholder:"1A13333",value:n.plateNumber,onChange:i=>l({...n,plateNumber:i.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100"})]}),r.jsx("div",{className:"flex justify-center mt-6",children:r.jsx("button",{onClick:s,className:"px-12 py-2 bg-yellow-500 text-white rounded-full hover:bg-yellow-600 font-medium",children:"Confirm"})})]})]})})}function Gx({filterData:e,setFilterData:t,onClose:n}){const l=()=>n();return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-8 w-96 shadow-2xl",children:[r.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Filters"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Plate Number"}),r.jsx("input",{type:"text",placeholder:"1A13212",value:e.plateNumber,onChange:s=>t({...e,plateNumber:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Issue"}),r.jsx("input",{type:"text",value:e.issue,onChange:s=>t({...e,issue:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Type"}),r.jsx("input",{type:"text",value:e.type,onChange:s=>t({...e,type:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Date"}),r.jsx("input",{type:"text",value:e.date,onChange:s=>t({...e,date:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Time"}),r.jsx("input",{type:"text",value:e.time,onChange:s=>t({...e,time:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),r.jsx("div",{className:"flex justify-center mt-6",children:r.jsx("button",{onClick:l,className:"px-12 py-2 bg-yellow-500 text-white rounded-full hover:bg-yellow-600 font-medium",children:"Confirm"})})]})]})})}const Xx=[{id:1,vehicleId:"PW-1",vehicleModel:"2014 Ram Ram Pickup 1500",plateNumber:"1A13212",issue:"Tires changed",type:"Suv",date:"09/12/25",time:"5:39 Pm"},{id:2,vehicleId:"LE-4",vehicleModel:"2021 Toyota Hiace",plateNumber:"1A13333",issue:"Fluid changed",type:"Van",date:"09/05/25",time:"5:31 Pm"}];function Jx(){const[e,t]=h.useState(!1),[n,l]=h.useState(!1),[s,i]=h.useState({plateNumber:"",issue:"",type:"",date:"",time:""}),[o,a]=h.useState(Xx),c=o.filter(f=>(!s.plateNumber||f.plateNumber.toLowerCase().includes(s.plateNumber.toLowerCase()))&&(!s.issue||f.issue.toLowerCase().includes(s.issue.toLowerCase()))&&(!s.type||f.type.toLowerCase().includes(s.type.toLowerCase()))&&(!s.date||f.date.includes(s.date))&&(!s.time||f.time.toLowerCase().includes(s.time.toLowerCase()))),d=f=>{a(g=>[{...f,id:g.length+1},...g]),t(!1)};return r.jsxs("div",{className:"p-3 md:p-8 overflow-auto flex-1 flex flex-col",children:[r.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-4 md:mb-6",children:"Issues"}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-6 mb-4 md:mb-6",children:[r.jsxs("button",{onClick:()=>t(!0),className:"bg-yellow-500 text-white px-4 md:px-6 py-2 rounded-md hover:bg-yellow-600 flex items-center gap-2 font-medium text-sm md:text-base whitespace-nowrap",children:[r.jsx("span",{className:"text-lg md:text-xl",children:""}),r.jsx("span",{children:"Add"})]}),r.jsxs("button",{onClick:()=>l(!0),className:"bg-white border border-gray-400 px-4 md:px-6 py-2 rounded-md hover:bg-gray-50 flex items-center gap-2 text-sm md:text-base whitespace-nowrap",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})]}),r.jsx(qx,{issues:c}),e&&r.jsx(Kx,{onClose:()=>t(!1),onAdd:d}),n&&r.jsx(Gx,{filterData:s,setFilterData:i,onClose:()=>l(!1)})]})}function Zx({inventory:e=[],onItemClick:t}){return r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-gray-800 overflow-x-auto flex-1",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 md:gap-4 p-4 md:p-6 border-b-2 border-gray-300 font-semibold text-sm md:text-lg min-w-full",children:[r.jsx("div",{children:"Name"}),r.jsx("div",{className:"hidden md:block",children:"Status"}),r.jsx("div",{className:"hidden md:block",children:"Type"}),r.jsx("div",{className:"hidden md:block",children:"Group"}),r.jsx("div",{children:"Quantity"})]}),r.jsx("div",{className:"divide-y-2 divide-gray-300",children:e.map(n=>r.jsxs("div",{onClick:()=>t(n),className:"grid grid-cols-2 md:grid-cols-5 gap-2 md:gap-4 p-3 md:p-6 hover:bg-gray-50 cursor-pointer items-center text-xs md:text-base",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 bg-gray-200 rounded-lg flex items-center justify-center text-lg md:text-3xl flex-shrink-0",children:n.image}),r.jsx("span",{className:"font-semibold truncate",children:n.name})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${n.status==="Available"?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{children:n.status})]}),r.jsx("div",{className:"hidden md:block",children:n.type}),r.jsx("div",{className:"hidden md:block",children:n.group}),r.jsx("div",{className:"text-right md:text-left font-semibold",children:n.quantity.toLocaleString()})]},n.id))})]})}function eg({item:e,onClose:t,onSave:n}){const[l,s]=h.useState({id:e.id,status:e.status==="Available"?"active":"outofstock",type:e.type,group:e.group,quantity:e.quantity,name:e.name}),i=()=>{const o={id:l.id,name:l.name,status:l.status==="active"?"Available":"Out Of Stocks",type:l.type,group:l.group,quantity:Number(l.quantity),image:e.image};n(o)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-8 w-96 shadow-2xl",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:e.name}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center gap-4 mb-3",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"status",value:"active",checked:l.status==="active",onChange:o=>s({...l,status:o.target.value}),className:"w-5 h-5"}),r.jsx("span",{children:"Active"})]})}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"status",value:"outofstock",checked:l.status==="outofstock",onChange:o=>s({...l,status:o.target.value}),className:"w-5 h-5"}),r.jsx("span",{children:"Out of Stock"})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"type"}),r.jsx("input",{type:"text",value:l.type,onChange:o=>s({...l,type:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Group"}),r.jsx("input",{type:"text",value:l.group,onChange:o=>s({...l,group:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block mb-2 font-medium",children:"Quantity"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:l.quantity,onChange:o=>s({...l,quantity:o.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md"}),r.jsx("span",{className:"text-gray-600",children:"units"})]})]}),r.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[r.jsx("button",{onClick:t,className:"px-8 py-2 border-2 border-black rounded-full hover:bg-gray-100 font-medium",children:"Cancel"}),r.jsx("button",{onClick:i,className:"px-8 py-2 bg-yellow-500 text-white rounded-full hover:bg-yellow-600 font-medium",children:"Save"})]})]})]})})}const tg=[{id:1,name:"Tires",status:"Available",type:"Van",group:"Dunlop",quantity:12,image:""},{id:2,name:"Oil",status:"Available",type:"Suv",group:"Shell",quantity:15231,image:""},{id:3,name:"Brakes",status:"Out Of Stocks",type:"Van",group:"Bremboo",quantity:14231,image:""}];function ng(){const[e,t]=h.useState(""),[n,l]=h.useState(null),[s,i]=h.useState(tg),o=s.filter(c=>c.name.toLowerCase().includes(e.toLowerCase())),a=c=>{i(d=>d.map(f=>f.id===c.id?c:f)),l(null)};return r.jsxs("div",{className:"p-3 md:p-8 overflow-auto flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-0 mb-4 md:mb-8",children:[r.jsx("h2",{className:"text-2xl md:text-4xl font-bold",children:"Parts and Inventory"}),r.jsxs("button",{className:"bg-cyan-500 text-white px-4 md:px-6 py-2 rounded-md hover:bg-cyan-600 flex items-center gap-2 text-sm md:text-base whitespace-nowrap",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden sm:inline",children:"Search"})]})]}),r.jsx("div",{className:"mb-4 md:mb-6 flex flex-col sm:flex-row justify-end",children:r.jsx("input",{type:"text",placeholder:"Tires",value:e,onChange:c=>t(c.target.value),className:"px-3 md:px-4 py-2 border border-gray-400 rounded-md w-full sm:w-64 text-sm md:text-base"})}),r.jsx(Zx,{inventory:o,onItemClick:l}),n&&r.jsx(eg,{item:n,onClose:()=>l(null),onSave:a})]})}function rg(){const[e,t]=h.useState("dashboard");return r.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-gray-100 font-sans",children:[r.jsx(Fs,{userRole:"admin",activeSection:e,onNavigate:t}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(Ds,{}),r.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-gray-200",children:[e==="dashboard"&&r.jsx(Ox,{}),e==="vehicles"&&r.jsx($x,{}),e==="inspection"&&r.jsx(Yx,{}),e==="issues"&&r.jsx(Jx,{}),e==="parts"&&r.jsx(ng,{})]})]})]})}function lg({reservation:e,onSuccess:t}){const[n,l]=h.useState({fullname:"",contactNumber:"",email:"",vehicle_id:"",startdate:"",starttime:"08:00",enddate:"",endtime:"17:00",driver_id:""}),[s,i]=h.useState(!0),[o,a]=h.useState([]),[c,d]=h.useState([]),[f,g]=h.useState([]),[x,y]=h.useState([]),[j,S]=h.useState(!0),[k,u]=h.useState(!1),[m,p]=h.useState(""),[v,C]=h.useState(!1);h.useEffect(()=>{if(w(),e){E(e.customer_id);const O=e.startdate?new Date(e.startdate):null,D=e.enddate?new Date(e.enddate):null;l({fullname:"",contactNumber:"",email:"",vehicle_id:e.vehicle_id||"",startdate:O?O.toISOString().split("T")[0]:"",starttime:O?O.toTimeString().slice(0,5):"08:00",enddate:D?D.toISOString().split("T")[0]:"",endtime:D?D.toTimeString().slice(0,5):"17:00",driver_id:e.driver_id||""}),i(!1)}},[e]),h.useEffect(()=>{n.startdate&&n.enddate&&b()},[n.startdate,n.enddate,n.starttime,n.endtime]);const w=async()=>{try{S(!0);const O=localStorage.getItem("jmtc_token"),D=await fetch("/.netlify/functions/getCustomers",{headers:O?{Authorization:`Bearer ${O}`}:{}});if(D.ok){const G=await D.json();a(G.customers||[])}const N=await fetch("/.netlify/functions/getVehicles",{headers:O?{Authorization:`Bearer ${O}`}:{}});if(N.ok){const G=await N.json();d(G.vehicles||[])}const $=await fetch("/.netlify/functions/getDrivers",{headers:O?{Authorization:`Bearer ${O}`}:{}});if($.ok){const G=await $.json();g(G.drivers||[])}const J=await fetch("/.netlify/functions/getReservations",{headers:O?{Authorization:`Bearer ${O}`}:{}});if(J.ok){const G=await J.json();y(G.reservations||[])}}catch{p("Failed to load form data")}finally{S(!1)}},b=async()=>{try{const O=localStorage.getItem("jmtc_token"),D=await fetch("/.netlify/functions/getReservations",{headers:O?{Authorization:`Bearer ${O}`}:{}});if(D.ok){const N=await D.json();y(N.reservations||[])}}catch(O){console.error("Error fetching reservations:",O)}},E=async O=>{try{const D=localStorage.getItem("jmtc_token"),N=await fetch(`/.netlify/functions/getCustomerById?customer_id=${O}`,{headers:D?{Authorization:`Bearer ${D}`}:{}});if(N.ok){const $=await N.json();$.customer&&l(J=>({...J,fullname:$.customer.fullname||"",contactNumber:$.customer.contactnumber||$.customer.phone||"",email:$.customer.email||""}))}}catch(D){console.error("Error fetching customer details:",D)}},L=(O,D)=>{if(!O)return null;const N=D||"00:00";return new Date(`${O}T${N}:00`)},I=(O,D,N,$,J,G,re=null)=>{const he=L(O,D),Le=L(N,$),Xe=new Date(J),le=new Date(G);return!he||!Le||!Xe||!le?!1:he<le&&Le>Xe},K=()=>{if(!n.startdate||!n.enddate||!n.starttime||!n.endtime)return c.filter(D=>!D.archived);const O=x.filter(D=>D.id===(e==null?void 0:e.id)||!D.vehicle_id?!1:I(n.startdate,n.starttime,n.enddate,n.endtime,D.startdate,D.enddate,e==null?void 0:e.id)).map(D=>D.vehicle_id);return c.filter(D=>!D.archived&&!O.includes(D.id||D.vehicle_id))},W=()=>{if(!n.startdate||!n.enddate||!n.starttime||!n.endtime)return f;const O=x.filter(D=>D.id===(e==null?void 0:e.id)||!D.driver_id?!1:I(n.startdate,n.starttime,n.enddate,n.endtime,D.startdate,D.enddate,e==null?void 0:e.id)).map(D=>D.driver_id);return f.filter(D=>{const N=D.user_id||D.id||D.emp_id;return!O.includes(N)||N===n.driver_id})},V=O=>{const D=O.firstname||"",N=O.lastname||"";return D&&N?`${D} ${N}`:D||N||(O.username?O.username:"Unknown Driver")},P=O=>{const{name:D,value:N}=O.target,$={...n,[D]:N};if((D==="startdate"||D==="enddate"||D==="starttime"||D==="endtime")&&(n.vehicle_id||n.driver_id)){const J=K(),G=W();n.vehicle_id&&!J.some(re=>(re.id||re.vehicle_id)===n.vehicle_id)&&($.vehicle_id=""),n.driver_id&&!G.some(re=>(re.user_id||re.id||re.emp_id)===n.driver_id)&&($.driver_id="")}l($),p("")},_=async()=>{if(!n.fullname.trim()){p("Please enter a customer name to search");return}try{C(!0);const O=localStorage.getItem("jmtc_token"),D=n.fullname.toLowerCase(),N=o.filter($=>{var J,G,re,he,Le;return((J=$.fullname)==null?void 0:J.toLowerCase().includes(D))||((G=$.name)==null?void 0:G.toLowerCase().includes(D))||((re=$.contactnumber)==null?void 0:re.includes(D))||((he=$.phone)==null?void 0:he.includes(D))||((Le=$.email)==null?void 0:Le.toLowerCase().includes(D))});if(N.length===0)p("No existing customer found. Please enter new customer details."),i(!0);else if(N.length===1){const $=N[0];l(J=>({...J,fullname:$.fullname||$.name||"",contactNumber:$.contactnumber||$.phone||"",email:$.email||""})),i(!1)}else{const $=N[0];l(J=>({...J,fullname:$.fullname||$.name||"",contactNumber:$.contactnumber||$.phone||"",email:$.email||""})),i(!1),p(`Found ${N.length} matching customers. Using first match.`),setTimeout(()=>p(""),3e3)}}catch{p("Error searching for customer")}finally{C(!1)}},H=async O=>{if(O.preventDefault(),!n.fullname||!n.contactNumber||!n.vehicle_id||!n.startdate||!n.enddate||!n.starttime||!n.endtime){p("Please fill in all required fields (*)");return}const D=L(n.startdate,n.starttime),N=L(n.enddate,n.endtime);if(!D||!N){p("Invalid date or time format");return}if(D>=N){p("Start date-time must be before end date-time");return}if(!K().some(G=>(G.id||G.vehicle_id)===n.vehicle_id)){p("Selected vehicle is not available for the chosen date and time");return}if(n.driver_id&&!W().some(re=>(re.user_id||re.id||re.emp_id)===n.driver_id)){p("Selected driver is not available for the chosen date and time");return}if(n.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){p("Please enter a valid email address");return}if(n.contactNumber.replace(/\D/g,"").length<10){p("Please enter a valid phone number (at least 10 digits)");return}try{u(!0);const G=localStorage.getItem("jmtc_token"),re=JSON.parse(localStorage.getItem("jmtc_user")||"{}"),he=new Date().toISOString();let Le=null;if(s||!e){const Je=o.find(Ze=>Ze.contactnumber===n.contactNumber||Ze.phone===n.contactNumber||Ze.email&&Ze.email===n.email);if(Je)Le=Je.id;else{const Ze=await fetch("/.netlify/functions/createCustomer",{method:"POST",headers:{"Content-Type":"application/json",...G&&{Authorization:`Bearer ${G}`}},body:JSON.stringify({fullname:n.fullname,contactNumber:n.contactNumber,email:n.email})});if(!Ze.ok){const gr=await Ze.json();throw new Error(gr.error||"Failed to create customer")}Le=(await Ze.json()).customer_id}}else Le=e.customer_id;const Xe=e?"/.netlify/functions/updateReservation":"/.netlify/functions/createReservation",le=D.toISOString(),Be=N.toISOString(),Re={customer_id:Le,vehicle_id:n.vehicle_id,startdate:le,enddate:Be,driver_id:n.driver_id||null,handled_by:re.user_id||re.id||"",reserv_status:"Upcoming"};e||(Re.timestamp=he),e&&(Re.reservation_id=e.id);const Ne=await fetch(Xe,{method:e?"PUT":"POST",headers:{"Content-Type":"application/json",...G&&{Authorization:`Bearer ${G}`}},body:JSON.stringify(Re)});if(!Ne.ok){const Je=await Ne.json();throw new Error(Je.error||"Failed to save reservation")}alert(e?"Reservation updated successfully!":"Reservation created successfully!"),t()}catch(G){p(G.message||"Failed to save reservation")}finally{u(!1)}},U={background:"#fff",borderRadius:"6px",padding:"16px",maxWidth:"500px"},R={fontSize:"1.2rem",fontWeight:"bold",color:"#0e2a47",marginBottom:"16px"},T={marginBottom:"12px"},Y={display:"block",fontSize:"0.85rem",fontWeight:"bold",color:"#0e2a47",marginBottom:"4px"},X={...Y},oe={color:"#ef4444"},ve={width:"100%",padding:"8px 10px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"0.85rem",boxSizing:"border-box"},Ee={...ve},z={display:"flex",gap:"16px",marginBottom:"16px"},Z={display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",cursor:"pointer"},ee={margin:"0",cursor:"pointer"},ie={padding:"8px 12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"bold",marginLeft:"8px"},de={display:"flex",gap:"8px",marginTop:"16px"},Ce={flex:1,padding:"8px",background:"#e5b038",color:"#0e2a47",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"0.85rem"},te={flex:1,padding:"8px",background:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"0.85rem"},Ke={padding:"8px",background:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"12px",fontSize:"0.8rem"},fe={fontSize:"0.75rem",color:"#666",marginTop:"4px",fontStyle:"italic"},Ge={display:"flex",gap:"8px",alignItems:"center"},vt={fontSize:"0.8rem",color:"#0e2a47",minWidth:"80px"};if(j)return r.jsx("div",{style:U,children:"Loading form data..."});const jt=K(),Tt=W();return r.jsxs("div",{style:U,children:[r.jsx("h2",{style:R,children:e?"Edit Reservation":"New Reservation"}),m&&r.jsx("div",{style:Ke,children:m}),!e&&r.jsxs("div",{style:z,children:[r.jsxs("label",{style:Z,children:[r.jsx("input",{type:"radio",name:"customerType",checked:s,onChange:()=>i(!0),style:ee}),"New Customer"]}),r.jsxs("label",{style:Z,children:[r.jsx("input",{type:"radio",name:"customerType",checked:!s,onChange:()=>i(!1),style:ee}),"Existing Customer"]})]}),r.jsxs("form",{onSubmit:H,children:[r.jsxs("div",{style:T,children:[r.jsxs("label",{style:X,children:["Full Name ",r.jsx("span",{style:oe,children:"*"})]}),r.jsxs("div",{style:{display:"flex"},children:[r.jsx("input",{type:"text",name:"fullname",value:n.fullname,onChange:P,style:{...ve,marginRight:"8px"},placeholder:"Enter customer name",required:!0}),!s&&!e&&r.jsx("button",{type:"button",style:ie,onClick:_,disabled:v,children:v?"Searching...":"Search"})]})]}),r.jsxs("div",{style:T,children:[r.jsxs("label",{style:X,children:["Contact Number ",r.jsx("span",{style:oe,children:"*"})]}),r.jsx("input",{type:"tel",name:"contactNumber",value:n.contactNumber,onChange:P,style:ve,placeholder:"e.g., 09123456789 or (123) 456-7890",required:!0})]}),r.jsxs("div",{style:T,children:[r.jsx("label",{style:Y,children:"Email"}),r.jsx("input",{type:"email",name:"email",value:n.email,onChange:P,style:ve,placeholder:"customer@example.com"})]}),r.jsxs("div",{style:T,children:[r.jsxs("label",{style:X,children:["Start Date ",r.jsx("span",{style:oe,children:"*"})]}),r.jsx("input",{type:"date",name:"startdate",value:n.startdate,onChange:P,style:ve,required:!0,min:new Date().toISOString().split("T")[0]})]}),r.jsx("div",{style:T,children:r.jsxs("div",{style:Ge,children:[r.jsx("label",{style:vt,children:"Start Time:"}),r.jsx("input",{type:"time",name:"starttime",value:n.starttime,onChange:P,style:ve,required:!0})]})}),r.jsxs("div",{style:T,children:[r.jsxs("label",{style:X,children:["End Date ",r.jsx("span",{style:oe,children:"*"})]}),r.jsx("input",{type:"date",name:"enddate",value:n.enddate,onChange:P,style:ve,required:!0,min:n.startdate||new Date().toISOString().split("T")[0]})]}),r.jsx("div",{style:T,children:r.jsxs("div",{style:Ge,children:[r.jsx("label",{style:vt,children:"End Time:"}),r.jsx("input",{type:"time",name:"endtime",value:n.endtime,onChange:P,style:ve,required:!0})]})}),r.jsxs("div",{style:T,children:[r.jsxs("label",{style:X,children:["Vehicle ",r.jsx("span",{style:oe,children:"*"})]}),r.jsxs("select",{name:"vehicle_id",value:n.vehicle_id,onChange:P,style:Ee,required:!0,disabled:!n.startdate||!n.enddate,children:[r.jsx("option",{value:"",children:!n.startdate||!n.enddate?"Select dates first":"Select a vehicle"}),jt.map(O=>r.jsxs("option",{value:O.id||O.vehicle_id,children:[O.plate_number," - ",O.brand," ",O.model]},O.id||O.vehicle_id))]}),n.startdate&&n.enddate&&r.jsxs("div",{style:fe,children:["Showing ",jt.length," available vehicle(s) for selected date and time",jt.length===0&&" - No vehicles available"]})]}),r.jsxs("div",{style:T,children:[r.jsx("label",{style:Y,children:"Driver"}),r.jsxs("select",{name:"driver_id",value:n.driver_id,onChange:P,style:Ee,disabled:!n.startdate||!n.enddate,children:[r.jsx("option",{value:"",children:!n.startdate||!n.enddate?"Select dates first":"Select a driver (optional)"}),Tt.map(O=>r.jsx("option",{value:O.user_id||O.id||O.emp_id,children:V(O)},O.user_id||O.id||O.emp_id))]}),n.startdate&&n.enddate&&r.jsxs("div",{style:fe,children:["Showing ",Tt.length," available driver(s) for selected date and time"]})]}),r.jsxs("div",{style:de,children:[r.jsx("button",{type:"submit",style:Ce,disabled:k,onMouseOver:O=>{k||(O.target.style.background="#d4a435")},onMouseOut:O=>{k||(O.target.style.background="#e5b038")},children:k?"Saving...":e?"Update":"Create"}),r.jsx("button",{type:"button",style:te,onClick:t,disabled:k,onMouseOver:O=>{k||(O.target.style.background="#4b5563")},onMouseOut:O=>{k||(O.target.style.background="#6b7280")},children:"Cancel"})]})]})]})}function sg(){const[e,t]=h.useState({total:0,upcoming:0,ongoing:0,completed:0}),[n,l]=h.useState(!0);h.useEffect(()=>{s()},[]);const s=async()=>{try{l(!0);const d=localStorage.getItem("jmtc_token"),f=await fetch("/.netlify/functions/getReservations",{headers:d?{Authorization:`Bearer ${d}`}:{}});if(!f.ok)throw new Error("Failed to fetch reservations");const x=(await f.json()).reservations||[],y=new Date,j=x.length,S=x.filter(m=>new Date(m.startdate)>y).length,k=x.filter(m=>{const p=new Date(m.startdate),v=new Date(m.enddate);return p<=y&&v>=y}).length,u=x.filter(m=>new Date(m.enddate)<y).length;t({total:j,upcoming:S,ongoing:k,completed:u})}catch(d){console.error("Error fetching stats:",d)}finally{l(!1)}},i={background:"#fff",padding:"16px",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.08)",flex:1,minWidth:"140px"},o={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px",marginBottom:"20px"},a={fontSize:"1.8rem",fontWeight:"bold",color:"#0e2a47",margin:"8px 0"},c={fontSize:"0.85rem",color:"#666",fontWeight:"500"};return r.jsxs("div",{children:[r.jsx("h2",{style:{fontSize:"1.3rem",marginBottom:"16px",color:"#0e2a47"},children:"Dashboard"}),r.jsxs("div",{style:o,children:[r.jsxs("div",{style:{...i,borderTop:"4px solid #0e2a47"},children:[r.jsx("div",{style:c,children:"Total Reservations"}),r.jsx("div",{style:a,children:e.total})]}),r.jsxs("div",{style:{...i,borderTop:"4px solid #e5b038"},children:[r.jsx("div",{style:c,children:"Upcoming"}),r.jsx("div",{style:a,children:e.upcoming})]}),r.jsxs("div",{style:{...i,borderTop:"4px solid #3b82f6"},children:[r.jsx("div",{style:c,children:"Ongoing"}),r.jsx("div",{style:a,children:e.ongoing})]}),r.jsxs("div",{style:{...i,borderTop:"4px solid #10b981"},children:[r.jsx("div",{style:c,children:"Completed"}),r.jsx("div",{style:a,children:e.completed})]})]})]})}function ig({user:e}){const[t,n]=h.useState([]),[l,s]=h.useState([]),[i,o]=h.useState(!0),[a,c]=h.useState(""),[d,f]=h.useState("all"),[g,x]=h.useState(!1),[y,j]=h.useState(null),[S,k]=h.useState(0),[u,m]=h.useState(1),p=10;h.useEffect(()=>{v(),C()},[S]);const v=async()=>{try{o(!0);const N=localStorage.getItem("jmtc_token"),$=await fetch("/.netlify/functions/getReservations",{headers:N?{Authorization:`Bearer ${N}`}:{}});if(!$.ok)throw new Error("Failed to fetch reservations");const J=await $.json();n(J.reservations||[])}catch{alert("Failed to load reservations. Please try again.")}finally{o(!1)}},C=async()=>{try{const N=localStorage.getItem("jmtc_token"),$=await fetch("/.netlify/functions/getDrivers",{headers:N?{Authorization:`Bearer ${N}`}:{}});if($.ok){const J=await $.json();s(J.drivers||[])}else{const J=await fetch("/.netlify/functions/getEmployees");if(J.ok){const G=await J.json();s(G.employees||[])}}}catch{}},w=N=>{if(!N||N===""||N==="0"||N===0)return"-";const $=Number(N),J=l.find(G=>G.user_id===$||G.user_id==N||G.emp_id===$||G.emp_id==N||G.id===$||G.id==N);if(J){const G=J.firstname||"",re=J.lastname||"";if(G&&re)return`${G} ${re}`;if(G)return G;if(re)return re;if(J.username)return J.username}return`ID: ${N}`},b=N=>{if(!N||N==="-"||N==="")return"-";const $=N.replace(/\D/g,"");return $.length===10?`(${$.slice(0,3)}) ${$.slice(3,6)}-${$.slice(6)}`:$.length===11&&$.startsWith("0")?`(+63) ${$.slice(1,4)}-${$.slice(4,7)}-${$.slice(7)}`:$.length===12&&$.startsWith("63")?`(+63) ${$.slice(2,5)}-${$.slice(5,8)}-${$.slice(8)}`:N},E=async N=>{if(confirm("Are you sure you want to delete this reservation?"))try{const $=localStorage.getItem("jmtc_token");if(!(await fetch("/.netlify/functions/deleteReservation",{method:"DELETE",headers:{"Content-Type":"application/json",...$&&{Authorization:`Bearer ${$}`}},body:JSON.stringify({reservation_id:N})})).ok)throw new Error("Failed to delete reservation");k(G=>G+1),m(1),alert("Reservation deleted successfully!")}catch{alert("Failed to delete reservation. Please try again.")}},L=()=>{k(N=>N+1),V()},I=(N,$)=>{const J=new Date,G=new Date(N),re=new Date($);return J<G?"upcoming":J<=re?"ongoing":"completed"},K=N=>{j(N),x(!0)},W=()=>{j(null),x(!0)},V=()=>{x(!1),j(null)};let P=t.filter(N=>{const $=w(N.driver_id),J=b(N.contact_number||""),G=N.customer_name||"",re=N.plate_number||"",he=a.toLowerCase(),Le=G.toLowerCase().includes(he)||re.toLowerCase().includes(he)||$.toLowerCase().includes(he)||(N.contact_number||"").toLowerCase().includes(he)||J.toLowerCase().includes(he);if(d==="all")return Le;const Xe=N.status||I(N.startdate,N.enddate);return Le&&(Xe==="pending"?"upcoming":Xe==="active"?"ongoing":Xe==="completed"?"completed":Xe)===d});const _=Math.ceil(P.length/p),H=u*p,U=H-p,R=P.slice(U,H),T=N=>m(N),Y=()=>{const N=[];if(_<=5)for(let J=1;J<=_;J++)N.push(J);else{let J=Math.max(1,u-2),G=Math.min(_,u+2);u<=3?G=5:u>=_-2&&(J=_-5+1);for(let re=J;re<=G;re++)N.push(re)}return N},X={background:"#fff",borderRadius:"6px",padding:"16px"},oe={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"12px"},ve={fontSize:"1.3rem",fontWeight:"bold",color:"#0e2a47"},Ee={padding:"8px 16px",background:"#e5b038",color:"#0e2a47",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"0.85rem",transition:"background-color 0.2s"},z={display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px",alignItems:"center"},Z={padding:"8px 10px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"0.85rem",flex:1,minWidth:"150px"},ee={width:"100%",borderCollapse:"collapse",fontSize:"0.85rem"},ie={textAlign:"left",padding:"8px",background:"#0e2a47",color:"#fff",fontWeight:"bold",fontSize:"0.8rem"},de={padding:"8px",borderBottom:"1px solid #eee"},Ce=N=>({padding:"3px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"bold",background:N==="upcoming"||N==="pending"?"#fbbf24":N==="ongoing"||N==="active"?"#3b82f6":"#10b981",color:"#fff"}),te=N=>({padding:"4px 8px",marginRight:"4px",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"0.75rem",fontWeight:"bold",background:N,color:"#fff",transition:"opacity 0.2s"}),Ke={display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px",gap:"4px",flexWrap:"wrap"},fe=N=>({padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",fontWeight:N?"bold":"normal",background:N?"#0e2a47":"#f1f1f1",color:N?"#fff":"#333",transition:"all 0.2s"}),Ge={padding:"6px 12px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",background:"#fff",color:"#0e2a47",transition:"all 0.2s"},vt={fontSize:"0.85rem",color:"#666",marginTop:"10px",textAlign:"center"},jt={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:g?"flex":"none",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},Tt={background:"#fff",borderRadius:"8px",padding:"24px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},O={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},D={background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"background-color 0.2s"};return r.jsxs("div",{style:X,children:[r.jsx(sg,{}),r.jsxs("div",{style:oe,children:[r.jsx("h2",{style:ve,children:"Reservations"}),r.jsx("button",{style:Ee,onClick:W,onMouseOver:N=>N.target.style.backgroundColor="#d4a435",onMouseOut:N=>N.target.style.backgroundColor="#e5b038",children:"+ New"})]}),r.jsxs("div",{style:z,children:[r.jsx("input",{type:"text",placeholder:"Search customer, plate, driver, or phone...",value:a,onChange:N=>{c(N.target.value),m(1)},style:Z}),r.jsxs("select",{value:d,onChange:N=>{f(N.target.value),m(1)},style:{padding:"8px 10px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"0.85rem",minWidth:"120px"},children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"upcoming",children:"Upcoming"}),r.jsx("option",{value:"ongoing",children:"Ongoing"}),r.jsx("option",{value:"completed",children:"Completed"})]})]}),i?r.jsx("p",{style:{textAlign:"center",color:"#666"},children:"Loading reservations..."}):P.length===0?r.jsx("p",{style:{textAlign:"center",color:"#666"},children:"No reservations found."}):r.jsxs(r.Fragment,{children:[r.jsxs("table",{style:ee,children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:ie,children:"Customer"}),r.jsx("th",{style:ie,children:"Contact Number"}),r.jsx("th",{style:ie,children:"Vehicle Plate"}),r.jsx("th",{style:ie,children:"Start Date"}),r.jsx("th",{style:ie,children:"End Date"}),r.jsx("th",{style:ie,children:"Driver"}),r.jsx("th",{style:ie,children:"Status"}),r.jsx("th",{style:ie,children:"Actions"})]})}),r.jsx("tbody",{children:R.map(N=>{const $=N.status||I(N.startdate,N.enddate),J=$==="pending"?"upcoming":$==="active"?"ongoing":$==="completed"?"completed":$,G=w(N.driver_id),re=b(N.contact_number||"");return r.jsxs("tr",{children:[r.jsx("td",{style:de,children:N.customer_name||"-"}),r.jsx("td",{style:de,children:re}),r.jsx("td",{style:de,children:N.plate_number||"-"}),r.jsx("td",{style:de,children:new Date(N.startdate).toLocaleDateString()}),r.jsx("td",{style:de,children:new Date(N.enddate).toLocaleDateString()}),r.jsx("td",{style:de,children:G}),r.jsx("td",{style:de,children:r.jsx("span",{style:Ce(J),children:J.charAt(0).toUpperCase()+J.slice(1)})}),r.jsxs("td",{style:de,children:[r.jsx("button",{style:te("#3b82f6"),onClick:()=>K(N),onMouseOver:he=>he.target.style.opacity="0.8",onMouseOut:he=>he.target.style.opacity="1",children:"Edit"}),r.jsx("button",{style:te("#ef4444"),onClick:()=>E(N.id),onMouseOver:he=>he.target.style.opacity="0.8",onMouseOut:he=>he.target.style.opacity="1",children:"Delete"})]})]},N.id)})})]}),r.jsxs("div",{style:vt,children:["Showing ",U+1," to ",Math.min(H,P.length)," of ",P.length," reservations"]}),_>1&&r.jsxs("div",{style:Ke,children:[r.jsx("button",{style:Ge,onClick:()=>T(Math.max(1,u-1)),disabled:u===1,onMouseOver:N=>!N.target.disabled&&(N.target.style.backgroundColor="#f5f5f5"),onMouseOut:N=>!N.target.disabled&&(N.target.style.backgroundColor="#fff"),children:"Previous"}),Y().map(N=>r.jsx("button",{style:fe(N===u),onClick:()=>T(N),onMouseOver:$=>$.target.style.opacity="0.8",onMouseOut:$=>$.target.style.opacity="1",children:N},N)),r.jsx("button",{style:Ge,onClick:()=>T(Math.min(_,u+1)),disabled:u===_,onMouseOver:N=>!N.target.disabled&&(N.target.style.backgroundColor="#f5f5f5"),onMouseOut:N=>!N.target.disabled&&(N.target.style.backgroundColor="#fff"),children:"Next"})]})]}),r.jsx("div",{style:jt,onClick:V,children:r.jsxs("div",{style:Tt,onClick:N=>N.stopPropagation(),children:[r.jsxs("div",{style:O,children:[r.jsx("h2",{style:ve,children:y?"Edit Reservation":"Create New Reservation"}),r.jsx("button",{style:D,onClick:V,onMouseOver:N=>N.target.style.backgroundColor="#f5f5f5",onMouseOut:N=>N.target.style.backgroundColor="transparent",children:""})]}),r.jsx(lg,{reservation:y,onSuccess:L})]})})]})}function og({vehicle:e,onSuccess:t}){const[n,l]=h.useState({brand:(e==null?void 0:e.brand)||"",model:(e==null?void 0:e.model)||"",plate_number:(e==null?void 0:e.plate_number)||"",vehicle_type:(e==null?void 0:e.vehicle_type)||"sedan",status:(e==null?void 0:e.status)||"available"}),[s,i]=h.useState(!1),[o,a]=h.useState(""),c=v=>{const{name:C,value:w}=v.target;l(b=>({...b,[C]:w})),a("")},d=async v=>{if(v.preventDefault(),!n.brand||!n.model||!n.plate_number){a("Please fill in all required fields");return}try{i(!0);const C=localStorage.getItem("jmtc_token"),w=e?"/.netlify/functions/updateVehicle":"/.netlify/functions/createVehicle",b=e?{...n,id:e.id}:n,L=await fetch(w,{method:e?"PUT":"POST",headers:{"Content-Type":"application/json",...C&&{Authorization:`Bearer ${C}`}},body:JSON.stringify(b)});if(!L.ok){const I=await L.json();throw new Error(I.error||"Failed to save vehicle")}alert(e?"Vehicle updated successfully!":"Vehicle created successfully!"),t()}catch(C){console.error("Error saving vehicle:",C),a(C.message||"Failed to save vehicle")}finally{i(!1)}},f={background:"#fff",borderRadius:"6px",padding:"16px",maxWidth:"500px"},g={fontSize:"1.2rem",fontWeight:"bold",color:"#0e2a47",marginBottom:"16px"},x={marginBottom:"12px"},y={display:"block",fontSize:"0.85rem",fontWeight:"bold",color:"#0e2a47",marginBottom:"4px"},j={width:"100%",padding:"8px 10px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"0.85rem",boxSizing:"border-box"},S={...j},k={display:"flex",gap:"8px",marginTop:"16px"},u={flex:1,padding:"8px",background:"#e5b038",color:"#0e2a47",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"0.85rem"},m={flex:1,padding:"8px",background:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"0.85rem"},p={padding:"8px",background:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"12px",fontSize:"0.8rem"};return r.jsxs("div",{style:f,children:[r.jsx("h2",{style:g,children:e?"Edit Vehicle":"Create New Vehicle"}),o&&r.jsx("div",{style:p,children:o}),r.jsxs("form",{onSubmit:d,children:[r.jsxs("div",{style:x,children:[r.jsx("label",{style:y,children:"Brand *"}),r.jsx("input",{type:"text",name:"brand",value:n.brand,onChange:c,style:j,placeholder:"e.g., Toyota, Honda",required:!0})]}),r.jsxs("div",{style:x,children:[r.jsx("label",{style:y,children:"Model *"}),r.jsx("input",{type:"text",name:"model",value:n.model,onChange:c,style:j,placeholder:"e.g., Camry, Civic",required:!0})]}),r.jsxs("div",{style:x,children:[r.jsx("label",{style:y,children:"Plate Number *"}),r.jsx("input",{type:"text",name:"plate_number",value:n.plate_number,onChange:c,style:j,placeholder:"e.g., ABC-1234",required:!0})]}),r.jsxs("div",{style:x,children:[r.jsx("label",{style:y,children:"Vehicle Type"}),r.jsxs("select",{name:"vehicle_type",value:n.vehicle_type,onChange:c,style:S,children:[r.jsx("option",{value:"sedan",children:"Sedan"}),r.jsx("option",{value:"suv",children:"SUV"}),r.jsx("option",{value:"truck",children:"Truck"}),r.jsx("option",{value:"van",children:"Van"}),r.jsx("option",{value:"hatchback",children:"Hatchback"}),r.jsx("option",{value:"coupe",children:"Coupe"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{style:x,children:[r.jsx("label",{style:y,children:"Status"}),r.jsxs("select",{name:"status",value:n.status,onChange:c,style:S,children:[r.jsx("option",{value:"available",children:"Available"}),r.jsx("option",{value:"in_shop",children:"In Shop"})]})]}),r.jsxs("div",{style:k,children:[r.jsx("button",{type:"submit",style:u,disabled:s,onMouseOver:v=>{s||(v.target.style.background="#d4a435")},onMouseOut:v=>{s||(v.target.style.background="#e5b038")},children:s?"Saving...":e?"Update Vehicle":"Create Vehicle"}),r.jsx("button",{type:"button",style:m,onClick:t,disabled:s,onMouseOver:v=>{s||(v.target.style.background="#4b5563")},onMouseOut:v=>{s||(v.target.style.background="#6b7280")},children:"Cancel"})]})]})]})}function ag(){const[e,t]=h.useState({total:0,active:0,inShop:0,archived:0}),[n,l]=h.useState(!0);h.useEffect(()=>{s()},[]);const s=async()=>{try{l(!0);const d=localStorage.getItem("jmtc_token"),f=await fetch("/.netlify/functions/getVehicles",{headers:d?{Authorization:`Bearer ${d}`}:{}});if(!f.ok)throw new Error("Failed to fetch vehicles");const x=(await f.json()).vehicles||[],y=x.length,j=x.filter(u=>u.status==="available"&&!u.archived).length,S=x.filter(u=>u.status==="in_shop"&&!u.archived).length,k=x.filter(u=>u.archived).length;t({total:y,active:j,inShop:S,archived:k})}catch(d){console.error("Error fetching stats:",d)}finally{l(!1)}},i={background:"#fff",padding:"16px",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.08)",flex:1,minWidth:"140px"},o={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px",marginBottom:"20px"},a={fontSize:"1.8rem",fontWeight:"bold",color:"#0e2a47",margin:"8px 0"},c={fontSize:"0.85rem",color:"#666",fontWeight:"500"};return r.jsxs("div",{children:[r.jsx("h2",{style:{fontSize:"1.3rem",marginBottom:"16px",color:"#0e2a47"},children:"Dashboard"}),r.jsxs("div",{style:o,children:[r.jsxs("div",{style:{...i,borderTop:"4px solid #0e2a47"},children:[r.jsx("div",{style:c,children:"Total Vehicles"}),r.jsx("div",{style:a,children:e.total})]}),r.jsxs("div",{style:{...i,borderTop:"4px solid #10b981"},children:[r.jsx("div",{style:c,children:"Active"}),r.jsx("div",{style:a,children:e.active})]}),r.jsxs("div",{style:{...i,borderTop:"4px solid #ef4444"},children:[r.jsx("div",{style:c,children:"In Shop"}),r.jsx("div",{style:a,children:e.inShop})]}),r.jsxs("div",{style:{...i,borderTop:"4px solid #9ca3af"},children:[r.jsx("div",{style:c,children:"Archived"}),r.jsx("div",{style:a,children:e.archived})]})]})]})}function cg({user:e}){const[t,n]=h.useState([]),[l,s]=h.useState(!0),[i,o]=h.useState(""),[a,c]=h.useState("all"),[d,f]=h.useState(!1),[g,x]=h.useState(null),[y,j]=h.useState(0);h.useEffect(()=>{S()},[y]);const S=async()=>{try{s(!0);const _=localStorage.getItem("jmtc_token"),H=await fetch("/.netlify/functions/getVehicles",{headers:_?{Authorization:`Bearer ${_}`}:{}});if(!H.ok)throw new Error("Failed to fetch vehicles");const U=await H.json();n(U.vehicles||[])}catch(_){console.error("Error fetching vehicles:",_),alert("Failed to load vehicles. Please try again.")}finally{s(!1)}},k=async _=>{if(confirm("Are you sure you want to archive this vehicle?"))try{const H=localStorage.getItem("jmtc_token");if(!(await fetch("/.netlify/functions/deleteVehicle",{method:"DELETE",headers:{"Content-Type":"application/json",...H&&{Authorization:`Bearer ${H}`}},body:JSON.stringify({vehicle_id:_})})).ok)throw new Error("Failed to delete vehicle");j(R=>R+1),alert("Vehicle archived successfully!")}catch(H){console.error("Error deleting vehicle:",H),alert("Failed to archive vehicle. Please try again.")}},u=()=>{f(!1),x(null)},m=()=>{j(_=>_+1),u()};let p=t.filter(_=>{var U,R,T;const H=((U=_.plate_number)==null?void 0:U.toLowerCase().includes(i.toLowerCase()))||((R=_.brand)==null?void 0:R.toLowerCase().includes(i.toLowerCase()))||((T=_.model)==null?void 0:T.toLowerCase().includes(i.toLowerCase()));return a==="all"?H:a==="archived"?H&&_.archived:H&&_.status===a&&!_.archived});const v={background:"#fff",borderRadius:"6px",padding:"16px"},C={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"12px"},w={fontSize:"1.3rem",fontWeight:"bold",color:"#0e2a47"},b={padding:"8px 16px",background:"#e5b038",color:"#0e2a47",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"0.85rem"},E={display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},L={padding:"8px 10px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"0.85rem",flex:1,minWidth:"150px"},I={width:"100%",borderCollapse:"collapse",fontSize:"0.85rem"},K={textAlign:"left",padding:"8px",background:"#0e2a47",color:"#fff",fontWeight:"bold",fontSize:"0.8rem"},W={padding:"8px",borderBottom:"1px solid #eee"},V=_=>({padding:"3px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"bold",background:_==="available"?"#10b981":_==="in_shop"?"#ef4444":"#9ca3af",color:"#fff"}),P=_=>({padding:"4px 8px",marginRight:"4px",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"0.75rem",fontWeight:"bold",background:_,color:"#fff"});return d?r.jsxs("div",{children:[r.jsx("button",{style:{...b,marginBottom:"24px"},onClick:u,children:" Back to Vehicles"}),r.jsx(og,{vehicle:g?t.find(_=>_.id===g):null,onSuccess:m})]}):r.jsxs("div",{style:v,children:[r.jsx(ag,{}),r.jsxs("div",{style:C,children:[r.jsx("h2",{style:w,children:"Vehicles"}),r.jsx("button",{style:b,onClick:()=>f(!0),children:"+ New"})]}),r.jsxs("div",{style:E,children:[r.jsx("input",{type:"text",placeholder:"Search plate, brand or model...",value:i,onChange:_=>o(_.target.value),style:L}),r.jsxs("select",{value:a,onChange:_=>c(_.target.value),style:{padding:"8px 10px",borderRadius:"4px",border:"1px solid #ddd",fontSize:"0.85rem"},children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"available",children:"Available"}),r.jsx("option",{value:"in_shop",children:"In Shop"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),l?r.jsx("p",{style:{textAlign:"center",color:"#666"},children:"Loading vehicles..."}):p.length===0?r.jsx("p",{style:{textAlign:"center",color:"#666"},children:"No vehicles found."}):r.jsxs("table",{style:I,children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{style:K,children:"Plate Number"}),r.jsx("th",{style:K,children:"Brand"}),r.jsx("th",{style:K,children:"Model"}),r.jsx("th",{style:K,children:"Type"}),r.jsx("th",{style:K,children:"Status"}),r.jsx("th",{style:K,children:"Odometer"}),r.jsx("th",{style:K,children:"Actions"})]})}),r.jsx("tbody",{children:p.map(_=>r.jsxs("tr",{children:[r.jsx("td",{style:W,children:_.plate_number}),r.jsx("td",{style:W,children:_.brand}),r.jsx("td",{style:W,children:_.model}),r.jsx("td",{style:W,children:_.vehicle_type}),r.jsx("td",{style:W,children:r.jsx("span",{style:V(_.status),children:_.status.charAt(0).toUpperCase()+_.status.slice(1).replace("_"," ")})}),r.jsx("td",{style:W,children:_.latest_odometer?`${_.latest_odometer} km`:"N/A"}),r.jsxs("td",{style:W,children:[r.jsx("button",{style:P("#3b82f6"),onClick:()=>{x(_.id),f(!0)},children:"Edit"}),r.jsx("button",{style:P("#ef4444"),onClick:()=>k(_.id),children:_.archived?"Restore":"Archive"})]})]},_.id))})]})]})}function dg(){const{user:e,loading:t}=it(),n=Gt(),[l,s]=h.useState("reservations");return h.useEffect(()=>{t||(e?e.role.toLowerCase()!=="manager"&&(e.role==="Admin"?n("/admin",{replace:!0}):e.role==="Driver"?n("/driver",{replace:!0}):e.role==="Shop"?n("/shop",{replace:!0}):n("/",{replace:!0})):n("/",{replace:!0}))},[e,t,n]),t||!e||e.role.toLowerCase()!=="manager"?r.jsx("div",{className:"w-full h-screen flex items-center justify-center text-2xl font-bold",children:"Loading Manager Dashboard..."}):r.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-gray-100 font-sans",children:[r.jsx(Fs,{userRole:"manager",activeSection:l,onNavigate:s}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(Ds,{}),r.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[l==="reservations"&&r.jsx(ig,{user:e}),l==="vehicles"&&r.jsx(cg,{user:e})]})]})]})}function ug(){return r.jsx(of,{children:r.jsx(ix,{children:r.jsxs(Am,{children:[r.jsx(Jt,{path:"/login",element:r.jsx(xx,{})}),r.jsx(Jt,{path:"/driver/*",element:r.jsx(Il,{allowedRoles:["Driver"],children:r.jsx(Ex,{})})}),r.jsx(Jt,{path:"/shop/*",element:r.jsx(Il,{allowedRoles:["Shop"],children:r.jsx(Fx,{})})}),r.jsx(Jt,{path:"/admin/*",element:r.jsx(Il,{allowedRoles:["Admin"],children:r.jsx(rg,{})})}),r.jsx(Jt,{path:"/manager/*",element:r.jsx(Il,{allowedRoles:["Manager"],children:r.jsx(dg,{})})}),r.jsx(Jt,{path:"/",element:r.jsx(fg,{})}),r.jsx(Jt,{path:"*",element:r.jsx(et,{to:"/login",replace:!0})})]})})})}function fg(){const{user:e,loading:t}=it();if(t)return r.jsx("div",{className:"flex items-center justify-center h-screen",children:r.jsx("div",{className:"text-xl",children:"Loading..."})});if(!e)return r.jsx(et,{to:"/login",replace:!0});switch(e.role){case"Admin":case"admin":return r.jsx(et,{to:"/admin",replace:!0});case"Driver":case"driver":return r.jsx(et,{to:"/driver",replace:!0});case"Shop":case"shop":return r.jsx(et,{to:"/shop",replace:!0});case"Manager":case"manager":return r.jsx(et,{to:"/manager",replace:!0});default:return r.jsx(et,{to:"/login",replace:!0})}}mi.createRoot(document.getElementById("root")).render(r.jsx(Wc.StrictMode,{children:r.jsx(of,{children:r.jsx(ug,{})})}));
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
